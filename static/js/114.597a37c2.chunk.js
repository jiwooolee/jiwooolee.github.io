"use strict";(self.webpackChunkgb_basket=self.webpackChunkgb_basket||[]).push([[114],{114:function(e,t,n){n.r(t),n.d(t,{default:function(){return O}});var r=n(1413),l=n(4165),a=n(5861),u=n(9439),o=n(2791),s=n(4045),i=n(5671),f=n(6106),d=n(914),c=n(1046),b=n(8320),v=n(9555),h=n(3218),p=n(8715),x=n(9529),Z=n(184),g=function(e){var t=e.playerList,n=e.setSelectedPlayer,r=(0,o.useState)([]),l=(0,u.Z)(r,2),a=l[0],s=l[1];(0,o.useEffect)((function(){t.length>0&&s(t.map((function(e){return{key:e,icon:(0,Z.jsx)(x.Z,{}),label:e}})))}),[t]);return(0,Z.jsx)(p.Z,{style:{height:"100vh",overflow:"auto",padding:"0 16px",border:"1px solid rgba(140, 140, 140, 0.35)"},dataSource:a,renderItem:function(e){return(0,Z.jsx)(p.Z.Item,{style:{cursor:"pointer"},onClick:function(){n(e.key)},children:(0,Z.jsxs)(c.Z,{children:[e.icon," ",e.label]})})}})},j=n(2029),w=n(9570),y=n(43),R=n(9286),m=n(2143),k=function(e,t){return["fg","twoPer","threePer"].includes(t.value)?(100*e[t.value]).toFixed(2)+"%":["twoTry","twoMade","threeTry","threeMade","totalRebound","offensiveRebound","defensiveRebound","assist","steal","block","turnOver","foul"].includes(t.value)?e[t.value].toFixed(2)+"\uac1c":["points","beff"].includes(t.value)?e[t.value].toFixed(2)+"\uc810":void 0},P=function(e,t){return["fg","twoPer","threePer"].includes(t.value)?100*e+"%":e},T=function(e){var t=e.finalRecord,n=e.defaultOption,l=e.loading,a=(0,o.useState)([]),s=(0,u.Z)(a,2),i=s[0],c=s[1],b=(0,o.useState)(!1),v=(0,u.Z)(b,2),p=v[0],x=v[1];(0,o.useEffect)((function(){t.length>0?c(t):c([])}),[t]);var g={data:i,padding:"auto",xField:"date",yField:n.value,point:{size:3,shape:"diamond",style:{fill:"white",stroke:"#5B8FF9"}},slider:{start:0,end:1},tooltip:{formatter:function(e){return{name:n.label,value:k(e,n)}}},yAxis:{label:{formatter:function(e){return P(e,n)}}}};return(0,Z.jsx)(d.Z,{span:!1===p?6:24,children:(0,Z.jsx)(h.Z,{type:"inner",title:n.label,size:"small",extra:(0,Z.jsx)(w.ZP,{icon:!1===p?(0,Z.jsx)(R.Z,{}):(0,Z.jsx)(m.Z,{}),onClick:function(){x((function(e){return!e}))}}),children:(0,Z.jsx)(f.Z,{gutter:[16,16],children:(0,Z.jsx)(d.Z,{span:24,children:(0,Z.jsx)(y.Z,{spinning:l,children:(0,Z.jsx)(j.Z,(0,r.Z)({},g))})})})})},n.value)},S=i.Z.Content,M=i.Z.Sider,O=function(){var e=(0,o.useState)([]),t=(0,u.Z)(e,2),n=t[0],p=t[1],j=(0,o.useState)([]),w=(0,u.Z)(j,2),y=w[0],R=w[1],m=(0,o.useState)(null),k=(0,u.Z)(m,2),P=k[0],O=k[1],F=(0,o.useState)([]),q=(0,u.Z)(F,2),C=q[0],E=q[1],I=(0,o.useState)([]),_=(0,u.Z)(I,2),z=_[0],B=_[1],L=(0,o.useState)("pq"),A=(0,u.Z)(L,2),N=A[0],V=A[1],D=(0,o.useState)(!1),G=(0,u.Z)(D,2),H=G[0],J=G[1];(0,o.useEffect)((function(){(0,a.Z)((0,l.Z)().mark((function e(){var t,n,r,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/excel/record.xlsx");case 2:return e.next=4,e.sent.arrayBuffer();case 4:t=e.sent,n=(0,s.ij)(t),r=n.Sheets[n.SheetNames[0]],a=s.P6.sheet_to_json(r),p(a);case 9:case"end":return e.stop()}}),e)})))()}),[]),(0,o.useEffect)((function(){if(n.length>0){var e=n.filter((function(e,t){return n.findIndex((function(t){return t.name===e.name}))===t}));R(e.map((function(e){return e.name})).sort((function(e,t){return e.localeCompare(t)})))}}),[n]),(0,o.useEffect)((function(){null!==P&&n.length>0&&(E(n.filter((function(e){return e.name===P}))),B([]))}),[P,n,N]),(0,o.useEffect)((function(){if(C.length>0){J(!0);for(var e=C,t=[],n=function(n){if(0===n)t.push(e[n]);else if(void 0===t.find((function(e){return e.date===C[n].date})))t.push(C[n]);else{var l=t.findIndex((function(e){return e.date===C[n].date}));t[l]=(0,r.Z)((0,r.Z)({},t[l]),{},{assist:t[l].assist+C[n].assist,beff:t[l].beff+C[n].beff,block:t[l].block+C[n].block,defensiveRebound:t[l].defensiveRebound+C[n].defensiveRebound,fg:t[l].fg+C[n].fg,foul:t[l].foul+C[n].foul,offensiveRebound:t[l].offensiveRebound+C[n].offensiveRebound,points:t[l].points+C[n].points,pq:t[l].pq+C[n].pq,steal:t[l].steal+C[n].steal,threeMade:t[l].threeMade+C[n].threeMade,threePer:t[l].threePer+C[n].threePer,threeTry:t[l].threeTry+C[n].threeTry,totalRebound:t[l].totalRebound+C[n].totalRebound,turnOver:t[l].turnOver+C[n].turnOver,twoMade:t[l].twoMade+C[n].twoMade,twoPer:t[l].twoPer+C[n].twoPer,twoTry:t[l].twoTry+C[n].twoTry})}},l=0;l<C.length;l++)n(l);B(t.map((function(e){var t="pq"===N?e[N]:N;return(0,r.Z)((0,r.Z)({},e),{},{assist:e.assist/t,beff:e.beff/t,block:e.block/t,defensiveRebound:e.defensiveRebound/t,fg:e.fg/t,foul:e.foul/t,offensiveRebound:e.offensiveRebound/t,points:e.points/t,steal:e.steal/t,threeMade:e.threeMade/t,threePer:e.threePer/t,threeTry:e.threeTry/t,totalRebound:e.totalRebound/t,turnOver:e.turnOver/t,twoMade:e.twoMade/t,twoPer:e.twoPer/t,twoTry:e.twoTry/t})}))),setTimeout((function(){J(!1)}),1e3)}}),[C]);var K=function(e){V(e),E([]),B([])};return(0,Z.jsxs)(i.Z,{children:[(0,Z.jsx)(M,{style:{background:"white"},children:(0,Z.jsx)(g,{playerList:y,setSelectedPlayer:O})}),(0,Z.jsx)(S,{children:(0,Z.jsx)(h.Z,{title:(0,Z.jsxs)(f.Z,{justify:"space-between",children:[(0,Z.jsx)(d.Z,{span:4,children:(0,Z.jsxs)(c.Z,{size:"large",children:[(0,Z.jsx)(b.Z.Text,{strong:!0,children:"Record"}),z.length>0?(0,Z.jsxs)(b.Z.Text,{strong:!0,children:[(0,Z.jsx)(x.Z,{}),z[0].name]}):(0,Z.jsx)(Z.Fragment,{})]})}),(0,Z.jsx)(d.Z,{span:4,children:(0,Z.jsx)(v.Z,{style:{width:"100%"},onChange:K,defaultValue:"pq",options:[{value:"pq",label:"\ucffc\ud130"},{value:2.7,label:"\uacbd\uae30"}]})})]}),children:(0,Z.jsx)(f.Z,{gutter:[16,16],children:[{value:"fg",label:"\uc57c\ud22c\uc728"},{value:"twoTry",label:"2\uc810 \uc2dc\ub3c4"},{value:"twoMade",label:"2\uc810 \uc131\uacf5"},{value:"twoPer",label:"2\uc810 \uc131\uacf5\ub960"},{value:"threeTry",label:"3\uc810 \uc2dc\ub3c4"},{value:"threeMade",label:"3\uc810 \uc131\uacf5"},{value:"threePer",label:"3\uc810 \uc131\uacf5\ub960"},{value:"points",label:"\ub4dd\uc810"},{value:"totalRebound",label:"\ucd1d \ub9ac\ubc14\uc6b4\ub4dc"},{value:"offensiveRebound",label:"\uacf5\uaca9 \ub9ac\ubc14\uc6b4\ub4dc"},{value:"defensiveRebound",label:"\uc218\ube44 \ub9ac\ubc14\uc6b4\ub4dc"},{value:"assist",label:"\uc5b4\uc2dc\uc2a4\ud2b8"},{value:"steal",label:"\uc2a4\ud2f8"},{value:"block",label:"\ube14\ub77d"},{value:"turnOver",label:"\ud134\uc624\ubc84"},{value:"foul",label:"\ud30c\uc6b8"},{value:"beff",label:"\uc885\ud569 \uc9c0\ud45c"}].map((function(e){return(0,Z.jsx)(T,{finalRecord:z,defaultOption:e,loading:H},e.value)}))})})})]})}}}]);
//# sourceMappingURL=114.597a37c2.chunk.js.map