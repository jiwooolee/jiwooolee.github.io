/*! For license information please see 405.ae5da5dc.chunk.js.LICENSE.txt */
(self.webpackChunkgb_basket=self.webpackChunkgb_basket||[]).push([[405],{9529:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});var r=n(7462),i=n(2791),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},o=n(4291),s=function(t,e){return i.createElement(o.Z,(0,r.Z)({},t,{ref:e,icon:a}))};var l=i.forwardRef(s)},2029:function(t,e,n){"use strict";n.d(e,{Z:function(){return RF}});var r={};n.r(r),n.d(r,{assign:function(){return re},default:function(){return Ce},defaultI18n:function(){return se},format:function(){return we},parse:function(){return Se},setGlobalDateI18n:function(){return ce},setGlobalDateMasks:function(){return be}});var i={};n.r(i),n.d(i,{Arc:function(){return Vr},DataMarker:function(){return $r},DataRegion:function(){return Zr},Html:function(){return si},Image:function(){return jr},Line:function(){return Nr},Region:function(){return Wr},RegionFilter:function(){return Jr},Shape:function(){return ti},Text:function(){return zr}});var a={};n.r(a),n.d(a,{ellipsisHead:function(){return pi},ellipsisMiddle:function(){return gi},ellipsisTail:function(){return di},getDefault:function(){return fi}});var o={};n.r(o),n.d(o,{equidistance:function(){return Ti},equidistanceWithReverseBoth:function(){return Ei},getDefault:function(){return bi},reserveBoth:function(){return Ci},reserveFirst:function(){return wi},reserveLast:function(){return Si}});var s={};n.r(s),n.d(s,{fixedAngle:function(){return Ai},getDefault:function(){return Mi},unfixedAngle:function(){return Oi}});var l={};n.r(l),n.d(l,{autoEllipsis:function(){return a},autoHide:function(){return o},autoRotate:function(){return s}});var c={};n.r(c),n.d(c,{Base:function(){return Bi},Circle:function(){return zi},Html:function(){return ji},Line:function(){return Ni}});var u={};n.r(u),n.d(u,{CONTAINER_CLASS:function(){return ha},CROSSHAIR_X:function(){return ma},CROSSHAIR_Y:function(){return xa},LIST_CLASS:function(){return pa},LIST_ITEM_CLASS:function(){return da},MARKER_CLASS:function(){return ga},NAME_CLASS:function(){return ya},TITLE_CLASS:function(){return fa},VALUE_CLASS:function(){return va}});var h={};n.r(h),n.d(h,{Base:function(){return Eu},Circle:function(){return Mu},Ellipse:function(){return Fu},Image:function(){return Du},Line:function(){return _u},Marker:function(){return zu},Path:function(){return Ku},Polygon:function(){return th},Polyline:function(){return nh},Rect:function(){return ih},Text:function(){return oh}});var f={};n.r(f),n.d(f,{Canvas:function(){return hh},Group:function(){return Cu},Shape:function(){return h},getArcParams:function(){return eu},version:function(){return fh}});var p={};n.r(p),n.d(p,{Base:function(){return Ah},Circle:function(){return Fh},Dom:function(){return Ph},Ellipse:function(){return Lh},Image:function(){return Bh},Line:function(){return Nh},Marker:function(){return Vh},Path:function(){return Wh},Polygon:function(){return jh},Polyline:function(){return $h},Rect:function(){return Zh},Text:function(){return nf}});var d={};n.r(d),n.d(d,{Canvas:function(){return Sf},Group:function(){return kh},Shape:function(){return p},version:function(){return Cf}});var g={};n.r(g),n.d(g,{cluster:function(){return Qk},hierarchy:function(){return pT},pack:function(){return rT},packEnclose:function(){return UC},packSiblings:function(){return JC},partition:function(){return Xk},stratify:function(){return iM},tree:function(){return hM},treemap:function(){return vM},treemapBinary:function(){return yM},treemapDice:function(){return jk},treemapResquarify:function(){return xM},treemapSlice:function(){return fM},treemapSliceDice:function(){return mM},treemapSquarify:function(){return gM}});var v=n(2791),y=function(t,e){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},y(t,e)};function m(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}y(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var x=function(){return x=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},x.apply(this,arguments)};function b(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function w(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{l(r.next(t))}catch(e){a(e)}}function s(t){try{l(r.throw(t))}catch(e){a(e)}}function l(t){t.done?i(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(o,s)}l((r=r.apply(t,e||[])).next())}))}function S(t,e){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(l){s=[6,l],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}Object.create;function C(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function T(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,a=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function E(t,e,n){if(n||2===arguments.length)for(var r,i=0,a=e.length;i<a;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var k,M,A,O=n(8696);!function(t){t.FORE="fore",t.MID="mid",t.BG="bg"}(k||(k={})),function(t){t.TOP="top",t.TOP_LEFT="top-left",t.TOP_RIGHT="top-right",t.RIGHT="right",t.RIGHT_TOP="right-top",t.RIGHT_BOTTOM="right-bottom",t.LEFT="left",t.LEFT_TOP="left-top",t.LEFT_BOTTOM="left-bottom",t.BOTTOM="bottom",t.BOTTOM_LEFT="bottom-left",t.BOTTOM_RIGHT="bottom-right",t.RADIUS="radius",t.CIRCLE="circle",t.NONE="none"}(M||(M={})),function(t){t.AXIS="axis",t.GRID="grid",t.LEGEND="legend",t.TOOLTIP="tooltip",t.ANNOTATION="annotation",t.SLIDER="slider",t.SCROLLBAR="scrollbar",t.OTHER="other"}(A||(A={}));var F,I,P,D,L=3,R=2,B=1;!function(t){t.BEFORE_RENDER="beforerender",t.AFTER_RENDER="afterrender",t.BEFORE_PAINT="beforepaint",t.AFTER_PAINT="afterpaint",t.BEFORE_CHANGE_DATA="beforechangedata",t.AFTER_CHANGE_DATA="afterchangedata",t.BEFORE_CLEAR="beforeclear",t.AFTER_CLEAR="afterclear",t.BEFORE_DESTROY="beforedestroy",t.BEFORE_CHANGE_SIZE="beforechangesize",t.AFTER_CHANGE_SIZE="afterchangesize"}(F||(F={})),function(t){t.BEFORE_DRAW_ANIMATE="beforeanimate",t.AFTER_DRAW_ANIMATE="afteranimate",t.BEFORE_RENDER_LABEL="beforerenderlabel",t.AFTER_RENDER_LABEL="afterrenderlabel"}(I||(I={})),function(t){t.MOUSE_ENTER="plot:mouseenter",t.MOUSE_DOWN="plot:mousedown",t.MOUSE_MOVE="plot:mousemove",t.MOUSE_UP="plot:mouseup",t.MOUSE_LEAVE="plot:mouseleave",t.TOUCH_START="plot:touchstart",t.TOUCH_MOVE="plot:touchmove",t.TOUCH_END="plot:touchend",t.TOUCH_CANCEL="plot:touchcancel",t.CLICK="plot:click",t.DBLCLICK="plot:dblclick",t.CONTEXTMENU="plot:contextmenu",t.LEAVE="plot:leave",t.ENTER="plot:enter"}(P||(P={})),function(t){t.ACTIVE="active",t.INACTIVE="inactive",t.SELECTED="selected",t.DEFAULT="default"}(D||(D={}));var _,N,U,z,H=["color","shape","size"],V="_origin",G={};function W(t,e){G[t]=e}function Y(t){_||(_=document.createElement("table"),N=document.createElement("tr"),U=/^\s*<(\w+|!)[^>]*>/,z={tr:document.createElement("tbody"),tbody:_,thead:_,tfoot:_,td:N,th:N,"*":document.createElement("div")});var e=U.test(t)&&RegExp.$1;e&&e in z||(e="*");var n=z[e];t="string"===typeof t?t.replace(/(^\s*)|(\s*$)/g,""):t,n.innerHTML=""+t;var r=n.childNodes[0];return r&&n.contains(r)&&n.removeChild(r),r}function j(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}function X(t){return"number"===typeof t&&!isNaN(t)}function $(t,e,n,r){var i=n,a=r;if(e){var o=function(t){var e=getComputedStyle(t);return{width:(t.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(t.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}(t);i=o.width?o.width:i,a=o.height?o.height:a}return{width:Math.max(X(i)?i:1,1),height:Math.max(X(a)?a:1,1)}}var q=n(2469),Z=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var r=e.visible,i=void 0===r||r;return n.visible=i,n}return m(e,t),e.prototype.show=function(){this.visible||this.changeVisible(!0)},e.prototype.hide=function(){this.visible&&this.changeVisible(!1)},e.prototype.destroy=function(){this.off(),this.destroyed=!0},e.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},e}(q.Z),K=Z,J=n(4494),Q=function(){function t(t){var e=t.xField,n=t.yField,r=t.adjustNames,i=void 0===r?["x","y"]:r,a=t.dimValuesMap;this.adjustNames=i,this.xField=e,this.yField=n,this.dimValuesMap=a}return t.prototype.isAdjust=function(t){return this.adjustNames.indexOf(t)>=0},t.prototype.getAdjustRange=function(t,e,n){var r,i,a=this.yField,o=n.indexOf(e),s=n.length;return!a&&this.isAdjust("y")?(r=0,i=1):s>1?(r=n[0===o?0:o-1],i=n[o===s-1?s-1:o+1],0!==o?r+=(e-r)/2:r-=(i-e)/2,o!==s-1?i-=(i-e)/2:i+=(e-n[s-2])/2):(r=0===e?0:e-.5,i=0===e?1:e+.5),{pre:r,next:i}},t.prototype.adjustData=function(t,e){var n=this,r=this.getDimValues(e);O.S6(t,(function(t,e){O.S6(r,(function(r,i){n.adjustDim(i,r,t,e)}))}))},t.prototype.groupData=function(t,e){return O.S6(t,(function(t){void 0===t[e]&&(t[e]=0)})),O.vM(t,e)},t.prototype.adjustDim=function(t,e,n,r){},t.prototype.getDimValues=function(t){var e=this.xField,n=this.yField,r=O.f0({},this.dimValuesMap),i=[];if(e&&this.isAdjust("x")&&i.push(e),n&&this.isAdjust("y")&&i.push(n),i.forEach((function(e){r&&r[e]||(r[e]=O.I(t,e).sort((function(t,e){return t-e})))})),!n&&this.isAdjust("y")){r.y=[0,1]}return r},t}(),tt=Q,et={},nt=function(t){return et[t.toLowerCase()]},rt=function(t,e){if(nt(t))throw new Error("Adjust type '"+t+"' existed.");et[t.toLowerCase()]=e},it=function(t,e){return it=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},it(t,e)};function at(t,e){function n(){this.constructor=t}it(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var ot=function(){return ot=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},ot.apply(this,arguments)};var st=function(t){function e(e){var n=t.call(this,e)||this;n.cacheMap={},n.adjustDataArray=[],n.mergeData=[];var r=e.marginRatio,i=void 0===r?.5:r,a=e.dodgeRatio,o=void 0===a?.5:a,s=e.dodgeBy,l=e.intervalPadding,c=e.dodgePadding,u=e.xDimensionLength,h=e.groupNum,f=e.defaultSize,p=e.maxColumnWidth,d=e.minColumnWidth,g=e.columnWidthRatio,v=e.customOffset;return n.marginRatio=i,n.dodgeRatio=o,n.dodgeBy=s,n.intervalPadding=l,n.dodgePadding=c,n.xDimensionLegenth=u,n.groupNum=h,n.defaultSize=f,n.maxColumnWidth=p,n.minColumnWidth=d,n.columnWidthRatio=g,n.customOffset=v,n}return at(e,t),e.prototype.process=function(t){var e=O.d9(t),n=O.xH(e),r=this.dodgeBy,i=r?O.ru(n,r):e;return this.cacheMap={},this.adjustDataArray=i,this.mergeData=n,this.adjustData(i,n),this.adjustDataArray=[],this.mergeData=[],e},e.prototype.adjustDim=function(t,e,n,r){var i=this,a=this.customOffset,o=this.getDistribution(t),s=this.groupData(n,t);return O.S6(s,(function(n,s){var l;l=1===e.length?{pre:e[0]-1,next:e[0]+1}:i.getAdjustRange(t,parseFloat(s),e),O.S6(n,(function(e){var n=e[t],s=o[n],c=s.indexOf(r);if(O.UM(a))e[t]=i.getDodgeOffset(l,c,s.length);else{var u=l.pre,h=l.next;e[t]=O.mf(a)?a(e,l):(u+h)/2+a}}))})),[]},e.prototype.getDodgeOffset=function(t,e,n){var r,i=this,a=i.dodgeRatio,o=i.marginRatio,s=i.intervalPadding,l=i.dodgePadding,c=t.pre,u=t.next,h=u-c;if(!O.UM(s)&&O.UM(l)&&s>=0)r=c+this.getIntervalOnlyOffset(n,e);else if(!O.UM(l)&&O.UM(s)&&l>=0){r=c+this.getDodgeOnlyOffset(n,e)}else if(!O.UM(s)&&!O.UM(l)&&s>=0&&l>=0){r=c+this.getIntervalAndDodgeOffset(n,e)}else{var f=h*a/n,p=o*f;r=(c+u)/2+(.5*(h-n*f-(n-1)*p)+((e+1)*f+e*p)-.5*f-.5*h)}return r},e.prototype.getIntervalOnlyOffset=function(t,e){var n=this,r=n.defaultSize,i=n.intervalPadding,a=n.xDimensionLegenth,o=n.groupNum,s=n.dodgeRatio,l=n.maxColumnWidth,c=n.minColumnWidth,u=n.columnWidthRatio,h=i/a,f=(1-(o-1)*h)/o*s/(t-1),p=((1-h*(o-1))/o-f*(t-1))/t;if(p=O.UM(u)?p:1/o/t*u,!O.UM(l)){var d=l/a;p=Math.min(p,d)}if(!O.UM(c)){var g=c/a;p=Math.max(p,g)}return((.5+e)*(p=r?r/a:p)+e*(f=((1-(o-1)*h)/o-t*p)/(t-1))+.5*h)*o-h/2},e.prototype.getDodgeOnlyOffset=function(t,e){var n=this,r=n.defaultSize,i=n.dodgePadding,a=n.xDimensionLegenth,o=n.groupNum,s=n.marginRatio,l=n.maxColumnWidth,c=n.minColumnWidth,u=n.columnWidthRatio,h=i/a,f=1*s/(o-1),p=((1-f*(o-1))/o-h*(t-1))/t;if(p=u?1/o/t*u:p,!O.UM(l)){var d=l/a;p=Math.min(p,d)}if(!O.UM(c)){var g=c/a;p=Math.max(p,g)}return((.5+e)*(p=r?r/a:p)+e*h+.5*(f=(1-(p*t+h*(t-1))*o)/(o-1)))*o-f/2},e.prototype.getIntervalAndDodgeOffset=function(t,e){var n=this,r=n.intervalPadding,i=n.dodgePadding,a=n.xDimensionLegenth,o=n.groupNum,s=r/a,l=i/a;return((.5+e)*(((1-s*(o-1))/o-l*(t-1))/t)+e*l+.5*s)*o-s/2},e.prototype.getDistribution=function(t){var e=this.adjustDataArray,n=this.cacheMap,r=n[t];return r||(r={},O.S6(e,(function(e,n){var i=O.I(e,t);i.length||i.push(0),O.S6(i,(function(t){r[t]||(r[t]=[]),r[t].push(n)}))})),n[t]=r),r},e}(tt),lt=st;var ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return at(e,t),e.prototype.process=function(t){var e=O.d9(t),n=O.xH(e);return this.adjustData(e,n),e},e.prototype.adjustDim=function(t,e,n){var r=this,i=this.groupData(n,t);return O.S6(i,(function(n,i){return r.adjustGroup(n,t,parseFloat(i),e)}))},e.prototype.getAdjustOffset=function(t){var e=t.pre,n=t.next,r=.05*(n-e);return function(t,e){return(e-t)*Math.random()+t}(e+r,n-r)},e.prototype.adjustGroup=function(t,e,n,r){var i=this,a=this.getAdjustRange(e,n,r);return O.S6(t,(function(t){t[e]=i.getAdjustOffset(a)})),t},e}(tt),ut=ct,ht=O.Ct,ft=function(t){function e(e){var n=t.call(this,e)||this,r=e.adjustNames,i=void 0===r?["y"]:r,a=e.height,o=void 0===a?NaN:a,s=e.size,l=void 0===s?10:s,c=e.reverseOrder,u=void 0!==c&&c;return n.adjustNames=i,n.height=o,n.size=l,n.reverseOrder=u,n}return at(e,t),e.prototype.process=function(t){var e=this.yField,n=this.reverseOrder,r=e?this.processStack(t):this.processOneDimStack(t);return n?this.reverse(r):r},e.prototype.reverse=function(t){return t.slice(0).reverse()},e.prototype.processStack=function(t){var e=this,n=e.xField,r=e.yField,i=e.reverseOrder?this.reverse(t):t,a=new ht,o=new ht;return i.map((function(t){return t.map((function(t){var e,i=O.U2(t,n,0),s=O.U2(t,[r]),l=i.toString();if(s=O.kJ(s)?s[1]:s,!O.UM(s)){var c=s>=0?a:o;c.has(l)||c.set(l,0);var u=c.get(l),h=s+u;return c.set(l,h),ot(ot({},t),((e={})[r]=[u,h],e))}return t}))}))},e.prototype.processOneDimStack=function(t){var e=this,n=this,r=n.xField,i=n.height,a=n.reverseOrder,o=a?this.reverse(t):t,s=new ht;return o.map((function(t){return t.map((function(t){var n,a=e.size,o=t[r],l=2*a/i;s.has(o)||s.set(o,l/2);var c=s.get(o);return s.set(o,c+l),ot(ot({},t),((n={}).y=c,n))}))}))},e}(tt),pt=ft,dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return at(e,t),e.prototype.process=function(t){var e=O.xH(t),n=this.xField,r=this.yField,i=this.getXValuesMaxMap(e),a=Math.max.apply(Math,Object.keys(i).map((function(t){return i[t]})));return O.UI(t,(function(t){return O.UI(t,(function(t){var e,o,s=t[r],l=t[n];if(O.kJ(s)){var c=(a-i[l])/2;return ot(ot({},t),((e={})[r]=O.UI(s,(function(t){return c+t})),e))}var u=(a-s)/2;return ot(ot({},t),((o={})[r]=[u,s+u],o))}))}))},e.prototype.getXValuesMaxMap=function(t){var e=this,n=this.xField,r=this.yField,i=O.vM(t,(function(t){return t[n]}));return O.Q8(i,(function(t){return e.getDimMaxValue(t,r)}))},e.prototype.getDimMaxValue=function(t,e){var n=O.UI(t,(function(t){return O.U2(t,e,[])})),r=O.xH(n);return Math.max.apply(Math,r)},e}(tt),gt=dt;rt("Dodge",lt),rt("Jitter",ut),rt("Stack",pt),rt("Symmetric",gt);var vt=function(t,e){return(0,O.HD)(e)?e:t.invert(t.scale(e))},yt=function(){function t(t){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(t)}return t.prototype.mapping=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.map((function(e,n){return t._toOriginParam(e,t.scales[n])}));return this.callback.apply(this,r)},t.prototype.getLinearValue=function(t){var e=this.values.length-1,n=Math.floor(e*t),r=e*t-n,i=this.values[n];return i+((n===e?i:this.values[n+1])-i)*r},t.prototype.getNames=function(){for(var t=this.scales,e=this.names,n=Math.min(t.length,e.length),r=[],i=0;i<n;i+=1)r.push(e[i]);return r},t.prototype.getFields=function(){return this.scales.map((function(t){return t.field}))},t.prototype.getScale=function(t){return this.scales[this.names.indexOf(t)]},t.prototype.defaultCallback=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 0===e.length?this.values:e.map((function(e,n){var r=t.scales[n];return"identity"===r.type?r.values[0]:t._getAttributeValue(r,e)}))},t.prototype._parseCfg=function(t){var e=this,n=t.type,r=void 0===n?"base":n,i=t.names,a=void 0===i?[]:i,o=t.scales,s=void 0===o?[]:o,l=t.values,c=void 0===l?[]:l,u=t.callback;this.type=r,this.scales=s,this.values=c,this.names=a,this.callback=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(u){var r=u.apply(void 0,t);if(!(0,O.UM)(r))return[r]}return e.defaultCallback.apply(e,t)}},t.prototype._getAttributeValue=function(t,e){if(t.isCategory&&!this.linear){var n=t.translate(e);return this.values[n%this.values.length]}var r=t.scale(e);return this.getLinearValue(r)},t.prototype._toOriginParam=function(t,e){return e.isLinear?t:(0,O.kJ)(t)?t.map((function(t){return vt(e,t)})):vt(e,t)},t}(),mt=yt,xt=function(t,e){return xt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},xt(t,e)};function bt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}xt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var wt=/rgba?\(([\s.,0-9]+)\)/,St=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Ct=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Tt=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,Et=function(t,e,n,r){return t[r]+(e[r]-t[r])*n};function kt(t){return"#"+Ot(t[0])+Ot(t[1])+Ot(t[2])}var Mt,At=function(t){return[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16)]},Ot=function(t){var e=Math.round(t).toString(16);return 1===e.length?"0"+e:e},Ft=function(t){if("#"===t[0]&&7===t.length)return t;Mt||(Mt=function(){var t=document.createElement("i");return t.title="Web Colour Picker",t.style.display="none",document.body.appendChild(t),t}()),Mt.style.color=t;var e=document.defaultView.getComputedStyle(Mt,"").getPropertyValue("color");return e=kt(wt.exec(e)[1].split(/\s*,\s*/).map((function(t){return Number(t)})))},It={rgb2arr:At,gradient:function(t){var e=(0,O.HD)(t)?t.split("-"):t,n=(0,O.UI)(e,(function(t){return At(-1===t.indexOf("#")?Ft(t):t)}));return function(t){return function(t,e){var n=isNaN(Number(e))||e<0?0:e>1?1:Number(e),r=t.length-1,i=Math.floor(r*n),a=r*n-i,o=t[i],s=i===r?o:t[i+1];return kt([Et(o,s,a,0),Et(o,s,a,1),Et(o,s,a,2)])}(n,t)}},toRGB:(0,O.HP)(Ft),toCSSGradient:function(t){if(/^[r,R,L,l]{1}[\s]*\(/.test(t)){var e,n=void 0;if("l"===t[0]){var r=+(i=St.exec(t))[1]+90;n=i[2],e="linear-gradient("+r+"deg, "}else if("r"===t[0]){var i;e="radial-gradient(",n=(i=Ct.exec(t))[4]}var a=n.match(Tt);return(0,O.S6)(a,(function(t,n){var r=t.split(":");e+=r[1]+" "+100*r[0]+"%",n!==a.length-1&&(e+=", ")})),e+=")"}return t}},Pt=function(t){function e(e){var n=t.call(this,e)||this;return n.type="color",n.names=["color"],(0,O.HD)(n.values)&&(n.linear=!0),n.gradient=It.gradient(n.values),n}return bt(e,t),e.prototype.getLinearValue=function(t){return this.gradient(t)},e}(mt),Dt=Pt,Lt=function(t){function e(e){var n=t.call(this,e)||this;return n.type="opacity",n.names=["opacity"],n}return bt(e,t),e}(mt),Rt=function(t){function e(e){var n=t.call(this,e)||this;return n.names=["x","y"],n.type="position",n}return bt(e,t),e.prototype.mapping=function(t,e){var n=this.scales,r=n[0],i=n[1];return(0,O.UM)(t)||(0,O.UM)(e)?[]:[(0,O.kJ)(t)?t.map((function(t){return r.scale(t)})):r.scale(t),(0,O.kJ)(e)?e.map((function(t){return i.scale(t)})):i.scale(e)]},e}(mt),Bt=Rt,_t=function(t){function e(e){var n=t.call(this,e)||this;return n.type="shape",n.names=["shape"],n}return bt(e,t),e.prototype.getLinearValue=function(t){var e=Math.round((this.values.length-1)*t);return this.values[e]},e}(mt),Nt=_t,Ut=function(t){function e(e){var n=t.call(this,e)||this;return n.type="size",n.names=["size"],n}return bt(e,t),e}(mt),zt={};function Ht(t,e){zt[t]=e}var Vt=function(){function t(t){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}return t.prototype.translate=function(t){return t},t.prototype.change=function(t){(0,O.f0)(this.__cfg__,t),this.init()},t.prototype.clone=function(){return this.constructor(this.__cfg__)},t.prototype.getTicks=function(){var t=this;return(0,O.UI)(this.ticks,(function(e,n){return(0,O.Kn)(e)?e:{text:t.getText(e,n),tickValue:e,value:t.scale(e)}}))},t.prototype.getText=function(t,e){var n=this.formatter,r=n?n(t,e):t;return(0,O.UM)(r)||!(0,O.mf)(r.toString)?"":r.toString()},t.prototype.getConfig=function(t){return this.__cfg__[t]},t.prototype.init=function(){(0,O.f0)(this,this.__cfg__),this.setDomain(),(0,O.xb)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},t.prototype.initCfg=function(){},t.prototype.setDomain=function(){},t.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if((0,O.HD)(t)){var n=zt[t];if(!n)throw new Error("There is no method to to calculate ticks!");e=n(this)}else(0,O.mf)(t)&&(e=t(this));return e},t.prototype.rangeMin=function(){return this.range[0]},t.prototype.rangeMax=function(){return this.range[1]},t.prototype.calcPercent=function(t,e,n){return(0,O.hj)(t)?(t-e)/(n-e):NaN},t.prototype.calcValue=function(t,e,n){return e+t*(n-e)},t}(),Gt=Vt,Wt=function(t,e){return Wt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Wt(t,e)};function Yt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Wt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var jt=function(){return jt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},jt.apply(this,arguments)};Object.create;function Xt(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}Object.create;"function"===typeof SuppressedError&&SuppressedError;var $t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cat",e.isCategory=!0,e}return Yt(e,t),e.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},e.prototype.translate=function(t){this.buildIndexMap();var e=this.translateIndexMap.get(t);return void 0===e&&(e=(0,O.hj)(t)?t:NaN),e},e.prototype.scale=function(t){var e=this.translate(t),n=this.calcPercent(e,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var e=this.max-this.min,n=this.calcPercent(t,this.rangeMin(),this.rangeMax()),r=Math.round(e*n)+this.min;return r<this.min||r>this.max?NaN:this.values[r]},e.prototype.getText=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=e;return(0,O.hj)(e)&&!this.values.includes(e)&&(i=this.values[i]),t.prototype.getText.apply(this,Xt([i],n))},e.prototype.initCfg=function(){this.tickMethod="cat"},e.prototype.setDomain=function(){if((0,O.UM)(this.getConfig("min"))&&(this.min=0),(0,O.UM)(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},e}(Gt),qt=$t,Zt=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Kt="\\d\\d?",Jt="\\d\\d",Qt="[^\\s]+",te=/\[([^]*?)\]/gm;function ee(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].substr(0,e));return n}var ne=function(t){return function(e,n){var r=n[t].map((function(t){return t.toLowerCase()})),i=r.indexOf(e.toLowerCase());return i>-1?i:null}};function re(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var a=i[r];for(var o in a)t[o]=a[o]}return t}var ie=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ae=["January","February","March","April","May","June","July","August","September","October","November","December"],oe=ee(ae,3),se={dayNamesShort:ee(ie,3),dayNames:ie,monthNamesShort:oe,monthNames:ae,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!==10?1:0)*t%10]}},le=re({},se),ce=function(t){return le=re(le,t)},ue=function(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},he=function(t,e){for(void 0===e&&(e=2),t=String(t);t.length<e;)t="0"+t;return t},fe={D:function(t){return String(t.getDate())},DD:function(t){return he(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return he(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return he(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return he(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return he(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return he(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return he(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return he(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return he(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return he(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return he(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+he(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+he(Math.floor(Math.abs(e)/60),2)+":"+he(Math.abs(e)%60,2)}},pe=function(t){return+t-1},de=[null,Kt],ge=[null,Qt],ve=["isPm",Qt,function(t,e){var n=t.toLowerCase();return n===e.amPm[0]?0:n===e.amPm[1]?1:null}],ye=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var n=60*+e[1]+parseInt(e[2],10);return"+"===e[0]?n:-n}return 0}],me={D:["day",Kt],DD:["day",Jt],Do:["day",Kt+Qt,function(t){return parseInt(t,10)}],M:["month",Kt,pe],MM:["month",Jt,pe],YY:["year",Jt,function(t){var e=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+t>68?e-1:e)+t)}],h:["hour",Kt,void 0,"isPm"],hh:["hour",Jt,void 0,"isPm"],H:["hour",Kt],HH:["hour",Jt],m:["minute",Kt],mm:["minute",Jt],s:["second",Kt],ss:["second",Jt],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(t){return 100*+t}],SS:["millisecond",Jt,function(t){return 10*+t}],SSS:["millisecond","\\d{3}"],d:de,dd:de,ddd:ge,dddd:ge,MMM:["month",Qt,ne("monthNamesShort")],MMMM:["month",Qt,ne("monthNames")],a:ve,A:ve,ZZ:ye,Z:ye},xe={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},be=function(t){return re(xe,t)},we=function(t,e,n){if(void 0===e&&(e=xe.default),void 0===n&&(n={}),"number"===typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");e=xe[e]||e;var r=[];e=e.replace(te,(function(t,e){return r.push(e),"@@@"}));var i=re(re({},le),n);return(e=e.replace(Zt,(function(e){return fe[e](t,i)}))).replace(/@@@/g,(function(){return r.shift()}))};function Se(t,e,n){if(void 0===n&&(n={}),"string"!==typeof e)throw new Error("Invalid format in fecha parse");if(e=xe[e]||e,t.length>1e3)return null;var r={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},i=[],a=[],o=e.replace(te,(function(t,e){return a.push(ue(e)),"@@@"})),s={},l={};o=ue(o).replace(Zt,(function(t){var e=me[t],n=e[0],r=e[1],a=e[3];if(s[n])throw new Error("Invalid format. "+n+" specified twice in format");return s[n]=!0,a&&(l[a]=!0),i.push(e),"("+r+")"})),Object.keys(l).forEach((function(t){if(!s[t])throw new Error("Invalid format. "+t+" is required in specified format")})),o=o.replace(/@@@/g,(function(){return a.shift()}));var c=t.match(new RegExp(o,"i"));if(!c)return null;for(var u,h=re(re({},le),n),f=1;f<c.length;f++){var p=i[f-1],d=p[0],g=p[2],v=g?g(c[f],h):+c[f];if(null==v)return null;r[d]=v}if(1===r.isPm&&null!=r.hour&&12!==+r.hour?r.hour=+r.hour+12:0===r.isPm&&12===+r.hour&&(r.hour=0),null==r.timezoneOffset){u=new Date(r.year,r.month,r.day,r.hour,r.minute,r.second,r.millisecond);for(var y=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],m=(f=0,y.length);f<m;f++)if(s[y[f][0]]&&r[y[f][0]]!==u[y[f][1]]())return null}else if(u=new Date(Date.UTC(r.year,r.month,r.day,r.hour,r.minute-r.timezoneOffset,r.second,r.millisecond)),r.month>11||r.month<0||r.day>31||r.day<1||r.hour>23||r.hour<0||r.minute>59||r.minute<0||r.second>59||r.second<0)return null;return u}var Ce={format:we,parse:Se,defaultI18n:se,setGlobalDateI18n:ce,setGlobalDateMasks:be};var Te="format";function Ee(t,e){return(r[Te]||Ce[Te])(t,e)}function ke(t){return(0,O.HD)(t)&&(t=t.indexOf("T")>0?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),(0,O.J_)(t)&&(t=t.getTime()),t}var Me=1e3,Ae=6e4,Oe=36e5,Fe=24*Oe,Ie=31*Fe,Pe=365*Fe,De=[["HH:mm:ss",Me],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",Ae],["HH:mm",6e5],["HH:mm",18e5],["HH",Oe],["HH",6*Oe],["HH",12*Oe],["YYYY-MM-DD",Fe],["YYYY-MM-DD",4*Fe],["YYYY-WW",7*Fe],["YYYY-MM",Ie],["YYYY-MM",4*Ie],["YYYY-MM",6*Ie],["YYYY",380*Fe]];function Le(t,e,n){var r,i=(r=function(t){return t[1]},function(t,e,n,i){for(var a=(0,O.UM)(n)?0:n,o=(0,O.UM)(i)?t.length:i;a<o;){var s=a+o>>>1;r(t[s])>e?o=s:a=s+1}return a})(De,(e-t)/n)-1,a=De[i];return i<0?a=De[0]:i>=De.length&&(a=(0,O.Z$)(De)),a}var Re=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="timeCat",e}return Yt(e,t),e.prototype.translate=function(t){t=ke(t);var e=this.values.indexOf(t);return-1===e&&(e=(0,O.hj)(t)&&t<this.values.length?t:NaN),e},e.prototype.getText=function(t,e){var n=this.translate(t);if(n>-1){var r=this.values[n],i=this.formatter;return r=i?i(r,e):Ee(r,this.mask)}return t},e.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},e.prototype.setDomain=function(){var e=this.values;(0,O.S6)(e,(function(t,n){e[n]=ke(t)})),e.sort((function(t,e){return t-e})),t.prototype.setDomain.call(this)},e}(qt),Be=Re,_e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isContinuous=!0,e}return Yt(e,t),e.prototype.scale=function(t){if((0,O.UM)(t))return NaN;var e=this.rangeMin(),n=this.rangeMax();return this.max===this.min?e:e+this.getScalePercent(t)*(n-e)},e.prototype.init=function(){t.prototype.init.call(this);var e=this.ticks,n=(0,O.YM)(e),r=(0,O.Z$)(e);n<this.min&&(this.min=n),r>this.max&&(this.max=r),(0,O.UM)(this.minLimit)||(this.min=n),(0,O.UM)(this.maxLimit)||(this.max=r)},e.prototype.setDomain=function(){var t=(0,O.rx)(this.values),e=t.min,n=t.max;(0,O.UM)(this.min)&&(this.min=e),(0,O.UM)(this.max)&&(this.max=n),this.min>this.max&&(this.min=e,this.max=n)},e.prototype.calculateTicks=function(){var e=this,n=t.prototype.calculateTicks.call(this);return this.nice||(n=(0,O.hX)(n,(function(t){return t>=e.min&&t<=e.max}))),n},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;return(t-n)/(e-n)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(Gt),Ne=_e,Ue=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="linear",e.isLinear=!0,e}return Yt(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},e}(Ne),ze=Ue;function He(t,e){var n=Math.E;return e>=0?Math.pow(n,Math.log(e)/t):-1*Math.pow(n,Math.log(-e)/t)}function Ve(t,e){return 1===t?1:Math.log(e)/Math.log(t)}function Ge(t,e,n){(0,O.UM)(n)&&(n=Math.max.apply(null,t));var r=n;return(0,O.S6)(t,(function(t){t>0&&t<r&&(r=t)})),r===n&&(r=n/e),r>1&&(r=1),r}var We=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e}return Yt(e,t),e.prototype.invert=function(t){var e,n=this.base,r=Ve(n,this.max),i=this.rangeMin(),a=this.rangeMax()-i,o=this.positiveMin;if(o){if(0===t)return 0;var s=1/(r-(e=Ve(n,o/n)))*a;if(t<s)return t/s*o}else e=Ve(n,this.min);var l=(t-i)/a*(r-e)+e;return Math.pow(n,l)},e.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){t.prototype.setDomain.call(this);var e=this.min;if(e<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===e&&(this.positiveMin=Ge(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;if(t<=0)return 0;var r=this.base,i=this.positiveMin;return i&&(n=1*i/r),t<i?t/i/(Ve(r,e)-Ve(r,n)):(Ve(r,t)-Ve(r,n))/(Ve(r,e)-Ve(r,n))},e}(Ne),Ye=We,je=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pow",e}return Yt(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t),n=this.exponent,r=He(n,this.max),i=He(n,this.min),a=e*(r-i)+i,o=a>=0?1:-1;return Math.pow(a,n)*o},e.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;var r=this.exponent;return(He(r,t)-He(r,n))/(He(r,e)-He(r,n))},e}(Ne),Xe=je,$e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="time",e}return Yt(e,t),e.prototype.getText=function(t,e){var n=this.translate(t),r=this.formatter;return r?r(n,e):Ee(n,this.mask)},e.prototype.scale=function(e){var n=e;return((0,O.HD)(n)||(0,O.J_)(n))&&(n=this.translate(n)),t.prototype.scale.call(this,n)},e.prototype.translate=function(t){return ke(t)},e.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,e=this.getConfig("min"),n=this.getConfig("max");if((0,O.UM)(e)&&(0,O.hj)(e)||(this.min=this.translate(this.min)),(0,O.UM)(n)&&(0,O.hj)(n)||(this.max=this.translate(this.max)),t&&t.length){var r=[],i=1/0,a=i,o=0;(0,O.S6)(t,(function(t){var e=ke(t);if(isNaN(e))throw new TypeError("Invalid Time: "+t+" in time scale!");i>e?(a=i,i=e):a>e&&(a=e),o<e&&(o=e),r.push(e)})),t.length>1&&(this.minTickInterval=a-i),(0,O.UM)(e)&&(this.min=i),(0,O.UM)(n)&&(this.max=o)}},e}(ze),qe=$e,Ze=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantize",e}return Yt(e,t),e.prototype.invert=function(t){var e=this.ticks,n=e.length,r=this.getInvertPercent(t),i=Math.floor(r*(n-1));if(i>=n-1)return(0,O.Z$)(e);if(i<0)return(0,O.YM)(e);var a=e[i],o=i/(n-1);return a+(r-o)/((i+1)/(n-1)-o)*(e[i+1]-a)},e.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var e=t.prototype.calculateTicks.call(this);return this.nice||((0,O.Z$)(e)!==this.max&&e.push(this.max),(0,O.YM)(e)!==this.min&&e.unshift(this.min)),e},e.prototype.getScalePercent=function(t){var e=this.ticks;if(t<(0,O.YM)(e))return 0;if(t>(0,O.Z$)(e))return 1;var n=0;return(0,O.S6)(e,(function(e,r){if(!(t>=e))return!1;n=r})),n/(e.length-1)},e}(Ne),Ke=Ze,Je=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantile",e}return Yt(e,t),e.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},e}(Ke),Qe=Je,tn={};function en(t){return tn[t]}function nn(t,e){if(en(t))throw new Error("type '"+t+"' existed.");tn[t]=e}var rn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="identity",e.isIdentity=!0,e}return Yt(e,t),e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&(0,O.hj)(t)?t:this.range[0]},e.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]},e}(Gt),an=rn;function on(t){var e=t.values,n=t.tickInterval,r=t.tickCount,i=t.showLast;if((0,O.hj)(n)){var a=(0,O.hX)(e,(function(t,e){return e%n===0})),o=(0,O.Z$)(e);return i&&(0,O.Z$)(a)!==o&&a.push(o),a}var s=e.length,l=t.min,c=t.max;if((0,O.UM)(l)&&(l=0),(0,O.UM)(c)&&(c=e.length-1),!(0,O.hj)(r)||r>=s)return e.slice(l,c+1);if(r<=0||c<=0)return[];for(var u=1===r?s:Math.floor(s/(r-1)),h=[],f=l,p=0;p<r&&!(f>=c);p++)f=Math.min(l+p*u,c),p===r-1&&i?h.push(e[c]):h.push(e[f]);return h}var sn=Math.sqrt(50),ln=Math.sqrt(10),cn=Math.sqrt(2),un=function(){function t(){this._domain=[0,1]}return t.prototype.domain=function(t){return t?(this._domain=Array.from(t,Number),this):this._domain.slice()},t.prototype.nice=function(t){var e,n;void 0===t&&(t=5);var r,i=this._domain.slice(),a=0,o=this._domain.length-1,s=this._domain[a],l=this._domain[o];return l<s&&(s=(e=[l,s])[0],l=e[1],a=(n=[o,a])[0],o=n[1]),(r=hn(s,l,t))>0?r=hn(s=Math.floor(s/r)*r,l=Math.ceil(l/r)*r,t):r<0&&(r=hn(s=Math.ceil(s*r)/r,l=Math.floor(l*r)/r,t)),r>0?(i[a]=Math.floor(s/r)*r,i[o]=Math.ceil(l/r)*r,this.domain(i)):r<0&&(i[a]=Math.ceil(s*r)/r,i[o]=Math.floor(l*r)/r,this.domain(i)),this},t.prototype.ticks=function(t){return void 0===t&&(t=5),function(t,e,n){var r,i,a,o,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];(r=e<t)&&(i=t,t=e,e=i);if(0===(o=hn(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(i=Math.ceil(e-t+1));++s<i;)a[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(i=Math.ceil(t-e+1));++s<i;)a[s]=(t-s)/o;r&&a.reverse();return a}(this._domain[0],this._domain[this._domain.length-1],t||5)},t}();function hn(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=sn?10:a>=ln?5:a>=cn?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=sn?10:a>=ln?5:a>=cn?2:1)}function fn(t,e,n){return("ceil"===n?Math.ceil(t/e):"floor"===n?Math.floor(t/e):Math.round(t/e))*e}function pn(t,e,n){var r=fn(t,n,"floor"),i=fn(e,n,"ceil");r=(0,O.ri)(r,n),i=(0,O.ri)(i,n);for(var a=[],o=Math.max((i-r)/(Math.pow(2,12)-1),n),s=r;s<=i;s+=o){var l=(0,O.ri)(s,o);a.push(l)}return{min:r,max:i,ticks:a}}function dn(t,e,n){var r,i=t.minLimit,a=t.maxLimit,o=t.min,s=t.max,l=t.tickCount,c=void 0===l?5:l,u=(0,O.UM)(i)?(0,O.UM)(e)?o:e:i,h=(0,O.UM)(a)?(0,O.UM)(n)?s:n:a;if(u>h&&(h=(r=[u,h])[0],u=r[1]),c<=2)return[u,h];for(var f=(h-u)/(c-1),p=[],d=0;d<c;d++)p.push(u+f*d);return p}function gn(t){return Math.abs(t)<1e-15?t:parseFloat(t.toFixed(15))}var vn=[1,5,2,2.5,4,3],yn=100*Number.EPSILON;function mn(t,e,n,r,i,a){var o=(0,O.dp)(e),s=(0,O.cq)(e,t),l=0,c=function(t,e){return(t%e+e)%e}(r,a);return(c<yn||a-c<yn)&&r<=0&&i>=0&&(l=1),1-s/(o-1)-n+l}function xn(t,e,n){var r=(0,O.dp)(e);return 1-(0,O.cq)(e,t)/(r-1)-n+1}function bn(t,e,n,r,i,a){var o=(t-1)/(a-i),s=(e-1)/(Math.max(a,r)-Math.min(n,i));return 2-Math.max(o/s,s/o)}function wn(t,e){return t>=e?2-(t-1)/(e-1):1}function Sn(t,e,n,r){var i=e-t;return 1-.5*(Math.pow(e-r,2)+Math.pow(t-n,2))/Math.pow(.1*i,2)}function Cn(t,e,n){var r=e-t;if(n>r){var i=(n-r)/2;return 1-Math.pow(i,2)/Math.pow(.1*r,2)}return 1}function Tn(t,e,n,r,i,a){void 0===n&&(n=5),void 0===r&&(r=!0),void 0===i&&(i=vn),void 0===a&&(a=[.25,.2,.5,.05]);var o=n<0?0:Math.round(n);if(Number.isNaN(t)||Number.isNaN(e)||"number"!==typeof t||"number"!==typeof e||!o)return{min:0,max:0,ticks:[]};if(e-t<1e-15||1===o)return{min:t,max:e,ticks:[t]};if(e-t>1e148){var s=(e-t)/(w=n||5);return{min:t,max:e,ticks:Array(w).fill(null).map((function(e,n){return gn(t+s*n)}))}}for(var l={score:-2,lmin:0,lmax:0,lstep:0},c=1;c<1/0;){for(var u=0;u<i.length;u+=1){var h=i[u],f=xn(h,i,c);if(a[0]*f+a[1]+a[2]+a[3]<l.score){c=1/0;break}for(var p=2;p<1/0;){var d=wn(p,o);if(a[0]*f+a[1]+a[2]*d+a[3]<l.score)break;for(var g=(e-t)/(p+1)/c/h,v=Math.ceil(Math.log10(g));v<1/0;){var y=c*h*Math.pow(10,v),m=Cn(t,e,y*(p-1));if(a[0]*f+a[1]*m+a[2]*d+a[3]<l.score)break;var x=Math.floor(e/y)*c-(p-1)*c,b=Math.ceil(t/y)*c;if(x<=b)for(var w=b-x,S=0;S<=w;S+=1){var C=(x+S)*(y/c),T=C+y*(p-1),E=y,k=mn(h,i,c,C,T,E),M=Sn(t,e,C,T),A=bn(p,o,t,e,C,T),F=a[0]*k+a[1]*M+a[2]*A+1*a[3];F>l.score&&(!r||C<=t&&T>=e)&&(l.lmin=C,l.lmax=T,l.lstep=E,l.score=F)}v+=1}p+=1}}c+=1}var I=gn(l.lmax),P=gn(l.lmin),D=gn(l.lstep),L=Math.floor(function(t){return Math.round(1e12*t)/1e12}((I-P)/D))+1,R=new Array(L);R[0]=gn(P);for(u=1;u<L;u++)R[u]=gn(R[u-1]+D);return{min:Math.min(t,(0,O.YM)(R)),max:Math.max(e,(0,O.Z$)(R)),ticks:R}}function En(t,e,n){if(void 0===n&&(n=5),t===e)return{max:e,min:t,ticks:[t]};var r=n<0?0:Math.round(n);if(0===r)return{max:e,min:t,ticks:[]};var i=(e-t)/r,a=Math.pow(10,Math.floor(Math.log10(i))),o=a;2*a-i<1.5*(i-o)&&5*a-i<2.75*(i-(o=2*a))&&10*a-i<1.5*(i-(o=5*a))&&(o=10*a);for(var s=Math.ceil(e/o),l=Math.floor(t/o),c=Math.max(s*o,e),u=Math.min(l*o,t),h=Math.floor((c-u)/o)+1,f=new Array(h),p=0;p<h;p++)f[p]=gn(u+p*o);return{min:u,max:c,ticks:f}}function kn(t,e){var n=t.length*e;return 1===e?t[t.length-1]:0===e?t[0]:n%1!==0?t[Math.ceil(n)-1]:t.length%2===0?(t[n-1]+t[n])/2:t[n]}function Mn(t){return new Date(t).getFullYear()}function An(t){return new Date(t,0,1).getTime()}function On(t){return new Date(t).getMonth()}function Fn(t,e){return new Date(t,e,1).getTime()}Ht("cat",on),Ht("time-cat",(function(t){return on(jt({showLast:!0},t))})),Ht("wilkinson-extended",(function(t){var e=t.min,n=t.max,r=t.tickCount,i=t.nice,a=t.tickInterval,o=t.minLimit,s=t.maxLimit,l=Tn(e,n,r,i).ticks;return(0,O.UM)(o)&&(0,O.UM)(s)?a?pn(e,n,a).ticks:l:dn(t,(0,O.YM)(l),(0,O.Z$)(l))})),Ht("r-pretty",(function(t){var e=t.min,n=t.max,r=t.tickCount,i=t.tickInterval,a=t.minLimit,o=t.maxLimit,s=En(e,n,r).ticks;return(0,O.UM)(a)&&(0,O.UM)(o)?i?pn(e,n,i).ticks:s:dn(t,(0,O.YM)(s),(0,O.Z$)(s))})),Ht("time",(function(t){var e=t.min,n=t.max,r=t.minTickInterval,i=t.tickInterval,a=t.tickCount;if(i)a=Math.ceil((n-e)/i);else{var o=(n-e)/(i=Le(e,n,a)[1])/a;o>1&&(i*=Math.ceil(o)),r&&i<r&&(i=r)}i=Math.max(Math.floor((n-e)/(Math.pow(2,12)-1)),i);for(var s=[],l=e;l<n+i;l+=i)s.push(l);return s})),Ht("time-pretty",(function(t){var e=t.min,n=t.max,r=t.minTickInterval,i=t.tickCount,a=t.tickInterval,o=[];a||(a=(n-e)/i,r&&a<r&&(a=r)),a=Math.max(Math.floor((n-e)/(Math.pow(2,12)-1)),a);var s=Mn(e);if(a>Pe)for(var l=Mn(n),c=Math.ceil(a/Pe),u=s;u<=l+c;u+=c)o.push(An(u));else if(a>Ie){var h=Math.ceil(a/Ie),f=On(e),p=function(t,e){var n=Mn(t),r=Mn(e),i=On(t);return 12*(r-n)+(On(e)-i)%12}(e,n);for(u=0;u<=p+h;u+=h)o.push(Fn(s,u+f))}else if(a>Fe){var d=(x=new Date(e)).getFullYear(),g=x.getMonth(),v=x.getDate(),y=Math.ceil(a/Fe),m=function(t,e){return Math.ceil((e-t)/Fe)}(e,n);for(u=0;u<m+y;u+=y)o.push(new Date(d,g,v+u).getTime())}else if(a>Oe){d=(x=new Date(e)).getFullYear(),g=x.getMonth(),y=x.getDate();var x,b=x.getHours(),w=Math.ceil(a/Oe),S=function(t,e){return Math.ceil((e-t)/Oe)}(e,n);for(u=0;u<=S+w;u+=w)o.push(new Date(d,g,y,b+u).getTime())}else if(a>Ae){var C=function(t,e){return Math.ceil((e-t)/6e4)}(e,n),T=Math.ceil(a/Ae);for(u=0;u<=C+T;u+=T)o.push(e+u*Ae)}else{var E=a;E<Me&&(E=Me);var k=Math.floor(e/Me)*Me,M=Math.ceil((n-e)/Me),A=Math.ceil(E/Me);for(u=0;u<M+A;u+=A)o.push(k+u*Me)}return o.length>=512&&console.warn("Notice: current ticks length("+o.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+a+") is too small, increase the value to solve the problem!"),o})),Ht("log",(function(t){var e,n=t.base,r=t.tickCount,i=t.min,a=t.max,o=t.values,s=Ve(n,a);if(i>0)e=Math.floor(Ve(n,i));else{var l=Ge(o,n,a);e=Math.floor(Ve(n,l))}for(var c=s-e,u=Math.ceil(c/r),h=[],f=e;f<s+u;f+=u)h.push(Math.pow(n,f));return i<=0&&h.unshift(0),h})),Ht("pow",(function(t){var e=t.exponent,n=t.tickCount,r=Math.ceil(He(e,t.max));return En(Math.floor(He(e,t.min)),r,n).ticks.map((function(t){var n=t>=0?1:-1;return Math.pow(t,e)*n}))})),Ht("quantile",(function(t){var e=t.tickCount,n=t.values;if(!n||!n.length)return[];for(var r=n.slice().sort((function(t,e){return t-e})),i=[],a=0;a<e;a++){var o=a/(e-1);i.push(kn(r,o))}return i})),Ht("d3-linear",(function(t){var e=t.min,n=t.max,r=t.tickInterval,i=t.minLimit,a=t.maxLimit,o=function(t){var e=t.min,n=t.max,r=t.nice,i=t.tickCount,a=new un;return a.domain([e,n]),r&&a.nice(i),a.ticks(i)}(t);return(0,O.UM)(i)&&(0,O.UM)(a)?r?pn(e,n,r).ticks:o:dn(t,(0,O.YM)(o),(0,O.Z$)(o))})),nn("cat",qt),nn("category",qt),nn("identity",an),nn("linear",ze),nn("log",Ye),nn("pow",Xe),nn("time",qe),nn("timeCat",Be),nn("quantize",Ke),nn("quantile",Qe);var In={},Pn=function(t){return In[t.toLowerCase()]},Dn=function(t,e){if(Pn(t))throw new Error("Attribute type '".concat(t,"' existed."));In[t.toLowerCase()]=e};Dn("Color",Dt),Dn("Opacity",Lt),Dn("Position",Bt),Dn("Shape",Nt),Dn("Size",Ut);var Ln=function(t,e){return Ln=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Ln(t,e)};function Rn(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ln(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;function Bn(t,e,n){if(n||2===arguments.length)for(var r,i=0,a=e.length;i<a;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var _n=n(553);function Nn(t,e,n){var r=e[0],i=e[1],a=e[2];return t[0]=r*n[0]+i*n[3]+a*n[6],t[1]=r*n[1]+i*n[4]+a*n[7],t[2]=r*n[2]+i*n[5]+a*n[8],t}!function(){var t=function(){var t=new _n.WT(3);return _n.WT!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}()}();var Un=n(5742),zn=n(6403),Hn=function(){function t(t){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var e=t.start,n=t.end,r=t.matrix,i=void 0===r?[1,0,0,0,1,0,0,0,1]:r,a=t.isTransposed,o=void 0!==a&&a;this.start=e,this.end=n,this.matrix=i,this.originalMatrix=Bn([],i),this.isTransposed=o}return t.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},t.prototype.update=function(t){(0,O.f0)(this,t),this.initial()},t.prototype.convertDim=function(t,e){var n,r=this[e],i=r.start,a=r.end;return this.isReflect(e)&&(i=(n=[a,i])[0],a=n[1]),i+t*(a-i)},t.prototype.invertDim=function(t,e){var n,r=this[e],i=r.start,a=r.end;return this.isReflect(e)&&(i=(n=[a,i])[0],a=n[1]),(t-i)/(a-i)},t.prototype.applyMatrix=function(t,e,n){void 0===n&&(n=0);var r=[t,e,n];return Nn(r,r,this.matrix),r},t.prototype.invertMatrix=function(t,e,n){void 0===n&&(n=0);var r=this.matrix,i=Un.U_([0,0,0,0,0,0,0,0,0],r),a=[t,e,n];return i&&Nn(a,a,i),a},t.prototype.convert=function(t){var e=this.convertPoint(t),n=e.x,r=e.y,i=this.applyMatrix(n,r,1);return{x:i[0],y:i[1]}},t.prototype.invert=function(t){var e=this.invertMatrix(t.x,t.y,1);return this.invertPoint({x:e[0],y:e[1]})},t.prototype.rotate=function(t){var e=this.matrix,n=this.center;return zn.m$(e,e,[-n.x,-n.y]),zn.zu(e,e,t),zn.m$(e,e,[n.x,n.y]),this},t.prototype.reflect=function(t){return"x"===t?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},t.prototype.scale=function(t,e){var n=this.matrix,r=this.center;return zn.m$(n,n,[-r.x,-r.y]),zn.lh(n,n,[t,e]),zn.m$(n,n,[r.x,r.y]),this},t.prototype.translate=function(t,e){var n=this.matrix;return zn.m$(n,n,[t,e]),this},t.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},t.prototype.getCenter=function(){return this.center},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRadius=function(){return this.radius},t.prototype.isReflect=function(t){return"x"===t?this.isReflectX:this.isReflectY},t.prototype.resetMatrix=function(t){this.matrix=t||Bn([],this.originalMatrix)},t}(),Vn=Hn,Gn=function(t){function e(e){var n=t.call(this,e)||this;return n.isRect=!0,n.type="cartesian",n.initial(),n}return Rn(e,t),e.prototype.initial=function(){t.prototype.initial.call(this);var e=this.start,n=this.end;this.x={start:e.x,end:n.x},this.y={start:e.y,end:n.y}},e.prototype.convertPoint=function(t){var e,n=t.x,r=t.y;return this.isTransposed&&(n=(e=[r,n])[0],r=e[1]),{x:this.convertDim(n,"x"),y:this.convertDim(r,"y")}},e.prototype.invertPoint=function(t){var e,n=this.invertDim(t.x,"x"),r=this.invertDim(t.y,"y");return this.isTransposed&&(n=(e=[r,n])[0],r=e[1]),{x:n,y:r}},e}(Vn),Wn=Gn,Yn=n(9874),jn=function(t){function e(e){var n=t.call(this,e)||this;n.isHelix=!0,n.type="helix";var r=e.startAngle,i=void 0===r?1.25*Math.PI:r,a=e.endAngle,o=void 0===a?7.25*Math.PI:a,s=e.innerRadius,l=void 0===s?0:s,c=e.radius;return n.startAngle=i,n.endAngle=o,n.innerRadius=l,n.radius=c,n.initial(),n}return Rn(e,t),e.prototype.initial=function(){t.prototype.initial.call(this);var e=(this.endAngle-this.startAngle)/(2*Math.PI)+1,n=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(n*=this.radius),this.d=Math.floor(n*(1-this.innerRadius)/e),this.a=this.d/(2*Math.PI),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*n,end:this.innerRadius*n+.99*this.d}},e.prototype.convertPoint=function(t){var e,n=t.x,r=t.y;this.isTransposed&&(n=(e=[r,n])[0],r=e[1]);var i=this.convertDim(n,"x"),a=this.a*i,o=this.convertDim(r,"y");return{x:this.center.x+Math.cos(i)*(a+o),y:this.center.y+Math.sin(i)*(a+o)}},e.prototype.invertPoint=function(t){var e,n=this.d+this.y.start,r=Yn.$X([0,0],[t.x,t.y],[this.center.x,this.center.y]),i=zn.Dg(r,[1,0],!0),a=i*this.a;Yn.kE(r)<a&&(a=Yn.kE(r)),i=2*Math.floor((Yn.kE(r)-a)/n)*Math.PI+i;var o=this.a*i,s=Yn.kE(r)-o;s=(0,O.vQ)(s,0)?0:s;var l=this.invertDim(i,"x"),c=this.invertDim(s,"y");return l=(0,O.vQ)(l,0)?0:l,c=(0,O.vQ)(c,0)?0:c,this.isTransposed&&(l=(e=[c,l])[0],c=e[1]),{x:l,y:c}},e}(Vn),Xn=jn,$n=function(t){function e(e){var n=t.call(this,e)||this;n.isPolar=!0,n.type="polar";var r=e.startAngle,i=void 0===r?-Math.PI/2:r,a=e.endAngle,o=void 0===a?3*Math.PI/2:a,s=e.innerRadius,l=void 0===s?0:s,c=e.radius;return n.startAngle=i,n.endAngle=o,n.innerRadius=l,n.radius=c,n.initial(),n}return Rn(e,t),e.prototype.initial=function(){for(t.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=2*Math.PI;var e,n=this.getOneBox(),r=n.maxX-n.minX,i=n.maxY-n.minY,a=Math.abs(n.minX)/r,o=Math.abs(n.minY)/i;this.height/i>this.width/r?(e=this.width/r,this.circleCenter={x:this.center.x-(.5-a)*this.width,y:this.center.y-(.5-o)*e*i}):(e=this.height/i,this.circleCenter={x:this.center.x-(.5-a)*e*r,y:this.center.y-(.5-o)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=e*this.radius:(this.radius<=0||this.radius>e)&&(this.polarRadius=e):this.polarRadius=e,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},e.prototype.getRadius=function(){return this.polarRadius},e.prototype.convertPoint=function(t){var e,n=this.getCenter(),r=t.x,i=t.y;return this.isTransposed&&(r=(e=[i,r])[0],i=e[1]),r=this.convertDim(r,"x"),i=this.convertDim(i,"y"),{x:n.x+Math.cos(r)*i,y:n.y+Math.sin(r)*i}},e.prototype.invertPoint=function(t){var e,n=this.getCenter(),r=[t.x-n.x,t.y-n.y],i=this.startAngle,a=this.endAngle;this.isReflect("x")&&(i=(e=[a,i])[0],a=e[1]);var o=[1,0,0,0,1,0,0,0,1];zn.zu(o,o,i);var s=[1,0,0];Nn(s,s,o);var l=[s[0],s[1]],c=zn.Dg(l,r,a<i);(0,O.vQ)(c,2*Math.PI)&&(c=0);var u=Yn.kE(r),h=c/(a-i);h=a-i>0?h:-h;var f=this.invertDim(u,"y"),p={x:0,y:0};return p.x=this.isTransposed?f:h,p.y=this.isTransposed?h:f,p},e.prototype.getCenter=function(){return this.circleCenter},e.prototype.getOneBox=function(){var t=this.startAngle,e=this.endAngle;if(Math.abs(e-t)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var n=[0,Math.cos(t),Math.cos(e)],r=[0,Math.sin(t),Math.sin(e)],i=Math.min(t,e);i<Math.max(t,e);i+=Math.PI/18)n.push(Math.cos(i)),r.push(Math.sin(i));return{minX:Math.min.apply(Math,n),maxX:Math.max.apply(Math,n),minY:Math.min.apply(Math,r),maxY:Math.max.apply(Math,r)}},e}(Vn),qn=$n,Zn={},Kn=function(t,e){Zn[t.toLowerCase()]=e};Kn("rect",Wn),Kn("cartesian",Wn),Kn("polar",qn),Kn("helix",Xn);var Jn=function(t,e){return Jn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Jn(t,e)};function Qn(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Jn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var tr=function(){return tr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},tr.apply(this,arguments)};function er(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}Object.create;function nr(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}Object.create;"function"===typeof SuppressedError&&SuppressedError;function rr(t,e,n){var r=new J.Event(e,n);r.target=t,r.propagationPath.push(t),t.emitDelegation(e,r);for(var i=t.getParent();i;)i.emitDelegation(e,r),r.propagationPath.push(i),i=i.getParent()}var ir=[1,0,0,0,1,0,0,0,1];function ar(t,e,n){return void 0===n&&(n=ir),e?zn.vs(n,[["t",-t.x,-t.y],["r",e],["t",t.x,t.y]]):null}function or(t,e){return t.x||t.y?zn.vs(e||ir,[["t",t.x,t.y]]):null}function sr(t,e){var n=[0,0];return Yn.kK(n,e,t),n}function lr(t,e,n,r){if(e){var i=ar({x:n,y:r},e,t.getMatrix());t.setMatrix(i)}}function cr(t,e,n){var r=or({x:e,y:n});t.attr("matrix",r)}function ur(t){var e=0,n=0,r=0,i=0;return(0,O.hj)(t)?e=n=r=i=t:(0,O.kJ)(t)&&(e=t[0],r=(0,O.UM)(t[1])?t[0]:t[1],i=(0,O.UM)(t[2])?t[0]:t[2],n=(0,O.UM)(t[3])?r:t[3]),[e,r,i,n]}function hr(t){for(var e=t.childNodes,n=e.length-1;n>=0;n--)t.removeChild(e[n])}function fr(t){var e=t.start,n=t.end,r=Math.min(e.x,n.x),i=Math.min(e.y,n.y),a=Math.max(e.x,n.x),o=Math.max(e.y,n.y);return{x:r,y:i,minX:r,minY:i,maxX:a,maxY:o,width:a-r,height:o-i}}function pr(t,e,n,r){var i=t+n,a=e+r;return{x:t,y:e,width:n,height:r,minX:t,minY:e,maxX:isNaN(i)?0:i,maxY:isNaN(a)?0:a}}function dr(t,e,n){return(1-n)*t+e*n}function gr(t,e,n){return{x:t.x+Math.cos(n)*e,y:t.y+Math.sin(n)*e}}var vr=function(t,e,n){return void 0===n&&(n=Math.pow(Number.EPSILON,.5)),[t,e].includes(1/0)?Math.abs(t)===Math.abs(e):Math.abs(t-e)<n};function yr(t){var e,n=t.getClip(),r=n&&n.getBBox();if(t.isGroup()){var i=1/0,a=-1/0,o=1/0,s=-1/0,l=t.getChildren();l.length>0?(0,O.S6)(l,(function(t){if(t.get("visible")){if(t.isGroup()&&0===t.get("children").length)return!0;var e=yr(t),n=t.applyToMatrix([e.minX,e.minY,1]),r=t.applyToMatrix([e.minX,e.maxY,1]),l=t.applyToMatrix([e.maxX,e.minY,1]),c=t.applyToMatrix([e.maxX,e.maxY,1]),u=Math.min(n[0],r[0],l[0],c[0]),h=Math.max(n[0],r[0],l[0],c[0]),f=Math.min(n[1],r[1],l[1],c[1]),p=Math.max(n[1],r[1],l[1],c[1]);u<i&&(i=u),h>a&&(a=h),f<o&&(o=f),p>s&&(s=p)}})):(i=0,a=0,o=0,s=0),e=pr(i,o,a-i,s-o)}else e=t.getBBox();return r?function(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY);return pr(n,r,Math.min(t.maxX,e.maxX)-n,Math.min(t.maxY,e.maxY)-r)}(e,r):e}function mr(t){return t+"px"}function xr(t,e,n,r){var i=r/function(t,e){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}(t,e),a=0;return"start"===n?a=0-i:"end"===n&&(a=1+i),{x:dr(t.x,e.x,a),y:dr(t.y,e.y,a)}}var br={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},wr=function(t){function e(e){var n=t.call(this,e)||this;return n.initCfg(),n}return Qn(e,t),e.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},e.prototype.clear=function(){},e.prototype.update=function(t){var e=this,n=this.get("defaultCfg")||{};(0,O.S6)(t,(function(t,r){var i=t;e.get(r)!==t&&((0,O.Kn)(t)&&n[r]&&(i=(0,O.b$)({},n[r],t)),e.set(r,i))})),this.updateInner(t),this.afterUpdate(t)},e.prototype.updateInner=function(t){},e.prototype.afterUpdate=function(t){(0,O.wH)(t,"visible")&&(t.visible?this.show():this.hide()),(0,O.wH)(t,"capture")&&this.setCapture(t.capture)},e.prototype.getLayoutBBox=function(){return this.getBBox()},e.prototype.getLocationType=function(){return this.get("locationType")},e.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},e.prototype.setOffset=function(t,e){this.update({offsetX:t,offsetY:e})},e.prototype.setLocation=function(t){var e=tr({},t);this.update(e)},e.prototype.getLocation=function(){var t=this,e={},n=this.get("locationType"),r=br[n];return(0,O.S6)(r,(function(n){e[n]=t.get(n)})),e},e.prototype.isList=function(){return!1},e.prototype.isSlider=function(){return!1},e.prototype.init=function(){},e.prototype.initCfg=function(){var t=this,e=this.get("defaultCfg");(0,O.S6)(e,(function(e,n){var r=t.get(n);if((0,O.Kn)(r)){var i=(0,O.b$)({},e,r);t.set(n,i)}}))},e}(J.Base),Sr=wr,Cr="update_status",Tr=["visible","tip","delegateObject"],Er=["container","group","shapesMap","isRegister","isUpdating","destroyed"],kr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},e.prototype.remove=function(){this.clear(),this.get("group").remove()},e.prototype.clear=function(){this.get("group").clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},e.prototype.getChildComponentById=function(t){var e=this.getElementById(t);return e&&e.get("component")},e.prototype.getElementById=function(t){return this.get("shapesMap")[t]},e.prototype.getElementByLocalId=function(t){var e=this.getElementId(t);return this.getElementById(e)},e.prototype.getElementsByName=function(t){var e=[];return(0,O.S6)(this.get("shapesMap"),(function(n){n.get("name")===t&&e.push(n)})),e},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateInner=function(t){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},e.prototype.render=function(){var t=this.get("offScreenGroup");t||(t=this.offScreenRender());var e=this.get("group");this.updateElements(t,e),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},e.prototype.show=function(){this.get("group").show(),this.set("visible",!0)},e.prototype.hide=function(){this.get("group").hide(),this.set("visible",!1)},e.prototype.setCapture=function(t){this.get("group").set("capture",t),this.set("capture",t)},e.prototype.destroy=function(){this.removeEvent(),this.remove(),t.prototype.destroy.call(this)},e.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},e.prototype.getLayoutBBox=function(){var t=this.get("group"),e=this.getInnerLayoutBBox(),n=t.getTotalMatrix();return n&&(e=function(t,e){var n=sr(t,[e.minX,e.minY]),r=sr(t,[e.maxX,e.minY]),i=sr(t,[e.minX,e.maxY]),a=sr(t,[e.maxX,e.maxY]),o=Math.min(n[0],r[0],i[0],a[0]),s=Math.max(n[0],r[0],i[0],a[0]),l=Math.min(n[1],r[1],i[1],a[1]),c=Math.max(n[1],r[1],i[1],a[1]);return{x:o,y:l,minX:o,minY:l,maxX:s,maxY:c,width:s-o,height:c-l}}(n,e)),e},e.prototype.on=function(t,e,n){return this.get("group").on(t,e,n),this},e.prototype.off=function(t,e){var n=this.get("group");return n&&n.off(t,e),this},e.prototype.emit=function(t,e){this.get("group").emit(t,e)},e.prototype.init=function(){t.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},e.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},e.prototype.delegateEmit=function(t,e){var n=this.get("group");e.target=n,n.emit(t,e),rr(n,t,e)},e.prototype.createOffScreenGroup=function(){return new(this.get("group").getGroupBase())({delegateObject:this.getDelegateObject()})},e.prototype.applyOffset=function(){var t=this.get("offsetX"),e=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t,y:e})},e.prototype.initGroup=function(){var t=this.get("container");this.set("group",t.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},e.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set("offScreenGroup",t),this.set("offScreenBBox",yr(t)),t},e.prototype.addGroup=function(t,e){this.appendDelegateObject(t,e);var n=t.addGroup(e);return this.get("isRegister")&&this.registerElement(n),n},e.prototype.addShape=function(t,e){this.appendDelegateObject(t,e);var n=t.addShape(e);return this.get("isRegister")&&this.registerElement(n),n},e.prototype.addComponent=function(t,e){var n=e.id,r=e.component,i=er(e,["id","component"]),a=new r(tr(tr({},i),{id:n,container:t,updateAutoRender:this.get("updateAutoRender")}));return a.init(),a.render(),this.get("isRegister")&&this.registerElement(a.get("group")),a},e.prototype.initEvent=function(){},e.prototype.removeEvent=function(){this.get("group").off()},e.prototype.getElementId=function(t){return this.get("id")+"-"+this.get("name")+"-"+t},e.prototype.registerElement=function(t){var e=t.get("id");this.get("shapesMap")[e]=t},e.prototype.unregisterElement=function(t){var e=t.get("id");delete this.get("shapesMap")[e]},e.prototype.moveElementTo=function(t,e){var n=or(e);t.attr("matrix",n)},e.prototype.addAnimation=function(t,e,n){var r=e.attr("opacity");(0,O.UM)(r)&&(r=1),e.attr("opacity",0),e.animate({opacity:r},n)},e.prototype.removeAnimation=function(t,e,n){e.animate({opacity:0},n)},e.prototype.updateAnimation=function(t,e,n,r){e.animate(n,r)},e.prototype.updateElements=function(t,e){var n,r=this,i=this.get("animate"),a=this.get("animateOption"),o=t.getChildren().slice(0);(0,O.S6)(o,(function(t){var o=t.get("id"),s=r.getElementById(o),l=t.get("name");if(s)if(t.get("isComponent")){var c=t.get("component"),u=s.get("component"),h=(0,O.ei)(c.cfg,(0,O.e5)((0,O.XP)(c.cfg),Er));u.update(h),s.set(Cr,"update")}else{var f=r.getReplaceAttrs(s,t);i&&a.update?r.updateAnimation(l,s,f,a.update):s.attr(f),t.isGroup()&&r.updateElements(t,s),(0,O.S6)(Tr,(function(e){s.set(e,t.get(e))})),function(t,e){if(t.getClip()||e.getClip()){var n=e.getClip();if(n){var r={type:n.get("type"),attrs:n.attr()};t.setClip(r)}else t.setClip(null)}}(s,t),n=s,s.set(Cr,"update")}else{e.add(t);var p=e.getChildren();if(p.splice(p.length-1,1),n){var d=p.indexOf(n);p.splice(d+1,0,t)}else p.unshift(t);if(r.registerElement(t),t.set(Cr,"add"),t.get("isComponent"))(c=t.get("component")).set("container",e);else t.isGroup()&&r.registerNewGroup(t);if(n=t,i){var g=r.get("isInit")?a.appear:a.enter;g&&r.addAnimation(l,t,g)}}}))},e.prototype.clearUpdateStatus=function(t){var e=t.getChildren();(0,O.S6)(e,(function(t){t.set(Cr,null)}))},e.prototype.clearOffScreenCache=function(){var t=this.get("offScreenGroup");t&&t.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},e.prototype.getDelegateObject=function(){var t;return(t={})[this.get("name")]=this,t.component=this,t},e.prototype.appendDelegateObject=function(t,e){var n=t.get("delegateObject");e.delegateObject||(e.delegateObject={}),(0,O.CD)(e.delegateObject,n)},e.prototype.getReplaceAttrs=function(t,e){var n=t.attr(),r=e.attr();return(0,O.S6)(n,(function(t,e){void 0===r[e]&&(r[e]=void 0)})),r},e.prototype.registerNewGroup=function(t){var e=this,n=t.getChildren();(0,O.S6)(n,(function(t){e.registerElement(t),t.set(Cr,"add"),t.isGroup()&&e.registerNewGroup(t)}))},e.prototype.deleteElements=function(){var t=this,e=this.get("shapesMap"),n=[];(0,O.S6)(e,(function(t,e){!t.get(Cr)||t.destroyed?n.push([e,t]):t.set(Cr,null)}));var r=this.get("animate"),i=this.get("animateOption");(0,O.S6)(n,(function(n){var a=n[0],o=n[1];if(!o.destroyed){var s=o.get("name");if(r&&i.leave){var l=(0,O.CD)({callback:function(){t.removeElement(o)}},i.leave);t.removeAnimation(s,o,l)}else t.removeElement(o)}delete e[a]}))},e.prototype.removeElement=function(t){if(t.get("isGroup")){var e=t.get("component");e&&e.destroy()}t.remove()},e}(Sr),Mr=kr,Ar="\u2026";function Or(t,e){return t.charCodeAt(e)>0&&t.charCodeAt(e)<128?1:2}var Fr="\u2026",Ir=2,Pr=400;function Dr(t){if(t.length>Pr)return function(t){for(var e=t.map((function(t){var e=t.attr("text");return(0,O.UM)(e)?"":""+e})),n=0,r=0,i=0;i<e.length;i+=1){for(var a=0,o=0;o<=e[i].length;o+=1){var s=e[i].charCodeAt(o);a+=s>=19968&&s<=40869?2:1}a>n&&(n=a,r=i)}return t[r].getBBox().width}(t);var e=0;return(0,O.S6)(t,(function(t){var n=t.getBBox().width;e<n&&(e=n)})),e}function Lr(t,e,n,r){var i;void 0===r&&(r="tail");var a=null!==(i=e.attr("text"))&&void 0!==i?i:"";if("tail"===r){var o=(0,O.ei)(e.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),s=(0,O.Lo)(a,n,o,"\u2026");return a!==s?(e.attr("text",s),e.set("tip",a),!0):(e.set("tip",null),!1)}var l=function(t,e){var n=e.getCanvasBBox();return t?n.width:n.height}(t,e),c=function(t){for(var e=0,n=0;n<t.length;n++)e+=Or(t,n);return e}(a),u=!1;if(n<l){var h=Math.floor(n/l*c)-Ir,f=void 0;f=h>=0?function(t,e,n){void 0===n&&(n="tail");var r=t.length,i="";if("tail"===n){for(var a=0,o=0;a<e&&a+Or(t,o)<=e;)i+=t[o],a+=Or(t,o),o++;i+=Ar}else if("head"===n){for(a=0,o=r-1;a<e&&a+Or(t,o)<=e;)i+=t[o],a+=Or(t,o),o--;i=Ar+i}else{for(var s="",l="",c=(a=0,0),u=r-1;a<e;){var h=Or(t,c),f=!1;h+a<=e&&(s+=t[c],c++,a+=h,f=!0);var p=Or(t,u);if(p+a<=e&&(l=t[u]+l,a+=p,u--,f=!0),!f)break}i=s+Ar+l}return i}(a,h,r):Fr,f&&(e.attr("text",f),u=!0)}return u?e.set("tip",a):e.set("tip",null),u}function Rr(t,e){var n=e.x,r=e.y,i=e.content,a=e.style,o=e.id,s=e.name,l=e.rotate,c=e.maxLength,u=e.autoEllipsis,h=e.isVertical,f=e.ellipsisPosition,p=e.background,d=t.addGroup({id:o+"-group",name:s+"-group",attrs:{x:n,y:r}}),g=d.addShape({type:"text",id:o,name:s,attrs:tr({x:0,y:0,text:i},a)}),v=ur((0,O.U2)(p,"padding",0));c&&u&&Lr(!h,g,c-(v[1]+v[3]),f);if(p){var y=(0,O.U2)(p,"style",{}),m=g.getCanvasBBox(),x=m.minX,b=m.minY,w=m.width,S=m.height;d.addShape("rect",{id:o+"-bg",name:o+"-bg",attrs:tr({x:x-v[3],y:b-v[0],width:w+v[1]+v[3],height:S+v[0]+v[2]},y)}).toBack()}cr(d,n,r),lr(d,l,n,r)}var Br={fontFamily:'\n  BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",\n  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",\n  SimSun, "sans-serif"',textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4,descriptionIconStroke:"#fff",descriptionIconFill:"rgba(58, 73, 101, .25)"},_r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:Br.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:Br.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:Br.lineColor,lineWidth:1}}}})},e.prototype.renderInner=function(t){this.renderLine(t),this.get("text")&&this.renderLabel(t)},e.prototype.renderLine=function(t){var e=this.get("start"),n=this.get("end"),r=this.get("style");this.addShape(t,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:tr({x1:e.x,y1:e.y,x2:n.x,y2:n.y},r)})},e.prototype.getLabelPoint=function(t,e,n){var r;return((r="start"===n?0:"center"===n?.5:(0,O.HD)(n)&&-1!==n.indexOf("%")?parseInt(n,10)/100:(0,O.hj)(n)?n:1)>1||r<0)&&(r=1),{x:dr(t.x,e.x,r),y:dr(t.y,e.y,r)}},e.prototype.renderLabel=function(t){var e=this.get("text"),n=this.get("start"),r=this.get("end"),i=e.position,a=e.content,o=e.style,s=e.offsetX,l=e.offsetY,c=e.autoRotate,u=e.maxLength,h=e.autoEllipsis,f=e.ellipsisPosition,p=e.background,d=e.isVertical,g=void 0!==d&&d,v=this.getLabelPoint(n,r,i),y=v.x+s,m=v.y+l,x={id:this.getElementId("line-text"),name:"annotation-line-text",x:y,y:m,content:a,style:o,maxLength:u,autoEllipsis:h,ellipsisPosition:f,background:p,isVertical:g};if(c){var b=[r.x-n.x,r.y-n.y];x.rotate=Math.atan2(b[1],b[0])}Rr(t,x)},e}(Mr),Nr=_r,Ur=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:Br.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:Br.fontFamily}}})},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},e.prototype.renderInner=function(t){var e=this.getLocation(),n=e.x,r=e.y,i=this.get("content"),a=this.get("style");Rr(t,{id:this.getElementId("text"),name:this.get("name")+"-text",x:n,y:r,content:i,style:a,maxLength:this.get("maxLength"),autoEllipsis:this.get("autoEllipsis"),isVertical:this.get("isVertical"),ellipsisPosition:this.get("ellipsisPosition"),background:this.get("background"),rotate:this.get("rotate")})},e.prototype.resetLocation=function(){var t=this.getElementByLocalId("text-group");if(t){var e=this.getLocation(),n=e.x,r=e.y,i=this.get("rotate");cr(t,n,r),lr(t,i,n,r)}},e}(Mr),zr=Ur,Hr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,style:{stroke:"#999",lineWidth:1}})},e.prototype.renderInner=function(t){this.renderArc(t)},e.prototype.getArcPath=function(){var t=this.getLocation(),e=t.center,n=t.radius,r=t.startAngle,i=t.endAngle,a=gr(e,n,r),o=gr(e,n,i),s=i-r>Math.PI?1:0,l=[["M",a.x,a.y]];if(i-r===2*Math.PI){var c=gr(e,n,r+Math.PI);l.push(["A",n,n,0,s,1,c.x,c.y]),l.push(["A",n,n,0,s,1,o.x,o.y])}else l.push(["A",n,n,0,s,1,o.x,o.y]);return l},e.prototype.renderArc=function(t){var e=this.getArcPath(),n=this.get("style");this.addShape(t,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:tr({path:e},n)})},e}(Mr),Vr=Hr,Gr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:Br.regionColor,opacity:.4}}})},e.prototype.renderInner=function(t){this.renderRegion(t)},e.prototype.renderRegion=function(t){var e=this.get("start"),n=this.get("end"),r=this.get("style"),i=fr({start:e,end:n});this.addShape(t,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:tr({x:i.x,y:i.y,width:i.width,height:i.height},r)})},e}(Mr),Wr=Gr,Yr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},e.prototype.renderInner=function(t){this.renderImage(t)},e.prototype.getImageAttrs=function(){var t=this.get("start"),e=this.get("end"),n=this.get("style"),r=fr({start:t,end:e}),i=this.get("src");return tr({x:r.x,y:r.y,img:i,width:r.width,height:r.height},n)},e.prototype.renderImage=function(t){this.addShape(t,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},e}(Mr),jr=Yr,Xr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:Br.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:Br.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:Br.fontFamily}}}})},e.prototype.renderInner=function(t){(0,O.U2)(this.get("line"),"display")&&this.renderLine(t),(0,O.U2)(this.get("text"),"display")&&this.renderText(t),(0,O.U2)(this.get("point"),"display")&&this.renderPoint(t),this.get("autoAdjust")&&this.autoAdjust(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},e.prototype.renderPoint=function(t){var e=this.getShapeAttrs().point;this.addShape(t,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:e})},e.prototype.renderLine=function(t){var e=this.getShapeAttrs().line;this.addShape(t,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:e})},e.prototype.renderText=function(t){var e=this.getShapeAttrs().text,n=e.x,r=e.y,i=e.text,a=er(e,["x","y","text"]),o=this.get("text"),s=o.background,l=o.maxLength,c=o.autoEllipsis,u=o.isVertival,h=o.ellipsisPosition;Rr(t,{x:n,y:r,id:this.getElementId("text"),name:"annotation-text",content:i,style:a,background:s,maxLength:l,autoEllipsis:c,isVertival:u,ellipsisPosition:h})},e.prototype.autoAdjust=function(t){var e=this.get("direction"),n=this.get("x"),r=this.get("y"),i=(0,O.U2)(this.get("line"),"length",0),a=this.get("coordinateBBox"),o=t.getBBox(),s=o.minX,l=o.maxX,c=o.minY,u=o.maxY,h=t.findById(this.getElementId("text-group")),f=t.findById(this.getElementId("text")),p=t.findById(this.getElementId("line"));if(a&&h){var d=h.attr("x"),g=h.attr("y"),v=f.getCanvasBBox(),y=v.width,m=v.height,x=0,b=0;if(n+s<=a.minX)if("leftward"===e)x=1;else{var w=a.minX-(n+s);d=h.attr("x")+w}else if(n+l>=a.maxX)if("rightward"===e)x=-1;else{w=n+l-a.maxX;d=h.attr("x")-w}if(x&&(p&&p.attr("path",[["M",0,0],["L",i*x,0]]),d=(i+2+y)*x),r+c<=a.minY)if("upward"===e)b=1;else{w=a.minY-(r+c);g=h.attr("y")+w}else if(r+u>=a.maxY)if("downward"===e)b=-1;else{w=r+u-a.maxY;g=h.attr("y")-w}b&&(p&&p.attr("path",[["M",0,0],["L",0,i*b]]),g=(i+2+m)*b),d===h.attr("x")&&g===h.attr("y")||cr(h,d,g)}},e.prototype.getShapeAttrs=function(){var t=(0,O.U2)(this.get("line"),"display"),e=(0,O.U2)(this.get("point"),"style",{}),n=(0,O.U2)(this.get("line"),"style",{}),r=(0,O.U2)(this.get("text"),"style",{}),i=this.get("direction"),a=t?(0,O.U2)(this.get("line"),"length",0):0,o=0,s=0,l="top",c="start";switch(i){case"upward":s=-1,l="bottom";break;case"downward":s=1,l="top";break;case"leftward":o=-1,c="end";break;case"rightward":o=1,c="start"}return{point:tr({x:0,y:0},e),line:tr({path:[["M",0,0],["L",a*o,a*s]]},n),text:tr({x:(a+2)*o,y:(a+2)*s,text:(0,O.U2)(this.get("text"),"content",""),textBaseline:l,textAlign:c},r)}},e}(Mr),$r=Xr,qr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:Br.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:Br.textColor,fontFamily:Br.fontFamily}}}})},e.prototype.renderInner=function(t){var e=(0,O.U2)(this.get("region"),"style",{}),n=((0,O.U2)(this.get("text"),"style",{}),this.get("lineLength")||0),r=this.get("points");if(r.length){var i=function(t){var e=t.map((function(t){return t.x})),n=t.map((function(t){return t.y})),r=Math.min.apply(Math,e),i=Math.min.apply(Math,n),a=Math.max.apply(Math,e),o=Math.max.apply(Math,n);return{x:r,y:i,minX:r,minY:i,maxX:a,maxY:o,width:a-r,height:o-i}}(r),a=[];a.push(["M",r[0].x,i.minY-n]),r.forEach((function(t){a.push(["L",t.x,t.y])})),a.push(["L",r[r.length-1].x,r[r.length-1].y-n]),this.addShape(t,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:tr({path:a},e)}),Rr(t,tr({id:this.getElementId("text"),name:"annotation-text",x:(i.minX+i.maxX)/2,y:i.minY-n},this.get("text")))}},e}(Mr),Zr=qr,Kr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},e.prototype.renderInner=function(t){var e=this,n=this.get("start"),r=this.get("end"),i=this.addGroup(t,{id:this.getElementId("region-filter"),capture:!1});(0,O.S6)(this.get("shapes"),(function(t,n){var r=t.get("type"),a=(0,O.d9)(t.attr());e.adjustShapeAttrs(a),e.addShape(i,{id:e.getElementId("shape-"+r+"-"+n),capture:!1,type:r,attrs:a})}));var a=fr({start:n,end:r});i.setClip({type:"rect",attrs:{x:a.minX,y:a.minY,width:a.width,height:a.height}})},e.prototype.adjustShapeAttrs=function(t){var e=this.get("color");t.fill&&(t.fill=t.fillStyle=e),t.stroke=t.strokeStyle=e},e}(Mr),Jr=Kr,Qr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{name:"annotation",type:"shape",draw:O.ZT})},e.prototype.renderInner=function(t){var e=this.get("render");(0,O.mf)(e)&&e(t)},e}(Mr),ti=Qr;function ei(t,e,n){var r;try{r=window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.style[e]}catch(i){}finally{r=void 0===r?n:r}return r}function ni(t,e){var n=function(t,e){var n=ei(t,"width",e);return"auto"===n&&(n=t.offsetWidth),parseFloat(n)}(t,e),r=parseFloat(ei(t,"borderLeftWidth"))||0,i=parseFloat(ei(t,"paddingLeft"))||0,a=parseFloat(ei(t,"paddingRight"))||0,o=parseFloat(ei(t,"borderRightWidth"))||0,s=parseFloat(ei(t,"marginRight"))||0;return n+r+o+i+a+(parseFloat(ei(t,"marginLeft"))||0)+s}function ri(t,e){var n=function(t,e){var n=ei(t,"height",e);return"auto"===n&&(n=t.offsetHeight),parseFloat(n)}(t,e),r=parseFloat(ei(t,"borderTopWidth"))||0,i=parseFloat(ei(t,"paddingTop"))||0,a=parseFloat(ei(t,"paddingBottom"))||0;return n+r+(parseFloat(ei(t,"borderBottomWidth"))||0)+i+a+(parseFloat(ei(t,"marginTop"))||0)+(parseFloat(ei(t,"marginBottom"))||0)}var ii=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.show=function(){this.get("container").style.display="",this.set("visible",!0)},e.prototype.hide=function(){this.get("container").style.display="none",this.set("visible",!1)},e.prototype.setCapture=function(t){var e=t?"auto":"none";this.getContainer().style.pointerEvents=e,this.set("capture",t)},e.prototype.getBBox=function(){var t=this.getContainer();return pr(parseFloat(t.style.left)||0,parseFloat(t.style.top)||0,t.clientWidth,t.clientHeight)},e.prototype.clear=function(){hr(this.get("container"))},e.prototype.destroy=function(){this.removeEvent(),this.removeDom(),t.prototype.destroy.call(this)},e.prototype.init=function(){t.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},e.prototype.initCapture=function(){this.setCapture(this.get("capture"))},e.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},e.prototype.initDom=function(){},e.prototype.initContainer=function(){var t=this.get("container");if((0,O.UM)(t)){t=this.createDom();var e=this.get("parent");(0,O.HD)(e)&&(e=document.getElementById(e),this.set("parent",e)),e.appendChild(t),this.get("containerId")&&t.setAttribute("id",this.get("containerId")),this.set("container",t)}else(0,O.HD)(t)&&(t=document.getElementById(t),this.set("container",t));this.get("parent")||this.set("parent",t.parentNode)},e.prototype.resetStyles=function(){var t=this.get("domStyles"),e=this.get("defaultStyles");t=t?(0,O.b$)({},e,t):e,this.set("domStyles",t)},e.prototype.applyStyles=function(){var t=this.get("domStyles");if(t){var e=this.getContainer();this.applyChildrenStyles(e,t);var n,r=this.get("containerClassName");if(r&&(n=r,e.className.match(new RegExp("(\\s|^)"+n+"(\\s|$)"))))j(e,t[r])}},e.prototype.applyChildrenStyles=function(t,e){(0,O.S6)(e,(function(e,n){var r=t.getElementsByClassName(n);(0,O.S6)(r,(function(t){j(t,e)}))}))},e.prototype.applyStyle=function(t,e){j(e,this.get("domStyles")[t])},e.prototype.createDom=function(){return Y(this.get("containerTpl"))},e.prototype.initEvent=function(){},e.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode&&t.parentNode.removeChild(t)},e.prototype.removeEvent=function(){},e.prototype.updateInner=function(t){(0,O.wH)(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},e.prototype.resetPosition=function(){},e}(Sr),ai=ii,oi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation" style="position:absolute"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},e.prototype.render=function(){var t=this.getContainer(),e=this.get("html");hr(t);var n=(0,O.mf)(e)?e(t):e;if((0,O.kK)(n))t.appendChild(n);else if((0,O.HD)(n)||(0,O.hj)(n)){var r=Y(""+n);r&&t.appendChild(r)}this.resetPosition()},e.prototype.resetPosition=function(){var t=this.getContainer(),e=this.getLocation(),n=e.x,r=e.y,i=this.get("alignX"),a=this.get("alignY"),o=this.get("offsetX"),s=this.get("offsetY"),l=ni(t),c=ri(t),u={x:n,y:r};"middle"===i?u.x-=Math.round(l/2):"right"===i&&(u.x-=Math.round(l)),"middle"===a?u.y-=Math.round(c/2):"bottom"===a&&(u.y-=Math.round(c)),o&&(u.x+=o),s&&(u.y+=s),j(t,{position:"absolute",left:u.x+"px",top:u.y+"px",zIndex:this.get("zIndex")})},e}(ai),si=oi;function li(t,e,n){var r=e+"Style",i=null;return(0,O.S6)(n,(function(e,n){t[n]&&e[r]&&(i||(i={}),(0,O.CD)(i,e[r]))})),i}var ci=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:Br.lineColor}},tickLine:{style:{lineWidth:1,stroke:Br.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:Br.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:Br.textColor,fontFamily:Br.fontFamily,fontWeight:"normal"},offset:10,offsetX:0,offsetY:0},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:Br.textColor,textBaseline:"middle",fontFamily:Br.fontFamily,textAlign:"center"},iconStyle:{fill:Br.descriptionIconFill,stroke:Br.descriptionIconStroke},description:""},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:Br.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},e.prototype.renderInner=function(t){this.get("line")&&this.drawLine(t),this.drawTicks(t),this.get("title")&&this.drawTitle(t)},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("ticks")},e.prototype.setItems=function(t){this.update({ticks:t})},e.prototype.updateItem=function(t,e){(0,O.CD)(t,e),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId("label-group");t&&t.clear()},e.prototype.setItemState=function(t,e,n){t[e]=n,this.updateTickStates(t)},e.prototype.hasState=function(t,e){return!!t[e]},e.prototype.getItemStates=function(t){var e=this.get("tickStates"),n=[];return(0,O.S6)(e,(function(e,r){t[r]&&n.push(r)})),n},e.prototype.clearItemsState=function(t){var e=this,n=this.getItemsByState(t);(0,O.S6)(n,(function(n){e.setItemState(n,t,!1)}))},e.prototype.getItemsByState=function(t){var e=this,n=this.getItems();return(0,O.hX)(n,(function(n){return e.hasState(n,t)}))},e.prototype.getSidePoint=function(t,e){var n=this.getSideVector(e,t);return{x:t.x+n[0],y:t.y+n[1]}},e.prototype.getTextAnchor=function(t){var e;return(0,O.vQ)(t[0],0)?e="center":t[0]>0?e="start":t[0]<0&&(e="end"),e},e.prototype.getTextBaseline=function(t){var e;return(0,O.vQ)(t[1],0)?e="middle":t[1]>0?e="top":t[1]<0&&(e="bottom"),e},e.prototype.processOverlap=function(t){},e.prototype.drawLine=function(t){var e=this.getLinePath(),n=this.get("line");this.addShape(t,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,O.CD)({path:e},n.style)})},e.prototype.getTickLineItems=function(t){var e=this,n=[],r=this.get("tickLine"),i=r.alignTick,a=r.length,o=1;return t.length>=2&&(o=t[1].value-t[0].value),(0,O.S6)(t,(function(t){var r=t.point;i||(r=e.getTickPoint(t.value-o/2));var s=e.getSidePoint(r,a);n.push({startPoint:r,tickValue:t.value,endPoint:s,tickId:t.id,id:"tickline-"+t.id})})),n},e.prototype.getSubTickLineItems=function(t){var e=[],n=this.get("subTickLine"),r=n.count,i=t.length;if(i>=2)for(var a=0;a<i-1;a++)for(var o=t[a],s=t[a+1],l=0;l<r;l++){var c=(l+1)/(r+1),u=(1-c)*o.tickValue+c*s.tickValue,h=this.getTickPoint(u),f=this.getSidePoint(h,n.length);e.push({startPoint:h,endPoint:f,tickValue:u,id:"sub-"+o.id+"-"+l})}return e},e.prototype.getTickLineAttrs=function(t,e,n,r){var i=this.get(e).style,a={points:[t.startPoint,t.endPoint]},o=(0,O.U2)(this.get("theme"),["tickLine","style"],{});i=(0,O.mf)(i)?(0,O.CD)({},o,i(a,n,r)):i;var s=t.startPoint,l=t.endPoint;return tr({x1:s.x,y1:s.y,x2:l.x,y2:l.y},i)},e.prototype.drawTick=function(t,e,n,r,i){this.addShape(e,{type:"line",id:this.getElementId(t.id),name:"axis-"+n,attrs:this.getTickLineAttrs(t,n,r,i)})},e.prototype.drawTickLines=function(t){var e=this,n=this.get("ticks"),r=this.get("subTickLine"),i=this.getTickLineItems(n),a=this.addGroup(t,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),o=this.get("tickLine");if((0,O.S6)(i,(function(n,r){if(o.displayWithLabel){var s=e.getElementId("label-"+n.tickId);t.findById(s)&&e.drawTick(n,a,"tickLine",r,i)}else e.drawTick(n,a,"tickLine",r,i)})),r){var s=this.getSubTickLineItems(i);(0,O.S6)(s,(function(t,n){e.drawTick(t,a,"subTickLine",n,s)}))}},e.prototype.processTicks=function(){var t=this,e=this.get("ticks");(0,O.S6)(e,(function(e){e.point=t.getTickPoint(e.value),(0,O.UM)(e.id)&&(e.id=e.name)}))},e.prototype.drawTicks=function(t){var e=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(t),this.get("tickLine")&&this.drawTickLines(t);var n=this.get("ticks");(0,O.S6)(n,(function(n){e.applyTickStates(n,t)}))},e.prototype.optimizeTicks=function(){var t=this.get("optimize"),e=this.get("ticks");if(t&&t.enable&&t.threshold>0){var n=(0,O.dp)(e);if(n>t.threshold){var r=Math.ceil(n/t.threshold),i=e.filter((function(t,e){return e%r===0}));this.set("ticks",i),this.set("originalTicks",e)}}},e.prototype.getLabelAttrs=function(t,e,n){var r=this.get("label"),i=r.offset,a=r.offsetX,o=r.offsetY,s=r.rotate,l=r.formatter,c=this.getSidePoint(t.point,i),u=this.getSideVector(i,c),h=l?l(t.name,t,e):t.name,f=r.style;f=(0,O.mf)(f)?(0,O.U2)(this.get("theme"),["label","style"],{}):f;var p=(0,O.CD)({x:c.x+a,y:c.y+o,text:h,textAlign:this.getTextAnchor(u),textBaseline:this.getTextBaseline(u)},f);return s&&(p.matrix=ar(c,s)),p},e.prototype.drawLabels=function(t){var e=this,n=this.get("ticks"),r=this.addGroup(t,{name:"axis-label-group",id:this.getElementId("label-group")});(0,O.S6)(n,(function(t,i){e.addShape(r,{type:"text",name:"axis-label",id:e.getElementId("label-"+t.id),attrs:e.getLabelAttrs(t,i,n),delegateObject:{tick:t,item:t,index:i}})})),this.processOverlap(r);var i=r.getChildren(),a=(0,O.U2)(this.get("theme"),["label","style"],{}),o=this.get("label"),s=o.style,l=o.formatter;if((0,O.mf)(s)){var c=i.map((function(t){return(0,O.U2)(t.get("delegateObject"),"tick")}));(0,O.S6)(i,(function(t,e){var n=t.get("delegateObject").tick,r=l?l(n.name,n,e):n.name,i=(0,O.CD)({},a,s(r,e,c));t.attr(i)}))}},e.prototype.getTitleAttrs=function(){var t=this.get("title"),e=t.style,n=t.position,r=t.offset,i=t.spacing,a=void 0===i?0:i,o=t.autoRotate,s=e.fontSize,l=.5;"start"===n?l=0:"end"===n&&(l=1);var c=this.getTickPoint(l),u=this.getSidePoint(c,r||a+s/2),h=(0,O.CD)({x:u.x,y:u.y,text:t.text},e),f=t.rotate,p=f;if((0,O.UM)(f)&&o){var d=this.getAxisVector(c);p=zn.Dg(d,[1,0],!0)}if(p){var g=ar(u,p);h.matrix=g}return h},e.prototype.drawTitle=function(t){var e,n=this.getTitleAttrs(),r=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:n});(null===(e=this.get("title"))||void 0===e?void 0:e.description)&&this.drawDescriptionIcon(t,r,n.matrix)},e.prototype.drawDescriptionIcon=function(t,e,n){var r=this.addGroup(t,{name:"axis-description",id:this.getElementById("description")}),i=e.getBBox(),a=i.maxX,o=i.maxY,s=i.height,l=this.get("title").iconStyle,c=s/2,u=c/6,h=a+4,f=o-s/2,p=[h+c,f-c],d=p[0],g=p[1],v=[d+c,g+c],y=v[0],m=v[1],x=[d,m+c],b=x[0],w=x[1],S=[h,g+c],C=S[0],T=S[1],E=[h+c,f-s/4],k=E[0],M=E[1],A=[k,M+u],O=A[0],F=A[1],I=[O,F+u],P=I[0],D=I[1],L=[P,D+3*c/4],R=L[0],B=L[1];this.addShape(r,{type:"path",id:this.getElementId("title-description-icon"),name:"axis-title-description-icon",attrs:tr({path:[["M",d,g],["A",c,c,0,0,1,y,m],["A",c,c,0,0,1,b,w],["A",c,c,0,0,1,C,T],["A",c,c,0,0,1,d,g],["M",k,M],["L",O,F],["M",P,D],["L",R,B]],lineWidth:u,matrix:n},l)}),this.addShape(r,{type:"rect",id:this.getElementId("title-description-rect"),name:"axis-title-description-rect",attrs:{x:h,y:f-s/2,width:s,height:s,stroke:"#000",fill:"#000",opacity:0,matrix:n,cursor:"pointer"}})},e.prototype.applyTickStates=function(t,e){if(this.getItemStates(t).length){var n=this.get("tickStates"),r=this.getElementId("label-"+t.id),i=e.findById(r);if(i){var a=li(t,"label",n);a&&i.attr(a)}var o=this.getElementId("tickline-"+t.id),s=e.findById(o);if(s){var l=li(t,"tickLine",n);l&&s.attr(l)}}},e.prototype.updateTickStates=function(t){var e=this.getItemStates(t),n=this.get("tickStates"),r=this.get("label"),i=this.getElementByLocalId("label-"+t.id),a=this.get("tickLine"),o=this.getElementByLocalId("tickline-"+t.id);if(e.length){if(i){var s=li(t,"label",n);s&&i.attr(s)}if(o){var l=li(t,"tickLine",n);l&&o.attr(l)}}else i&&i.attr(r.style),o&&o.attr(a.style)},e}(Mr),ui=ci;function hi(t,e,n,r){var i=e.getChildren(),a=!1;return(0,O.S6)(i,(function(e){var i=Lr(t,e,n,r);a=a||i})),a}function fi(){return di}function pi(t,e,n){return hi(t,e,n,"head")}function di(t,e,n){return hi(t,e,n,"tail")}function gi(t,e,n){return hi(t,e,n,"middle")}function vi(t){var e=function(t){var e=t.attr("matrix");return e&&1!==e[0]}(t)?function(t){var e=[0,0,0];return Nn(e,[1,0,0],t),Math.atan2(e[1],e[0])}(t.attr("matrix")):0;return e%360}function yi(t,e,n,r){var i=!1,a=vi(e),o=t?Math.abs(n.attr("y")-e.attr("y")):Math.abs(n.attr("x")-e.attr("x")),s=(t?n.attr("y")>e.attr("y"):n.attr("x")>e.attr("x"))?e.getBBox():n.getBBox();if(t){var l=Math.abs(Math.cos(a));i=vr(l,0,Math.PI/180)?s.width+r>o:s.height/l+r>o}else{l=Math.abs(Math.sin(a));i=vr(l,0,Math.PI/180)?s.width+r>o:s.height/l+r>o}return i}function mi(t,e,n,r){var i=(null===r||void 0===r?void 0:r.minGap)||0,a=e.getChildren().slice().filter((function(t){return t.get("visible")}));if(!a.length)return!1;var o=!1;n&&a.reverse();for(var s=a.length,l=a[0],c=1;c<s;c++){var u=a[c];u.getBBox();yi(t,l,u,i)?(u.hide(),o=!0):l=u}return o}function xi(t,e,n){var r=(null===n||void 0===n?void 0:n.minGap)||0,i=e.getChildren().slice();if(i.length<2)return!1;var a=!1,o=i[0],s=o.getBBox(),l=i[1],c=i.length,u=vi(o),h=t?Math.abs(l.attr("y")-o.attr("y")):Math.abs(l.attr("x")-o.attr("x")),f=0;if(t){var p=Math.abs(Math.cos(u));if(vr(p,0,Math.PI/180))f=(Dr(i)+r)/h;else f=(s.height/p+r)/h}else{p=Math.abs(Math.sin(u));if(vr(p,0,Math.PI/180))f=(Dr(i)+r)/h;else f=(s.height/p+r)/h}if(f>1){f=Math.ceil(f);for(var d=0;d<c;d++)d%f!==0&&(i[d].hide(),a=!0)}return a}function bi(){return Ti}function wi(t,e,n,r){return mi(t,e,!1,r)}function Si(t,e,n,r){return mi(t,e,!0,r)}function Ci(t,e,n,r){var i=(null===r||void 0===r?void 0:r.minGap)||0,a=e.getChildren().slice();if(a.length<=2)return!1;for(var o=!1,s=a.length,l=a[0],c=a[s-1],u=l,h=1;h<s-1;h++){var f=a[h];f.getBBox();yi(t,u,f,i)?(f.hide(),o=!0):u=f}return yi(t,u,c,i)&&(u.hide(),o=!0),o}function Ti(t,e,n,r){var i=xi(t,e,r);return mi(t,e,!1)&&(i=!0),i}function Ei(t,e,n,r){var i=e.getChildren().slice(),a=xi(t,e,r);if(i.length>2){var o=i[0],s=i[i.length-1];o.get("visible")||(o.show(),mi(t,e,!1,r)&&(a=!0)),s.get("visible")||(s.show(),mi(t,e,!0,r)&&(a=!0))}return a}function ki(t,e,n,r){var i=e.getChildren();if(!i.length)return!1;if(!t&&i.length<2)return!1;var a=Dr(i),o=!1;t?o=!!n&&a>n:o=a>Math.abs(i[1].attr("x")-i[0].attr("x"));o&&function(t,e){(0,O.S6)(t,(function(t){var n=ar({x:t.attr("x"),y:t.attr("y")},e);t.attr("matrix",n)}))}(i,r(n,a));return o}function Mi(){return Ai}function Ai(t,e,n,r){return ki(t,e,n,(function(){return(0,O.hj)(r)?r:t?Br.verticalAxisRotate:Br.horizontalAxisRotate}))}function Oi(t,e,n){return ki(t,e,n,(function(e,n){if(!e)return t?Br.verticalAxisRotate:Br.horizontalAxisRotate;if(t)return-Math.acos(e/n);var r=0;return(e>n||(r=Math.asin(e/n))>Math.PI/4)&&(r=Math.PI/4),r}))}var Fi,Ii=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getLinePath=function(){var t=this.get("start"),e=this.get("end"),n=[];return n.push(["M",t.x,t.y]),n.push(["L",e.x,e.y]),n},e.prototype.getInnerLayoutBBox=function(){var e=this.get("start"),n=this.get("end"),r=t.prototype.getInnerLayoutBBox.call(this),i=Math.min(e.x,n.x,r.x),a=Math.min(e.y,n.y,r.y),o=Math.max(e.x,n.x,r.maxX),s=Math.max(e.y,n.y,r.maxY);return{x:i,y:a,minX:i,minY:a,maxX:o,maxY:s,width:o-i,height:s-a}},e.prototype.isVertical=function(){var t=this.get("start"),e=this.get("end");return(0,O.vQ)(t.x,e.x)},e.prototype.isHorizontal=function(){var t=this.get("start"),e=this.get("end");return(0,O.vQ)(t.y,e.y)},e.prototype.getTickPoint=function(t){var e=this.get("start"),n=this.get("end"),r=n.x-e.x,i=n.y-e.y;return{x:e.x+r*t,y:e.y+i*t}},e.prototype.getSideVector=function(t){var e=this.getAxisVector(),n=Yn.Fv([0,0],e),r=this.get("verticalFactor"),i=[n[1],-1*n[0]];return Yn.bA([0,0],i,t*r)},e.prototype.getAxisVector=function(){var t=this.get("start"),e=this.get("end");return[e.x-t.x,e.y-t.y]},e.prototype.processOverlap=function(t){var e=this,n=this.isVertical(),r=this.isHorizontal();if(n||r){var i=this.get("label"),a=this.get("title"),o=this.get("verticalLimitLength"),s=i.offset,l=o,c=0,u=0;a&&(c=a.style.fontSize,u=a.spacing),l&&(l=l-s-u-c);var h=this.get("overlapOrder");if((0,O.S6)(h,(function(n){i[n]&&e.canProcessOverlap(n)&&e.autoProcessOverlap(n,i[n],t,l)})),a&&(0,O.UM)(a.offset)){var f=t.getCanvasBBox(),p=n?f.width:f.height;a.offset=s+p+u+c/2}}},e.prototype.canProcessOverlap=function(t){var e=this.get("label");return"autoRotate"!==t||(0,O.UM)(e.rotate)},e.prototype.autoProcessOverlap=function(t,e,n,r){var i=this,a=this.isVertical(),o=!1,s=l[t];if(!0===e){this.get("label");o=s.getDefault()(a,n,r)}else if((0,O.mf)(e))o=e(a,n,r);else if((0,O.Kn)(e)){var c=e;s[c.type]&&(o=s[c.type](a,n,r,c.cfg))}else s[e]&&(o=s[e](a,n,r));if("autoRotate"===t){if(o){var u=n.getChildren(),h=this.get("verticalFactor");(0,O.S6)(u,(function(t){if("center"===t.attr("textAlign")){var e=h>0?"end":"start";t.attr("textAlign",e)}}))}}else if("autoHide"===t){var f=n.getChildren().slice(0);(0,O.S6)(f,(function(t){t.get("visible")||(i.get("isRegister")&&i.unregisterElement(t),t.remove())}))}},e}(ui),Pi=Ii,Di=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},e.prototype.getLinePath=function(){var t=this.get("center"),e=t.x,n=t.y,r=this.get("radius"),i=r,a=this.get("startAngle"),o=this.get("endAngle"),s=[];if(Math.abs(o-a)===2*Math.PI)s=[["M",e,n-i],["A",r,i,0,1,1,e,n+i],["A",r,i,0,1,1,e,n-i],["Z"]];else{var l=this.getCirclePoint(a),c=this.getCirclePoint(o),u=Math.abs(o-a)>Math.PI?1:0,h=a>o?0:1;s=[["M",e,n],["L",l.x,l.y],["A",r,i,0,u,h,c.x,c.y],["L",e,n]]}return s},e.prototype.getTickPoint=function(t){var e=this.get("startAngle"),n=e+(this.get("endAngle")-e)*t;return this.getCirclePoint(n)},e.prototype.getSideVector=function(t,e){var n=this.get("center"),r=[e.x-n.x,e.y-n.y],i=this.get("verticalFactor"),a=Yn.kE(r);return Yn.bA(r,r,i*t/a),r},e.prototype.getAxisVector=function(t){var e=this.get("center"),n=[t.x-e.x,t.y-e.y];return[n[1],-1*n[0]]},e.prototype.getCirclePoint=function(t,e){var n=this.get("center");return e=e||this.get("radius"),{x:n.x+Math.cos(t)*e,y:n.y+Math.sin(t)*e}},e.prototype.canProcessOverlap=function(t){var e=this.get("label");return"autoRotate"!==t||(0,O.UM)(e.rotate)},e.prototype.processOverlap=function(t){var e=this,n=this.get("label"),r=this.get("title"),i=this.get("verticalLimitLength"),a=n.offset,o=i,s=0,l=0;r&&(s=r.style.fontSize,l=r.spacing),o&&(o=o-a-l-s);var c=this.get("overlapOrder");if((0,O.S6)(c,(function(r){n[r]&&e.canProcessOverlap(r)&&e.autoProcessOverlap(r,n[r],t,o)})),r&&(0,O.UM)(r.offset)){var u=t.getCanvasBBox().height;r.offset=a+u+l+s/2}},e.prototype.autoProcessOverlap=function(t,e,n,r){var i=this,a=!1,o=l[t];if(r>0)if(!0===e)a=o.getDefault()(!1,n,r);else if((0,O.mf)(e))a=e(!1,n,r);else if((0,O.Kn)(e)){var s=e;o[s.type]&&(a=o[s.type](!1,n,r,s.cfg))}else o[e]&&(a=o[e](!1,n,r));if("autoRotate"===t){if(a){var c=n.getChildren(),u=this.get("verticalFactor");(0,O.S6)(c,(function(t){if("center"===t.attr("textAlign")){var e=u>0?"end":"start";t.attr("textAlign",e)}}))}}else if("autoHide"===t){var h=n.getChildren().slice(0);(0,O.S6)(h,(function(t){t.get("visible")||(i.get("isRegister")&&i.unregisterElement(t),t.remove())}))}},e}(ui),Li=Di,Ri=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:Br.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:Br.textColor,textAlign:"center",textBaseline:"middle",fontFamily:Br.fontFamily}},textBackground:{padding:5,style:{stroke:Br.lineColor}}}})},e.prototype.renderInner=function(t){this.get("line")&&this.renderLine(t),this.get("text")&&(this.renderText(t),this.renderBackground(t))},e.prototype.renderText=function(t){var e=this.get("text"),n=e.style,r=e.autoRotate,i=e.content;if(!(0,O.UM)(i)){var a=this.getTextPoint(),o=null;if(r)o=ar(a,this.getRotateAngle());this.addShape(t,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:tr(tr(tr({},a),{text:i,matrix:o}),n)})}},e.prototype.renderLine=function(t){var e=this.getLinePath(),n=this.get("line").style;this.addShape(t,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:tr({path:e},n)})},e.prototype.renderBackground=function(t){var e=this.getElementId("text"),n=t.findById(e),r=this.get("textBackground");if(r&&n){var i=n.getBBox(),a=ur(r.padding),o=r.style;this.addShape(t,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:tr({x:i.x-a[3],y:i.y-a[0],width:i.width+a[1]+a[3],height:i.height+a[0]+a[2],matrix:n.attr("matrix")},o)}).toBack()}},e}(Mr),Bi=Ri,_i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.start,n=t.end,r=this.get("text").position,i=Math.atan2(n.y-e.y,n.x-e.x);return"start"===r?i-Math.PI/2:i+Math.PI/2},e.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,n=t.end,r=this.get("text");return xr(e,n,r.position,r.offset)},e.prototype.getLinePath=function(){var t=this.getLocation(),e=t.start,n=t.end;return[["M",e.x,e.y],["L",n.x,n.y]]},e}(Bi),Ni=_i,Ui=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},e.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.startAngle,n=t.endAngle;return"start"===this.get("text").position?e+Math.PI/2:n-Math.PI/2},e.prototype.getTextPoint=function(){var t=this.get("text"),e=t.position,n=t.offset,r=this.getLocation(),i=r.center,a=r.radius,o=r.startAngle,s=r.endAngle,l="start"===e?o:s,c=this.getRotateAngle()-Math.PI,u=gr(i,a,l),h=Math.cos(c)*n,f=Math.sin(c)*n;return{x:u.x+h,y:u.y+f}},e.prototype.getLinePath=function(){var t=this.getLocation(),e=t.center,n=t.radius,r=t.startAngle,i=t.endAngle,a=null;if(i-r===2*Math.PI){var o=e.x,s=e.y;a=[["M",o,s-n],["A",n,n,0,1,1,o,s+n],["A",n,n,0,1,1,o,s-n],["Z"]]}else{var l=gr(e,n,r),c=gr(e,n,i),u=Math.abs(i-r)>Math.PI?1:0,h=r>i?0:1;a=[["M",l.x,l.y],["A",n,n,0,u,h,c.x,c.y]]}return a},e}(Bi),zi=Ui,Hi="g2-crosshair",Vi=Hi+"-line",Gi=Hi+"-text",Wi=((Fi={})[""+Hi]={position:"relative"},Fi[""+Vi]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},Fi[""+Gi]={position:"absolute",color:Br.textColor,fontFamily:Br.fontFamily},Fi),Yi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+Hi+'"></div>',crosshairTpl:'<div class="'+Vi+'"></div>',textTpl:'<span class="'+Gi+'">{content}</span>',domStyles:null,containerClassName:Hi,defaultStyles:Wi,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},e.prototype.render=function(){this.resetText(),this.resetPosition()},e.prototype.initCrossHair=function(){var t=this.getContainer(),e=Y(this.get("crosshairTpl"));t.appendChild(e),this.applyStyle(Vi,e),this.set("crosshairEl",e)},e.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,n=t.end,r=this.get("text");return xr(e,n,r.position,r.offset)},e.prototype.resetText=function(){var t=this.get("text"),e=this.get("textEl");if(t){var n=t.content;if(!e){var r=this.getContainer();e=Y((0,O.ng)(this.get("textTpl"),t)),r.appendChild(e),this.applyStyle(Gi,e),this.set("textEl",e)}e.innerHTML=n}else e&&e.remove()},e.prototype.isVertical=function(t,e){return t.x===e.x},e.prototype.resetPosition=function(){var t=this.get("crosshairEl");t||(this.initCrossHair(),t=this.get("crosshairEl"));var e=this.get("start"),n=this.get("end"),r=Math.min(e.x,n.x),i=Math.min(e.y,n.y);this.isVertical(e,n)?j(t,{width:"1px",height:mr(Math.abs(n.y-e.y))}):j(t,{height:"1px",width:mr(Math.abs(n.x-e.x))}),j(t,{top:mr(i),left:mr(r)}),this.alignText()},e.prototype.alignText=function(){var t=this.get("textEl");if(t){var e=this.get("text").align,n=t.clientWidth,r=this.getTextPoint();switch(e){case"center":r.x=r.x-n/2;break;case"right":r.x=r.x-n}j(t,{top:mr(r.y),left:mr(r.x)})}},e.prototype.updateInner=function(e){(0,O.wH)(e,"text")&&this.resetText(),t.prototype.updateInner.call(this,e)},e}(ai),ji=Yi,Xi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:Br.lineColor}}}})},e.prototype.getLineType=function(){return(this.get("line")||this.get("defaultCfg").line).type},e.prototype.renderInner=function(t){this.drawGrid(t)},e.prototype.getAlternatePath=function(t,e){var n=this.getGridPath(t),r=e.slice(0).reverse(),i=this.getGridPath(r,!0);return this.get("closed")?n=n.concat(i):(i[0][0]="L",(n=n.concat(i)).push(["Z"])),n},e.prototype.getPathStyle=function(){return this.get("line").style},e.prototype.drawGrid=function(t){var e=this,n=this.get("line"),r=this.get("items"),i=this.get("alternateColor"),a=null;(0,O.S6)(r,(function(o,s){var l=o.id||s;if(n){var c=e.getPathStyle();c=(0,O.mf)(c)?c(o,s,r):c;var u=e.getElementId("line-"+l),h=e.getGridPath(o.points);e.addShape(t,{type:"path",name:"grid-line",id:u,attrs:(0,O.CD)({path:h},c)})}if(i&&s>0){var f=e.getElementId("region-"+l),p=s%2===0;if((0,O.HD)(i))p&&e.drawAlternateRegion(f,t,a.points,o.points,i);else{var d=p?i[1]:i[0];e.drawAlternateRegion(f,t,a.points,o.points,d)}}a=o}))},e.prototype.drawAlternateRegion=function(t,e,n,r,i){var a=this.getAlternatePath(n,r);this.addShape(e,{type:"path",id:t,name:"grid-region",attrs:{path:a,fill:i}})},e}(Mr),$i=Xi;var qi,Zi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{type:"circle",center:null,closed:!0})},e.prototype.getGridPath=function(t,e){var n=this.getLineType(),r=this.get("closed"),i=[];if(t.length)if("circle"===n){var a=this.get("center"),o=t[0],s=function(t,e,n,r){var i=n-t,a=r-e;return Math.sqrt(i*i+a*a)}(a.x,a.y,o.x,o.y),l=e?0:1;r?(i.push(["M",a.x,a.y-s]),i.push(["A",s,s,0,0,l,a.x,a.y+s]),i.push(["A",s,s,0,0,l,a.x,a.y-s]),i.push(["Z"])):(0,O.S6)(t,(function(t,e){0===e?i.push(["M",t.x,t.y]):i.push(["A",s,s,0,0,l,t.x,t.y])}))}else(0,O.S6)(t,(function(t,e){0===e?i.push(["M",t.x,t.y]):i.push(["L",t.x,t.y])})),r&&i.push(["Z"]);return i},e}($i),Ki=Zi,Ji=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{type:"line"})},e.prototype.getGridPath=function(t){var e=[];return(0,O.S6)(t,(function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e},e}($i),Qi=Ji,ta=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},e.prototype.getLayoutBBox=function(){var e=t.prototype.getLayoutBBox.call(this),n=this.get("maxWidth"),r=this.get("maxHeight"),i=e.width,a=e.height;return n&&(i=Math.min(i,n)),r&&(a=Math.min(a,r)),pr(e.minX,e.minY,i,a)},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},e.prototype.resetLocation=function(){var t=this.get("x"),e=this.get("y"),n=this.get("offsetX"),r=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t+n,y:e+r})},e.prototype.applyOffset=function(){this.resetLocation()},e.prototype.getDrawPoint=function(){return this.get("currentPoint")},e.prototype.setDrawPoint=function(t){return this.set("currentPoint",t)},e.prototype.renderInner=function(t){this.resetDraw(),this.get("title")&&this.drawTitle(t),this.drawLegendContent(t),this.get("background")&&this.drawBackground(t)},e.prototype.drawBackground=function(t){var e=this.get("background"),n=t.getBBox(),r=ur(e.padding),i=tr({x:0,y:0,width:n.width+r[1]+r[3],height:n.height+r[0]+r[2]},e.style);this.addShape(t,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:i}).toBack()},e.prototype.drawTitle=function(t){var e=this.get("currentPoint"),n=this.get("title"),r=n.spacing,i=n.style,a=n.text,o=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:tr({text:a,x:e.x,y:e.y},i)}).getBBox();this.set("currentPoint",{x:e.x,y:o.maxY+r})},e.prototype.resetDraw=function(){var t=this.get("background"),e={x:0,y:0};if(t){var n=ur(t.padding);e.x=n[3],e.y=n[0]}this.set("currentPoint",e)},e}(Mr),ea=ta,na={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},ra={fill:Br.textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:Br.fontFamily,fontWeight:"normal",lineHeight:12},ia="navigation-arrow-right",aa="navigation-arrow-left",oa={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},sa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentPageIndex=1,e.totalPagesCnt=1,e.pageWidth=0,e.pageHeight=0,e.startX=0,e.startY=0,e.onNavigationBack=function(){var t=e.getElementByLocalId("item-group");if(e.currentPageIndex>1){e.currentPageIndex-=1,e.updateNavigation();var n=e.getCurrentNavigationMatrix();e.get("animate")?t.animate({matrix:n},100):t.attr({matrix:n})}},e.onNavigationAfter=function(){var t=e.getElementByLocalId("item-group");if(e.currentPageIndex<e.totalPagesCnt){e.currentPageIndex+=1,e.updateNavigation();var n=e.getCurrentNavigationMatrix();e.get("animate")?t.animate({matrix:n},100):t.attr({matrix:n})}},e}return Qn(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},radio:null,items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:Br.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:Br.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:na,itemName:{spacing:16,style:ra},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:ra,spacing:6},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:Br.uncheckedColor},markerStyle:{fill:Br.uncheckedColor,stroke:Br.uncheckedColor}},inactive:{nameStyle:{fill:Br.uncheckedColor},markerStyle:{opacity:.2}}}}})},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("items")},e.prototype.setItems=function(t){this.update({items:t})},e.prototype.updateItem=function(t,e){(0,O.CD)(t,e),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId("item-group");t&&t.clear()},e.prototype.setItemState=function(t,e,n){t[e]=n;var r=this.getElementByLocalId("item-"+t.id);if(r){var i=this.getItems().indexOf(t),a=this.createOffScreenGroup(),o=this.drawItem(t,i,this.getItemHeight(),a);this.updateElements(o,r),this.clearUpdateStatus(r)}},e.prototype.hasState=function(t,e){return!!t[e]},e.prototype.getItemStates=function(t){var e=this.get("itemStates"),n=[];return(0,O.S6)(e,(function(e,r){t[r]&&n.push(r)})),n},e.prototype.clearItemsState=function(t){var e=this,n=this.getItemsByState(t);(0,O.S6)(n,(function(n){e.setItemState(n,t,!1)}))},e.prototype.getItemsByState=function(t){var e=this,n=this.getItems();return(0,O.hX)(n,(function(n){return e.hasState(n,t)}))},e.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},e.prototype.processItems=function(){var t=this.get("items");(0,O.S6)(t,(function(t){t.id||(t.id=t.name)}))},e.prototype.drawItems=function(t){var e=this,n=this.addGroup(t,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),r=this.addGroup(n,{id:this.getElementId("item-group"),name:"legend-item-group"}),i=this.getItemHeight(),a=this.get("itemWidth"),o=this.get("itemSpacing"),s=this.get("itemMarginBottom"),l=this.get("currentPoint"),c=l.x,u=l.y,h=this.get("layout"),f=this.get("items"),p=!1,d=0,g=this.get("maxWidth"),v=this.get("maxHeight");(0,O.S6)(f,(function(t,n){var f=e.drawItem(t,n,i,r),y=f.getBBox(),m=a||y.width;m>d&&(d=m),"horizontal"===h?(g&&g<l.x+m-c&&(p=!0,l.x=c,l.y+=i+s),e.moveElementTo(f,l),l.x+=m+o):(v&&v<l.y+i+s-u&&(p=!0,l.x+=d+o,l.y=u,d=0),e.moveElementTo(f,l),l.y+=i+s)})),p&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=c,this.startY=u,this.adjustNavigation(t,r))},e.prototype.getItemHeight=function(){var t=this.get("itemHeight");if(!t){var e=(this.get("itemName")||{}).style;if((0,O.mf)(e)){var n=this.getItems();n.forEach((function(r,i){var a=tr(tr({},ra),e(r,i,n)).fontSize;t<a&&(t=a)}))}else e&&(t=e.fontSize)}return t},e.prototype.drawMarker=function(t,e,n,r){var i=tr(tr(tr({x:0,y:r/2},e.style),{symbol:(0,O.U2)(n.marker,"symbol","circle")}),(0,O.U2)(n.marker,"style",{})),a=this.addShape(t,{type:"marker",id:this.getElementId("item-"+n.id+"-marker"),name:"legend-item-marker",attrs:i}),o=a.getBBox();a.attr("x",o.width/2);var s=a.attr(),l=s.stroke,c=s.fill;return l&&a.set("isStroke",!0),c&&a.set("isFill",!0),a},e.prototype.drawItemText=function(t,e,n,r,i,a,o){var s=n.formatter,l=n.style,c=tr(tr({x:a,y:i/2,text:s?s(r[e],r,o):r[e]},ra),(0,O.mf)(l)?l(r,o,this.getItems()):l);return this.addShape(t,{type:"text",id:this.getElementId("item-"+r.id+"-"+e),name:"legend-item-"+e,attrs:c})},e.prototype.drawRadio=function(t,e,n,r,i){var a,o,s=e.style||{},l=null!==(a=s.r)&&void 0!==a?a:r/2,c=3.6*l/8,u=[i+l,r/2-l],h=u[0],f=u[1],p=[h+l,f+l],d=p[0],g=p[1],v=[h,g+l],y=v[0],m=v[1],x=[i,f+l],b=x[0],w=x[1],S=n.showRadio,C=tr(tr({path:[["M",h,f],["A",l,l,0,0,1,d,g],["L",d-c,g],["L",d,g],["A",l,l,0,0,1,y,m],["L",y,m-c],["L",y,m],["A",l,l,0,0,1,b,w],["L",b+c,w],["L",b,w],["A",l,l,0,0,1,h,f],["L",h,f+c]],stroke:"#000000",fill:"#ffffff"},s),{opacity:S?null!==(o=null===s||void 0===s?void 0:s.opacity)&&void 0!==o?o:.45:0}),T=this.addShape(t,{type:"path",id:this.getElementId("item-"+n.id+"-radio"),name:"legend-item-radio",attrs:C});return T.set("tip",e.tip),T},e.prototype.drawItem=function(t,e,n,r){var i="item-"+t.id,a=this.addGroup(r,{name:"legend-item-container",id:this.getElementId("item-container-"+i),delegateObject:{item:t,index:e}}),o=this.addGroup(a,{name:"legend-item",id:this.getElementId(i),delegateObject:{item:t,index:e}}),s=this.get("marker"),l=this.get("itemName"),c=this.get("itemValue"),u=this.get("itemBackground"),h=this.get("radio"),f=this.getLimitItemWidth(),p=0;if(s){var d=this.drawMarker(o,s,t,n),g=s.spacing,v=(0,O.U2)(t,["marker","spacing"]);(0,O.hj)(v)&&(g=v),p=d.getBBox().maxX+g}if(l){var y=this.drawItemText(o,"name",l,t,n,p,e);f&&Lr(!0,y,(0,O.uZ)(f-p,0,f)),p=y.getBBox().maxX+l.spacing}if(c){var m=this.drawItemText(o,"value",c,t,n,p,e);f&&(c.alignRight?(m.attr({textAlign:"right",x:f}),Lr(!0,m,(0,O.uZ)(f-p,0,f),"head")):Lr(!0,m,(0,O.uZ)(f-p,0,f))),p=m.getBBox().maxX+c.spacing}if(h&&this.drawRadio(o,h,t,n,p),u){var x=o.getBBox();this.addShape(o,{type:"rect",name:"legend-item-background",id:this.getElementId(i+"-background"),attrs:tr({x:0,y:0,width:x.width,height:n},u.style)}).toBack()}return this.applyItemStates(t,o),o},e.prototype.adjustNavigation=function(t,e){var n=this,r=this.startX,i=this.startY,a=this.get("layout"),o=e.findAll((function(t){return"legend-item"===t.get("name")})),s=this.get("maxWidth"),l=this.get("maxHeight"),c=this.get("itemWidth"),u=this.get("itemSpacing"),h=this.getItemHeight(),f=(0,O.b$)({},na,this.get("pageNavigator")),p=this.drawNavigation(t,a,"00/00",f),d=p.getBBox(),g={x:r,y:i},v=1,y=0,m=0,x=0,b=this.get("itemMarginBottom");if("horizontal"===a){var w=this.get("maxRow")||1,S=h+(1===w?0:b),C=s-u-d.width-d.minX;this.pageHeight=S*w,this.pageWidth=C,(0,O.S6)(o,(function(t){var e=t.getBBox(),i=c||e.width;(y&&y<g.x+i+u||function(t,e){var n=t.getBBox(),r=c||n.width;return e.x+r+u+d.width>s}(t,g))&&(1===v&&(y=g.x+u,n.moveElementTo(p,{x:C,y:g.y+h/2-d.height/2-d.minY})),v+=1,g.x=r,g.y+=S),n.moveElementTo(t,g),t.getParent().setClip({type:"rect",attrs:{x:g.x,y:g.y,width:i+u,height:h}}),g.x+=i+u}))}else{(0,O.S6)(o,(function(t){var e=t.getBBox();e.width>m&&(m=e.width)})),x=m,m+=u,s&&(m=Math.min(s,m),x=Math.min(s,x)),this.pageWidth=m,this.pageHeight=l-Math.max(d.height,h+b);var T=Math.floor(this.pageHeight/(h+b));(0,O.S6)(o,(function(t,e){0!==e&&e%T===0&&(v+=1,g.x+=m,g.y=i),n.moveElementTo(t,g),t.getParent().setClip({type:"rect",attrs:{x:g.x,y:g.y,width:m,height:h}}),g.y+=h+b})),this.totalPagesCnt=v,this.moveElementTo(p,{x:r+x/2-d.width/2-d.minX,y:l-d.height-d.minY})}this.pageHeight&&this.pageWidth&&e.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),"horizontal"===a&&this.get("maxRow")?this.totalPagesCnt=Math.ceil(v/this.get("maxRow")):this.totalPagesCnt=v,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(p),e.attr("matrix",this.getCurrentNavigationMatrix())},e.prototype.drawNavigation=function(t,e,n,r){var i={x:0,y:0},a=this.addGroup(t,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),o=(0,O.U2)(r.marker,"style",{}),s=o.size,l=void 0===s?12:s,c=er(o,["size"]),u=this.drawArrow(a,i,aa,"horizontal"===e?"up":"left",l,c);u.on("click",this.onNavigationBack);var h=u.getBBox();i.x+=h.width+2;var f=this.addShape(a,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:tr({x:i.x,y:i.y+l/2,text:n,textBaseline:"middle"},(0,O.U2)(r.text,"style"))}).getBBox();return i.x+=f.width+2,this.drawArrow(a,i,ia,"horizontal"===e?"down":"right",l,c).on("click",this.onNavigationAfter),a},e.prototype.updateNavigation=function(t){var e=(0,O.b$)({},na,this.get("pageNavigator")).marker.style,n=e.fill,r=e.opacity,i=e.inactiveFill,a=e.inactiveOpacity,o=this.currentPageIndex+"/"+this.totalPagesCnt,s=t?t.getChildren()[1]:this.getElementByLocalId("navigation-text"),l=t?t.findById(this.getElementId(aa)):this.getElementByLocalId(aa),c=t?t.findById(this.getElementId(ia)):this.getElementByLocalId(ia);s.attr("text",o),l.attr("opacity",1===this.currentPageIndex?a:r),l.attr("fill",1===this.currentPageIndex?i:n),l.attr("cursor",1===this.currentPageIndex?"not-allowed":"pointer"),c.attr("opacity",this.currentPageIndex===this.totalPagesCnt?a:r),c.attr("fill",this.currentPageIndex===this.totalPagesCnt?i:n),c.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer");var u=l.getBBox().maxX+2;s.attr("x",u),u+=s.getBBox().width+2,this.updateArrowPath(c,{x:u,y:0})},e.prototype.drawArrow=function(t,e,n,r,i,a){var o=e.x,s=e.y,l=this.addShape(t,{type:"path",id:this.getElementId(n),name:n,attrs:tr({size:i,direction:r,path:[["M",o+i/2,s],["L",o,s+i],["L",o+i,s+i],["Z"]],cursor:"pointer"},a)});return l.attr("matrix",ar({x:o+i/2,y:s+i/2},oa[r])),l},e.prototype.updateArrowPath=function(t,e){var n=e.x,r=e.y,i=t.attr(),a=i.size,o=i.direction,s=ar({x:n+a/2,y:r+a/2},oa[o]);t.attr("path",[["M",n+a/2,r],["L",n,r+a],["L",n+a,r+a],["Z"]]),t.attr("matrix",s)},e.prototype.getCurrentNavigationMatrix=function(){var t=this,e=t.currentPageIndex,n=t.pageWidth,r=t.pageHeight;return or("horizontal"===this.get("layout")?{x:0,y:r*(1-e)}:{x:n*(1-e),y:0})},e.prototype.applyItemStates=function(t,e){if(this.getItemStates(t).length>0){var n=e.getChildren(),r=this.get("itemStates");(0,O.S6)(n,(function(e){var n=e.get("name").split("-")[2],i=li(t,n,r);i&&(e.attr(i),"marker"!==n||e.get("isStroke")&&e.get("isFill")||(e.get("isStroke")&&e.attr("fill",null),e.get("isFill")&&e.attr("stroke",null)))}))}},e.prototype.getLimitItemWidth=function(){var t=this.get("itemWidth"),e=this.get("maxItemWidth");return e?t&&(e=t<=e?t:e):t&&(e=t),e},e}(ea),la=sa,ca=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:Br.textColor,textBaseline:"middle",fontFamily:Br.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:Br.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},e.prototype.isSlider=function(){return!0},e.prototype.getValue=function(){return this.getCurrentValue()},e.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},e.prototype.setRange=function(t,e){this.update({min:t,max:e})},e.prototype.setValue=function(t){var e=this.getValue();this.set("value",t);var n=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(n),this.delegateEmit("valuechanged",{originValue:e,value:t})},e.prototype.initEvent=function(){var t=this.get("group");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},e.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get("slidable")&&this.resetHandlers(t)},e.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},e.prototype.bindHandlersEvent=function(t){var e=this;t.on("legend-handler-min:drag",(function(t){var n=e.getValueByCanvasPoint(t.x,t.y),r=e.getCurrentValue()[1];r<n&&(r=n),e.setValue([n,r])})),t.on("legend-handler-max:drag",(function(t){var n=e.getValueByCanvasPoint(t.x,t.y),r=e.getCurrentValue()[0];r>n&&(r=n),e.setValue([r,n])}))},e.prototype.bindRailEvent=function(t){},e.prototype.bindTrackEvent=function(t){var e=this,n=null;t.on("legend-track:dragstart",(function(t){n={x:t.x,y:t.y}})),t.on("legend-track:drag",(function(t){if(n){var r=e.getValueByCanvasPoint(n.x,n.y),i=e.getValueByCanvasPoint(t.x,t.y),a=e.getCurrentValue(),o=a[1]-a[0],s=e.getRange(),l=i-r;l<0?a[0]+l>s.min?e.setValue([a[0]+l,a[1]+l]):e.setValue([s.min,s.min+o]):l>0&&(l>0&&a[1]+l<s.max?e.setValue([a[0]+l,a[1]+l]):e.setValue([s.max-o,s.max])),n={x:t.x,y:t.y}}})),t.on("legend-track:dragend",(function(t){n=null}))},e.prototype.drawLabels=function(t){this.drawLabel("min",t),this.drawLabel("max",t)},e.prototype.drawLabel=function(t,e){var n=this.get("label"),r=n.style,i=n.align,a=n.formatter,o=this.get(t),s=this.getLabelAlignAttrs(t,i),l="label-"+t;this.addShape(e,{type:"text",id:this.getElementId(l),name:"legend-label-"+t,attrs:tr(tr({x:0,y:0,text:(0,O.mf)(a)?a(o):o},r),s)})},e.prototype.getLabelAlignAttrs=function(t,e){var n="center",r="middle";return this.isVertical()?(n="start",r="rail"!==e?"min"===t?"top":"bottom":"top"):"rail"!==e?(r="top",n="min"===t?"start":"end"):(n="start",r="middle"),{textAlign:n,textBaseline:r}},e.prototype.getRailPath=function(t,e,n,r){var i=this.get("rail"),a=i.size,o=i.defaultLength,s=i.type,l=this.isVertical(),c=n,u=r;c||(c=l?a:o),u||(u=l?o:a);var h=[];return"color"===s?(h.push(["M",t,e]),h.push(["L",t+c,e]),h.push(["L",t+c,e+u]),h.push(["L",t,e+u]),h.push(["Z"])):(h.push(["M",t+c,e]),h.push(["L",t+c,e+u]),h.push(["L",t,e+u]),h.push(["Z"])),h},e.prototype.drawRail=function(t){var e=this.get("rail").style;this.addShape(t,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:tr({path:this.getRailPath(0,0)},e)})},e.prototype.getTrackColor=function(t){var e,n=t.length;if(!n)return null;if(1===n)return t[0];e=this.isVertical()?"l(90)":"l(0)";for(var r=0;r<n;r++){e+=" "+r/(n-1)+":"+t[r]}return e},e.prototype.getTrackPath=function(t){var e=this.getRailShape(t).attr("path");return(0,O.d9)(e)},e.prototype.getClipTrackAttrs=function(t){var e,n,r,i,a=this.getCurrentValue(),o=a[0],s=a[1],l=this.getRailBBox(t),c=this.getPointByValue(o,t),u=this.getPointByValue(s,t);return this.isVertical()?(e=l.minX,n=c.y,r=l.width,i=u.y-c.y):(e=c.x,n=l.minY,r=u.x-c.x,i=l.height),{x:e,y:n,width:r,height:i}},e.prototype.getTrackAttrs=function(t){var e=this.get("track"),n=this.get("colors"),r=this.getTrackPath(t);return(0,O.CD)({path:r,fill:this.getTrackColor(n)},e.style)},e.prototype.resetTrackClip=function(t){var e=t||this.get("group"),n=this.getElementId("track"),r=e.findById(n),i=r.getClip(),a=this.getClipTrackAttrs(t);i?i.attr(a):r.setClip({type:"rect",attrs:a})},e.prototype.resetTrack=function(t){var e=this.getElementId("track"),n=t.findById(e),r=this.getTrackAttrs(t);n?n.attr(r):this.addShape(t,{type:"path",id:e,draggable:this.get("slidable"),name:"legend-track",attrs:r})},e.prototype.getPointByValue=function(t,e){var n=this.getRange(),r=n.min,i=(t-r)/(n.max-r),a=this.getRailBBox(e),o={x:0,y:0};return this.isVertical()?(o.x=a.minX+a.width/2,o.y=dr(a.minY,a.maxY,i)):(o.x=dr(a.minX,a.maxX,i),o.y=a.minY+a.height/2),o},e.prototype.getRailShape=function(t){return(t||this.get("group")).findById(this.getElementId("rail"))},e.prototype.getRailBBox=function(t){return this.getRailShape(t).getBBox()},e.prototype.getRailCanvasBBox=function(){return this.get("group").findById(this.getElementId("rail")).getCanvasBBox()},e.prototype.isVertical=function(){return"vertical"===this.get("layout")},e.prototype.getValueByCanvasPoint=function(t,e){var n=this.getRange(),r=n.min,i=n.max,a=this.getRailCanvasBBox(),o=this.isVertical(),s=this.get("step"),l=dr(r,i,o?(e-a.minY)/a.height:(t-a.minX)/a.width);s&&(l=r+Math.round((l-r)/s)*s);return l>i&&(l=i),l<r&&(l=r),l},e.prototype.getCurrentValue=function(){var t=this.get("value");if(!t){var e=this.get("values");return e?[Math.max(Math.min.apply(Math,nr(e,[this.get("max")])),this.get("min")),Math.min(Math.max.apply(Math,nr(e,[this.get("min")])),this.get("max"))]:[this.get("min"),this.get("max")]}return t},e.prototype.resetHandlers=function(t){var e=this.getCurrentValue(),n=e[0],r=e[1];this.resetHandler(t,"min",n),this.resetHandler(t,"max",r)},e.prototype.getHandlerPath=function(t,e){var n=this.isVertical(),r=[],i=t.size,a=e.x,o=e.y,s=1.4*i,l=i/2,c=i/6;if(n){var u=a+.4*s;r.push(["M",a,o]),r.push(["L",u,o+l]),r.push(["L",a+s,o+l]),r.push(["L",a+s,o-l]),r.push(["L",u,o-l]),r.push(["Z"]),r.push(["M",u,o+c]),r.push(["L",a+s-2,o+c]),r.push(["M",u,o-c]),r.push(["L",a+s-2,o-c])}else{var h=o+.4*s;r.push(["M",a,o]),r.push(["L",a-l,h]),r.push(["L",a-l,o+s]),r.push(["L",a+l,o+s]),r.push(["L",a+l,h]),r.push(["Z"]),r.push(["M",a-c,h]),r.push(["L",a-c,o+s-2]),r.push(["M",a+c,h]),r.push(["L",a+c,o+s-2])}return r},e.prototype.resetHandler=function(t,e,n){var r=this.getPointByValue(n,t),i=this.get("handler"),a=this.getHandlerPath(i,r),o=this.getElementId("handler-"+e),s=t.findById(o),l=this.isVertical();s?s.attr("path",a):this.addShape(t,{type:"path",name:"legend-handler-"+e,draggable:!0,id:o,attrs:tr(tr({path:a},i.style),{cursor:l?"ns-resize":"ew-resize"})})},e.prototype.fixedElements=function(t){var e=t.findById(this.getElementId("rail")),n=t.findById(this.getElementId("label-min")),r=t.findById(this.getElementId("label-max")),i=this.getDrawPoint();this.isVertical()?this.fixedVertail(n,r,e,i):this.fixedHorizontal(n,r,e,i)},e.prototype.fitRailLength=function(t,e,n,r){var i=this.isVertical()?"height":"width",a=this.get("label"),o=a.align,s=a.spacing,l=this.get("max"+(0,O.jC)(i));if(l){var c=("rail"===o?n[i]+t[i]+e[i]+2*s:n[i])-l;c>0&&this.changeRailLength(r,i,n[i]-c)}},e.prototype.changeRailLength=function(t,e,n){var r,i=t.getBBox();r="height"===e?this.getRailPath(i.x,i.y,i.width,n):this.getRailPath(i.x,i.y,n,i.height),t.attr("path",r)},e.prototype.changeRailPosition=function(t,e,n){var r=t.getBBox(),i=this.getRailPath(e,n,r.width,r.height);t.attr("path",i)},e.prototype.fixedHorizontal=function(t,e,n,r){var i=this.get("label"),a=i.align,o=i.spacing,s=n.getBBox(),l=t.getBBox(),c=e.getBBox(),u=s.height;this.fitRailLength(l,c,s,n),s=n.getBBox(),"rail"===a?(t.attr({x:r.x,y:r.y+u/2}),this.changeRailPosition(n,r.x+l.width+o,r.y),e.attr({x:r.x+l.width+s.width+2*o,y:r.y+u/2})):"top"===a?(t.attr({x:r.x,y:r.y}),e.attr({x:r.x+s.width,y:r.y}),this.changeRailPosition(n,r.x,r.y+l.height+o)):(this.changeRailPosition(n,r.x,r.y),t.attr({x:r.x,y:r.y+s.height+o}),e.attr({x:r.x+s.width,y:r.y+s.height+o}))},e.prototype.fixedVertail=function(t,e,n,r){var i=this.get("label"),a=i.align,o=i.spacing,s=n.getBBox(),l=t.getBBox(),c=e.getBBox();if(this.fitRailLength(l,c,s,n),s=n.getBBox(),"rail"===a)t.attr({x:r.x,y:r.y}),this.changeRailPosition(n,r.x,r.y+l.height+o),e.attr({x:r.x,y:r.y+l.height+s.height+2*o});else if("right"===a)t.attr({x:r.x+s.width+o,y:r.y}),this.changeRailPosition(n,r.x,r.y),e.attr({x:r.x+s.width+o,y:r.y+s.height});else{var u=Math.max(l.width,c.width);t.attr({x:r.x,y:r.y}),this.changeRailPosition(n,r.x+u+o,r.y),e.attr({x:r.x,y:r.y+s.height})}},e}(ea),ua=ca,ha="g2-tooltip",fa="g2-tooltip-title",pa="g2-tooltip-list",da="g2-tooltip-list-item",ga="g2-tooltip-marker",va="g2-tooltip-value",ya="g2-tooltip-name",ma="g2-tooltip-crosshair-x",xa="g2-tooltip-crosshair-y",ba=((qi={})[""+ha]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:Br.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},qi[""+fa]={marginBottom:"4px"},qi[""+pa]={margin:"0px",listStyleType:"none",padding:"0px"},qi[""+da]={listStyleType:"none",marginBottom:"4px"},qi[""+ga]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},qi[""+va]={display:"inline-block",float:"right",marginLeft:"30px"},qi[""+ma]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},qi[""+xa]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},qi);var wa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+ha+'"><div class="'+fa+'"></div><ul class="'+pa+'"></ul></div>',itemTpl:'<li class="'+da+'" data-index={index}>\n          <span class="'+ga+'" style="background:{color}"></span>\n          <span class="'+ya+'">{name}</span>:\n          <span class="'+va+'">{value}</span>\n        </li>',xCrosshairTpl:'<div class="'+ma+'"></div>',yCrosshairTpl:'<div class="'+xa+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:ha,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:ba})},e.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},e.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},e.prototype.show=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!0),j(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},e.prototype.hide=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!1),j(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},e.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},e.prototype.setCrossHairsVisible=function(t){var e=t?"":"none",n=this.get("xCrosshairDom"),r=this.get("yCrosshairDom");n&&j(n,{display:e}),r&&j(r,{display:e})},e.prototype.initContainer=function(){if(t.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var e=this.getHtmlContentNode();this.get("parent").appendChild(e),this.set("container",e),this.resetStyles(),this.applyStyles()}},e.prototype.updateInner=function(e){this.get("customContent")?this.renderCustomContent():(function(t,e){var n=!1;return(0,O.S6)(e,(function(e){if((0,O.wH)(t,e))return n=!0,!1})),n}(e,["title","showTitle"])&&this.resetTitle(),(0,O.wH)(e,"items")&&this.renderItems()),t.prototype.updateInner.call(this,e)},e.prototype.initDom=function(){this.cacheDoms()},e.prototype.removeDom=function(){t.prototype.removeDom.call(this),this.clearCrosshairs()},e.prototype.resetPosition=function(){var t,e=this.get("x"),n=this.get("y"),r=this.get("offset"),i=this.getOffset(),a=i.offsetX,o=i.offsetY,s=this.get("position"),l=this.get("region"),c=this.getContainer(),u=this.getBBox(),h=u.width,f=u.height;l&&(t=fr(l));var p=function(t,e,n,r,i,a,o){var s=function(t,e,n,r,i,a){var o=t,s=e;switch(a){case"left":o=t-r-n,s=e-i/2;break;case"right":o=t+n,s=e-i/2;break;case"top":o=t-r/2,s=e-i-n;break;case"bottom":o=t-r/2,s=e+n;break;default:o=t+n,s=e-i-n}return{x:o,y:s}}(t,e,n,r,i,a);if(o){var l=function(t,e,n,r,i){return{left:t<i.x,right:t+n>i.x+i.width,top:e<i.y,bottom:e+r>i.y+i.height}}(s.x,s.y,r,i,o);"auto"===a?(l.right&&(s.x=Math.max(0,t-r-n)),l.top&&(s.y=Math.max(0,e-i-n))):"top"===a||"bottom"===a?(l.left&&(s.x=o.x),l.right&&(s.x=o.x+o.width-r),"top"===a&&l.top&&(s.y=e+n),"bottom"===a&&l.bottom&&(s.y=e-i-n)):(l.top&&(s.y=o.y),l.bottom&&(s.y=o.y+o.height-i),"left"===a&&l.left&&(s.x=t+n),"right"===a&&l.right&&(s.x=t-r-n))}return s}(e,n,r,h,f,s,t);j(c,{left:mr(p.x+a),top:mr(p.y+o)}),this.resetCrosshairs()},e.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),e=this.get("parent"),n=this.get("container");n&&n.parentNode===e?e.replaceChild(t,n):e.appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()},e.prototype.getHtmlContentNode=function(){var t,e=this.get("customContent");if(e){var n=e(this.get("title"),this.get("items"));t=(0,O.kK)(n)?n:Y(n)}return t},e.prototype.cacheDoms=function(){var t=this.getContainer(),e=t.getElementsByClassName(fa)[0],n=t.getElementsByClassName(pa)[0];this.set("titleDom",e),this.set("listDom",n)},e.prototype.resetTitle=function(){var t=this.get("title");this.get("showTitle")&&t?this.setTitle(t):this.setTitle("")},e.prototype.setTitle=function(t){var e=this.get("titleDom");e&&(e.innerText=t)},e.prototype.resetCrosshairs=function(){var t=this.get("crosshairsRegion"),e=this.get("crosshairs");if(t&&e){var n=fr(t),r=this.get("xCrosshairDom"),i=this.get("yCrosshairDom");"x"===e?(this.resetCrosshair("x",n),i&&(i.remove(),this.set("yCrosshairDom",null))):"y"===e?(this.resetCrosshair("y",n),r&&(r.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",n),this.resetCrosshair("y",n)),this.setCrossHairsVisible(this.get("visible"))}else this.clearCrosshairs()},e.prototype.resetCrosshair=function(t,e){var n=this.checkCrosshair(t),r=this.get(t);j(n,"x"===t?{left:mr(r),top:mr(e.y),height:mr(e.height)}:{top:mr(r),left:mr(e.x),width:mr(e.width)})},e.prototype.checkCrosshair=function(t){var e=t+"CrosshairDom",n=t+"CrosshairTpl",r="CROSSHAIR_"+t.toUpperCase(),i=u[r],a=this.get(e),o=this.get("parent");return a||(a=Y(this.get(n)),this.applyStyle(i,a),o.appendChild(a),this.set(e,a)),a},e.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),e=this.get("itemTpl"),n=this.get("listDom");n&&((0,O.S6)(t,(function(t){var r=It.toCSSGradient(t.color),i=tr(tr({},t),{color:r}),a=Y((0,O.ng)(e,i));n.appendChild(a)})),this.applyChildrenStyles(n,this.get("domStyles")))},e.prototype.clearItemDoms=function(){this.get("listDom")&&hr(this.get("listDom"))},e.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),e=this.get("yCrosshairDom");t&&t.remove(),e&&e.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},e}(ai),Sa=wa,Ca={opacity:0},Ta={stroke:"#C5C5C5",strokeOpacity:.85},Ea={fill:"#CACED4",opacity:.85},ka=n(3313);function Ma(t){return function(t){return(0,O.UI)(t,(function(t,e){return[0===e?"M":"L",t[0],t[1]]}))}(t)}function Aa(t,e,n,r){void 0===r&&(r=!0);var i=new ze({values:t}),a=new qt({values:(0,O.UI)(t,(function(t,e){return e}))}),o=(0,O.UI)(t,(function(t,r){return[a.scale(r)*e,n-i.scale(t)*n]}));return r?function(t){if(t.length<=2)return Ma(t);var e=[];(0,O.S6)(t,(function(t){(0,O.Xy)(t,e.slice(e.length-2))||e.push(t[0],t[1])}));var n=(0,ka.e9)(e,!1),r=(0,O.YM)(t),i=r[0],a=r[1];return n.unshift(["M",i,a]),n}(o):Ma(o)}function Oa(t,e,n,r){var i=nr(t),a=function(t,e){var n=new ze({values:t}),r=n.max<0?n.max:Math.max(0,n.min);return e-n.scale(r)*e}(r,n);return i.push(["L",e,a]),i.push(["L",0,a]),i.push(["Z"]),i}var Fa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:Ca,lineStyle:Ta,areaStyle:Ea})},e.prototype.renderInner=function(t){var e=this.cfg,n=e.width,r=e.height,i=e.data,a=e.smooth,o=e.isArea,s=e.backgroundStyle,l=e.lineStyle,c=e.areaStyle;this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:tr({x:0,y:0,width:n,height:r},s)});var u=Aa(i,n,r,a);if(this.addShape(t,{id:this.getElementId("line"),type:"path",attrs:tr({path:u},l)}),o){var h=Oa(u,n,r,i);this.addShape(t,{id:this.getElementId("area"),type:"path",attrs:tr({path:h},c)})}},e.prototype.applyOffset=function(){var t=this.cfg,e=t.x,n=t.y;this.moveElementTo(this.get("group"),{x:e,y:n})},e}(Mr),Ia={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},Pa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{name:"handler",x:0,y:0,width:10,height:24,style:Ia})},e.prototype.renderInner=function(t){var e=this.cfg,n=e.width,r=e.height,i=e.style,a=i.fill,o=i.stroke,s=i.radius,l=i.opacity,c=i.cursor;this.addShape(t,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:n,height:r,fill:a,stroke:o,radius:s,opacity:l,cursor:c}});var u=1/3*n,h=2/3*n,f=1/4*r,p=3/4*r;this.addShape(t,{id:this.getElementId("line-left"),type:"line",attrs:{x1:u,y1:f,x2:u,y2:p,stroke:o,cursor:c}}),this.addShape(t,{id:this.getElementId("line-right"),type:"line",attrs:{x1:h,y1:f,x2:h,y2:p,stroke:o,cursor:c}})},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.bindEvents=function(){var t=this;this.get("group").on("mouseenter",(function(){var e=t.get("style").highLightFill;t.getElementByLocalId("background").attr("fill",e),t.draw()})),this.get("group").on("mouseleave",(function(){var e=t.get("style").fill;t.getElementByLocalId("background").attr("fill",e),t.draw()}))},e.prototype.draw=function(){var t=this.get("container").get("canvas");t&&t.draw()},e}(Mr),Da={fill:"#416180",opacity:.05},La={fill:"#5B8FF9",opacity:.15,cursor:"move"},Ra={width:10,height:24},Ba={textBaseline:"middle",fill:"#000",opacity:.45},_a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onMouseDown=function(t){return function(n){e.currentTarget=t;var r=n.originalEvent;r.stopPropagation(),r.preventDefault(),e.prevX=(0,O.U2)(r,"touches.0.pageX",r.pageX),e.prevY=(0,O.U2)(r,"touches.0.pageY",r.pageY);var i=e.getContainerDOM();i.addEventListener("mousemove",e.onMouseMove),i.addEventListener("mouseup",e.onMouseUp),i.addEventListener("mouseleave",e.onMouseUp),i.addEventListener("touchmove",e.onMouseMove),i.addEventListener("touchend",e.onMouseUp),i.addEventListener("touchcancel",e.onMouseUp)}},e.onMouseMove=function(t){var n=e.cfg.width,r=[e.get("start"),e.get("end")];t.stopPropagation(),t.preventDefault();var i=(0,O.U2)(t,"touches.0.pageX",t.pageX),a=(0,O.U2)(t,"touches.0.pageY",t.pageY),o=i-e.prevX,s=e.adjustOffsetRange(o/n);e.updateStartEnd(s),e.updateUI(e.getElementByLocalId("foreground"),e.getElementByLocalId("minText"),e.getElementByLocalId("maxText")),e.prevX=i,e.prevY=a,e.draw(),e.emit("sliderchange",[e.get("start"),e.get("end")].sort()),e.delegateEmit("valuechanged",{originValue:r,value:[e.get("start"),e.get("end")]})},e.onMouseUp=function(){e.currentTarget&&(e.currentTarget=void 0);var t=e.getContainerDOM();t&&(t.removeEventListener("mousemove",e.onMouseMove),t.removeEventListener("mouseup",e.onMouseUp),t.removeEventListener("mouseleave",e.onMouseUp),t.removeEventListener("touchmove",e.onMouseMove),t.removeEventListener("touchend",e.onMouseUp),t.removeEventListener("touchcancel",e.onMouseUp))},e}return Qn(e,t),e.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e);var n=this.get("start"),r=this.get("end"),i=(0,O.uZ)(n,t,e),a=(0,O.uZ)(r,t,e);this.get("isInit")||n===i&&r===a||this.setValue([i,a])},e.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},e.prototype.setValue=function(t){var e=this.getRange();if((0,O.kJ)(t)&&2===t.length){var n=[this.get("start"),this.get("end")];this.update({start:(0,O.uZ)(t[0],e.min,e.max),end:(0,O.uZ)(t[1],e.min,e.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:n,value:t})}},e.prototype.getValue=function(){return[this.get("start"),this.get("end")]},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:Da,foregroundStyle:La,handlerStyle:Ra,textStyle:Ba}})},e.prototype.update=function(e){var n=e.start,r=e.end,i=tr({},e);(0,O.UM)(n)||(i.start=(0,O.uZ)(n,0,1)),(0,O.UM)(r)||(i.end=(0,O.uZ)(r,0,1)),t.prototype.update.call(this,i),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},e.prototype.init=function(){this.set("start",(0,O.uZ)(this.get("start"),0,1)),this.set("end",(0,O.uZ)(this.get("end"),0,1)),t.prototype.init.call(this)},e.prototype.render=function(){t.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},e.prototype.renderInner=function(t){var e=this.cfg,n=(e.start,e.end,e.width),r=e.height,i=e.trendCfg,a=void 0===i?{}:i,o=e.minText,s=e.maxText,l=e.backgroundStyle,c=void 0===l?{}:l,u=e.foregroundStyle,h=void 0===u?{}:u,f=e.textStyle,p=void 0===f?{}:f,d=(0,O.b$)({},Ia,this.cfg.handlerStyle);(0,O.dp)((0,O.U2)(a,"data"))&&(this.trend=this.addComponent(t,tr({component:Fa,id:this.getElementId("trend"),x:0,y:0,width:n,height:r},a))),this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:tr({x:0,y:0,width:n,height:r},c)});this.addShape(t,{id:this.getElementId("minText"),type:"text",attrs:tr({y:r/2,textAlign:"right",text:o,silent:!1},p)}),this.addShape(t,{id:this.getElementId("maxText"),type:"text",attrs:tr({y:r/2,textAlign:"left",text:s,silent:!1},p)}),this.addShape(t,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:tr({y:0,height:r},h)});var g=(0,O.U2)(d,"width",10),v=(0,O.U2)(d,"height",24);this.minHandler=this.addComponent(t,{component:Pa,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(r-v)/2,width:g,height:v,cursor:"ew-resize",style:d}),this.maxHandler=this.addComponent(t,{component:Pa,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(r-v)/2,width:g,height:v,cursor:"ew-resize",style:d})},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.updateUI=function(t,e,n){var r=this.cfg,i=r.start,a=r.end,o=r.width,s=r.minText,l=r.maxText,c=r.handlerStyle,u=r.height,h=i*o,f=a*o;this.trend&&(this.trend.update({width:o,height:u}),this.get("updateAutoRender")||this.trend.render()),t.attr("x",h),t.attr("width",f-h);var p=(0,O.U2)(c,"width",10);e.attr("text",s),n.attr("text",l);var d=this._dodgeText([h,f],e,n),g=d[0],v=d[1];this.minHandler&&(this.minHandler.update({x:h-p/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,O.S6)(g,(function(t,n){return e.attr(n,t)})),this.maxHandler&&(this.maxHandler.update({x:f-p/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,O.S6)(v,(function(t,e){return n.attr(e,t)}))},e.prototype.bindEvents=function(){var t=this.get("group");t.on("handler-min:mousedown",this.onMouseDown("minHandler")),t.on("handler-min:touchstart",this.onMouseDown("minHandler")),t.on("handler-max:mousedown",this.onMouseDown("maxHandler")),t.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var e=t.findById(this.getElementId("foreground"));e.on("mousedown",this.onMouseDown("foreground")),e.on("touchstart",this.onMouseDown("foreground"))},e.prototype.adjustOffsetRange=function(t){var e=this.cfg,n=e.start,r=e.end;switch(this.currentTarget){case"minHandler":var i=0-n,a=1-n;return Math.min(a,Math.max(i,t));case"maxHandler":i=0-r,a=1-r;return Math.min(a,Math.max(i,t));case"foreground":i=0-n,a=1-r;return Math.min(a,Math.max(i,t))}},e.prototype.updateStartEnd=function(t){var e=this.cfg,n=e.start,r=e.end;switch(this.currentTarget){case"minHandler":n+=t;break;case"maxHandler":r+=t;break;case"foreground":n+=t,r+=t}this.set("start",n),this.set("end",r)},e.prototype._dodgeText=function(t,e,n){var r,i,a=this.cfg,o=a.handlerStyle,s=a.width,l=(0,O.U2)(o,"width",10),c=t[0],u=t[1],h=!1;c>u&&(c=(r=[u,c])[0],u=r[1],e=(i=[n,e])[0],n=i[1],h=!0);var f=e.getBBox(),p=n.getBBox(),d=f.width>c-2?{x:c+l/2+2,textAlign:"left"}:{x:c-l/2-2,textAlign:"right"},g=p.width>s-u-2?{x:u-l/2-2,textAlign:"right"}:{x:u+l/2+2,textAlign:"left"};return h?[g,d]:[d,g]},e.prototype.draw=function(){var t=this.get("container"),e=t&&t.get("canvas");e&&e.draw()},e.prototype.getContainerDOM=function(){var t=this.get("container"),e=t&&t.get("canvas");return e&&e.get("container")},e}(Mr);function Na(t,e,n){if(t){if("function"===typeof t.addEventListener)return t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}};if("function"===typeof t.attachEvent)return t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}}}var Ua={default:{trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},hover:{thumbColor:"rgba(0,0,0,0.2)"}},za=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clearEvents=O.ZT,e.onStartEvent=function(t){return function(n){e.isMobile=t,n.originalEvent.preventDefault();var r=t?(0,O.U2)(n.originalEvent,"touches.0.clientX"):n.clientX,i=t?(0,O.U2)(n.originalEvent,"touches.0.clientY"):n.clientY;e.startPos=e.cfg.isHorizontal?r:i,e.bindLaterEvent()}},e.bindLaterEvent=function(){var t=e.getContainerDOM(),n=[];n=e.isMobile?[Na(t,"touchmove",e.onMouseMove),Na(t,"touchend",e.onMouseUp),Na(t,"touchcancel",e.onMouseUp)]:[Na(t,"mousemove",e.onMouseMove),Na(t,"mouseup",e.onMouseUp),Na(t,"mouseleave",e.onMouseUp)],e.clearEvents=function(){n.forEach((function(t){t.remove()}))}},e.onMouseMove=function(t){var n=e.cfg,r=n.isHorizontal,i=n.thumbOffset;t.preventDefault();var a=e.isMobile?(0,O.U2)(t,"touches.0.clientX"):t.clientX,o=e.isMobile?(0,O.U2)(t,"touches.0.clientY"):t.clientY,s=r?a:o,l=s-e.startPos;e.startPos=s,e.updateThumbOffset(i+l)},e.onMouseUp=function(t){t.preventDefault(),e.clearEvents()},e.onTrackClick=function(t){var n=e.cfg,r=n.isHorizontal,i=n.x,a=n.y,o=n.thumbLen,s=e.getContainerDOM().getBoundingClientRect(),l=t.clientX,c=t.clientY,u=r?l-s.left-i-o/2:c-s.top-a-o/2,h=e.validateRange(u);e.updateThumbOffset(h)},e.onThumbMouseOver=function(){var t=e.cfg.theme.hover.thumbColor;e.getElementByLocalId("thumb").attr("stroke",t),e.draw()},e.onThumbMouseOut=function(){var t=e.cfg.theme.default.thumbColor;e.getElementByLocalId("thumb").attr("stroke",t),e.draw()},e}return Qn(e,t),e.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e);var n=this.getValue(),r=(0,O.uZ)(n,t,e);n===r||this.get("isInit")||this.setValue(r)},e.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},e.prototype.setValue=function(t){var e=this.getRange(),n=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,O.uZ)(t,e.min,e.max)}),this.delegateEmit("valuechange",{originalValue:n,value:this.getValue()})},e.prototype.getValue=function(){return(0,O.uZ)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return tr(tr({},e),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:Ua})},e.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.renderTrackShape=function(t){var e=this.cfg,n=e.trackLen,r=e.theme,i=void 0===r?{default:{}}:r,a=(0,O.b$)({},Ua,i).default,o=a.lineCap,s=a.trackColor,l=a.size,c=(0,O.U2)(this.cfg,"size",l),u=this.get("isHorizontal")?{x1:0+c/2,y1:c/2,x2:n-c/2,y2:c/2,lineWidth:c,stroke:s,lineCap:o}:{x1:c/2,y1:0+c/2,x2:c/2,y2:n-c/2,lineWidth:c,stroke:s,lineCap:o};return this.addShape(t,{id:this.getElementId("track"),name:"track",type:"line",attrs:u})},e.prototype.renderThumbShape=function(t){var e=this.cfg,n=e.thumbOffset,r=e.thumbLen,i=e.theme,a=(0,O.b$)({},Ua,i).default,o=a.size,s=a.lineCap,l=a.thumbColor,c=(0,O.U2)(this.cfg,"size",o),u=this.get("isHorizontal")?{x1:n+c/2,y1:c/2,x2:n+r-c/2,y2:c/2,lineWidth:c,stroke:l,lineCap:s,cursor:"default"}:{x1:c/2,y1:n+c/2,x2:c/2,y2:n+r-c/2,lineWidth:c,stroke:l,lineCap:s,cursor:"default"};return this.addShape(t,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:u})},e.prototype.bindEvents=function(){var t=this.get("group");t.on("mousedown",this.onStartEvent(!1)),t.on("mouseup",this.onMouseUp),t.on("touchstart",this.onStartEvent(!0)),t.on("touchend",this.onMouseUp),t.findById(this.getElementId("track")).on("click",this.onTrackClick);var e=t.findById(this.getElementId("thumb"));e.on("mouseover",this.onThumbMouseOver),e.on("mouseout",this.onThumbMouseOut)},e.prototype.getContainerDOM=function(){var t=this.get("container"),e=t&&t.get("canvas");return e&&e.get("container")},e.prototype.validateRange=function(t){var e=this.cfg,n=e.thumbLen,r=e.trackLen,i=t;return t+n>r?i=r-n:t+n<n&&(i=0),i},e.prototype.draw=function(){var t=this.get("container"),e=t&&t.get("canvas");e&&e.draw()},e.prototype.updateThumbOffset=function(t){var e=this.cfg,n=e.thumbOffset,r=e.isHorizontal,i=e.thumbLen,a=e.size,o=this.validateRange(t);if(o!==n){var s=this.getElementByLocalId("thumb");r?s.attr({x1:o+a/2,x2:o+i-a/2}):s.attr({y1:o+a/2,y2:o+i-a/2}),this.emitOffsetChange(o)}},e.prototype.emitOffsetChange=function(t){var e=this.cfg,n=e.thumbOffset,r=e.trackLen,i=e.thumbLen;this.cfg.thumbOffset=t,this.emit("scrollchange",{thumbOffset:t,ratio:(0,O.uZ)(t/(r-i),0,1)}),this.delegateEmit("valuechange",{originalValue:n,value:t})},e}(Mr),Ha=Pi,Va=Li,Ga=Qi,Wa=Ki,Ya=la,ja=ua,Xa=Sa;function $a(t){return 1===Array.from(new Set(t)).length}function qa(t){return((0,O.VV)(t)+(0,O.Fp)(t))/2}function Za(t,e,n,r){return{x:t+n*Math.cos(r),y:e+n*Math.sin(r)}}function Ka(t,e,n,r,i,a){void 0===a&&(a=0);var o=Za(t,e,n,r),s=Za(t,e,n,i),l=Za(t,e,a,r),c=Za(t,e,a,i);if(i-r===2*Math.PI){var u=Za(t,e,n,r+Math.PI),h=Za(t,e,a,r+Math.PI),f=[["M",o.x,o.y],["A",n,n,0,1,1,u.x,u.y],["A",n,n,0,1,1,s.x,s.y],["M",l.x,l.y]];return a&&(f.push(["A",a,a,0,1,0,h.x,h.y]),f.push(["A",a,a,0,1,0,c.x,c.y])),f.push(["M",o.x,o.y]),f.push(["Z"]),f}var p=i-r<=Math.PI?0:1,d=[["M",o.x,o.y],["A",n,n,0,p,1,s.x,s.y],["L",c.x,c.y]];return a&&d.push(["A",a,a,0,p,0,l.x,l.y]),d.push(["L",o.x,o.y]),d.push(["Z"]),d}function Ja(t,e,n,r,i){var a=Za(t,e,n,r),o=Za(t,e,n,i);if((0,O.vQ)(i-r,2*Math.PI)){var s=Za(t,e,n,r+Math.PI);return[["M",a.x,a.y],["A",n,n,0,1,1,s.x,s.y],["A",n,n,0,1,1,a.x,a.y],["A",n,n,0,1,0,s.x,s.y],["A",n,n,0,1,0,a.x,a.y],["Z"]]}var l=i-r<=Math.PI?0:1;return[["M",a.x,a.y],["A",n,n,0,l,1,o.x,o.y]]}function Qa(t,e){var n,r,i=function(t){if((0,O.xb)(t))return null;var e=t[0].x,n=t[0].x,r=t[0].y,i=t[0].y;return(0,O.S6)(t,(function(t){e=e>t.x?t.x:e,n=n<t.x?t.x:n,r=r>t.y?t.y:r,i=i<t.y?t.y:i})),{minX:e,maxX:n,minY:r,maxY:i,centerX:(e+n)/2,centerY:(r+i)/2}}(t.points),a=e.startAngle,o=e.endAngle-a;return e.isTransposed?(n=i.maxY*o,r=i.minY*o):(n=i.maxX*o,r=i.minX*o),{startAngle:r+=a,endAngle:n+=a}}function to(t,e){var n=t.attr(),r=e.attr();return(0,O.S6)(n,(function(t,e){void 0===r[e]&&(r[e]=void 0)})),r}function eo(t,e,n){var r=Math.min(e,n),i=Math.max(e,n);return t>=r&&t<=i}function no(t,e){return"object"===typeof t&&e.forEach((function(e){delete t[e]})),t}function ro(t,e,n){var r,i;void 0===e&&(e=[]),void 0===n&&(n=new Map);try{for(var a=C(t),o=a.next();!o.done;o=a.next()){var s=o.value;n.has(s)||(e.push(s),n.set(s,!0))}}catch(l){r={error:l}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return e}var io=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=t,this.y=e,this.height=r,this.width=n}return t.fromRange=function(e,n,r,i){return new t(e,n,r-e,i-n)},t.fromObject=function(e){return new t(e.minX,e.minY,e.width,e.height)},Object.defineProperty(t.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},t.prototype.contains=function(t){return t.minX>=this.minX&&t.maxX<=this.maxX&&t.minY>=this.minY&&t.maxY<=this.maxY},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.clone();return(0,O.S6)(t,(function(t){n.x=Math.min(t.x,n.x),n.y=Math.min(t.y,n.y),n.width=Math.max(t.maxX,n.maxX)-n.x,n.height=Math.max(t.maxY,n.maxY)-n.y})),n},t.prototype.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.clone();return(0,O.S6)(t,(function(t){n.x=Math.max(t.x,n.x),n.y=Math.max(t.y,n.y),n.width=Math.min(t.maxX,n.maxX)-n.x,n.height=Math.min(t.maxY,n.maxY)-n.y})),n},t.prototype.cut=function(e,n){var r=e.width,i=e.height;switch(n){case M.TOP:case M.TOP_LEFT:case M.TOP_RIGHT:return t.fromRange(this.minX,this.minY+i,this.maxX,this.maxY);case M.RIGHT:case M.RIGHT_TOP:case M.RIGHT_BOTTOM:return t.fromRange(this.minX,this.minY,this.maxX-r,this.maxY);case M.BOTTOM:case M.BOTTOM_LEFT:case M.BOTTOM_RIGHT:return t.fromRange(this.minX,this.minY,this.maxX,this.maxY-i);case M.LEFT:case M.LEFT_TOP:case M.LEFT_BOTTOM:return t.fromRange(this.minX+r,this.minY,this.maxX,this.maxY);default:return this}},t.prototype.shrink=function(e){var n=T(e,4),r=n[0],i=n[1],a=n[2],o=n[3];return new t(this.x+o,this.y+r,this.width-o-i,this.height-r-a)},t.prototype.expand=function(e){var n=T(e,4),r=n[0],i=n[1],a=n[2],o=n[3];return new t(this.x-o,this.y-r,this.width+o+i,this.height+r+a)},t.prototype.exceed=function(t){return[Math.max(-this.minY+t.minY,0),Math.max(this.maxX-t.maxX,0),Math.max(this.maxY-t.maxY,0),Math.max(-this.minX+t.minX,0)]},t.prototype.collide=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},t.prototype.size=function(){return this.width*this.height},t.prototype.isPointIn=function(t){return t.x>=this.minX&&t.x<=this.maxX&&t.y>=this.minY&&t.y<=this.maxY},t}();function ao(t){if(t.isPolar&&!t.isTransposed)return(t.endAngle-t.startAngle)*t.getRadius();var e=t.convert({x:0,y:0}),n=t.convert({x:1,y:0});return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function oo(t,e){var n=t.getCenter();return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function so(t,e){var n=t.getCenter();return Math.atan2(e.y-n.y,e.x-n.x)}function lo(t,e){void 0===e&&(e=0);var n,r=t.start,i=t.end,a=t.getWidth(),o=t.getHeight();if(t.isPolar){var s=t.startAngle,l=t.endAngle,c=t.getCenter(),u=t.getRadius();return{type:"path",startState:{path:Ka(c.x,c.y,u+e,s,s)},endState:function(t){var n=(l-s)*t+s;return{path:Ka(c.x,c.y,u+e,s,n)}},attrs:{path:Ka(c.x,c.y,u+e,s,l)}}}return n=t.isTransposed?{height:o+2*e}:{width:a+2*e},{type:"rect",startState:{x:r.x-e,y:i.y-e,width:t.isTransposed?a+2*e:0,height:t.isTransposed?0:o+2*e},endState:n,attrs:{x:r.x-e,y:i.y-e,width:a+2*e,height:o+2*e}}}var co=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function uo(t,e,n,r){return void 0===e&&(e={}),e.type?e.type:"identity"!==t.type&&H.includes(n)&&["interval"].includes(r)||t.isCategory?"cat":t.type}function ho(t,e,n){var r=e||[];if((0,O.hj)(t)||(0,O.UM)((0,O.Wx)(r,t))&&(0,O.xb)(n))return new(en("identity"))({field:t.toString(),values:[t]});var i=(0,O.I)(r,t),a=(0,O.U2)(n,"type",function(t){var e="linear";return co.test(t)?e="timeCat":(0,O.HD)(t)&&(e="cat"),e}(i[0]));return new(en(a))(x({field:t,values:i},n))}function fo(t){return t.alias||t.field}function po(t,e,n){var r,i=t.values.length;if(1===i)r=[.5,1];else{var a=0;r=function(t){if(t.isPolar){var e=t.startAngle;return t.endAngle-e===2*Math.PI}return!1}(e)?e.isTransposed?[(a=1/i*(0,O.U2)(n,"widthRatio.multiplePie",1/1.3))/2,1-a/2]:[0,1-1/i]:[a=1/i/2,1-a]}return r}function go(t){var e=t.values.filter((function(t){return!(0,O.UM)(t)&&!isNaN(t)}));return Math.max.apply(Math,E(E([],T(e),!1),[(0,O.UM)(t.max)?-1/0:t.max],!1))}function vo(t,e){var n={start:{x:0,y:0},end:{x:0,y:0}};t.isRect?n=function(t){var e,n;switch(t){case M.TOP:e={x:0,y:1},n={x:1,y:1};break;case M.RIGHT:e={x:1,y:0},n={x:1,y:1};break;case M.BOTTOM:e={x:0,y:0},n={x:1,y:0};break;case M.LEFT:e={x:0,y:0},n={x:0,y:1};break;default:e=n={x:0,y:0}}return{start:e,end:n}}(e):t.isPolar&&(n=function(t){var e,n;return t.isTransposed?(e={x:0,y:0},n={x:1,y:0}):(e={x:0,y:0},n={x:0,y:1}),{start:e,end:n}}(t));var r=n.start,i=n.end;return{start:t.convert(r),end:t.convert(i)}}function yo(t){var e=t.start,n=t.end;return e.x===n.x}function mo(t,e){var n=t.start,r=t.end;return yo(t)?(n.y-r.y)*(e.x-n.x)>0?1:-1:(r.x-n.x)*(n.y-e.y)>0?-1:1}function xo(t,e){var n=(0,O.U2)(t,["components","axis"],{});return(0,O.b$)({},(0,O.U2)(n,["common"],{}),(0,O.b$)({},(0,O.U2)(n,[e],{})))}function bo(t,e,n){var r=(0,O.U2)(t,["components","axis"],{});return(0,O.b$)({},(0,O.U2)(r,["common","title"],{}),(0,O.b$)({},(0,O.U2)(r,[e,"title"],{})),n)}function wo(t){var e=t.x,n=t.y,r=t.circleCenter,i=n.start>n.end,a=t.isTransposed?t.convert({x:i?0:1,y:0}):t.convert({x:0,y:i?0:1}),o=[a.x-r.x,a.y-r.y],s=[1,0],l=a.y>r.y?Yn.EU(o,s):-1*Yn.EU(o,s),c=l+(e.end-e.start);return{center:r,radius:Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2)),startAngle:l,endAngle:c}}function So(t,e){return(0,O.jn)(t)?!1!==t&&{}:(0,O.U2)(t,[e])}function Co(t,e){return(0,O.U2)(t,"position",e)}function To(t,e){return(0,O.U2)(e,["title","text"],fo(t))}var Eo=function(){function t(t,e){this.destroyed=!1,this.facets=[],this.view=t,this.cfg=(0,O.b$)({},this.getDefaultCfg(),e)}return t.prototype.init=function(){this.container||(this.container=this.createContainer());var t=this.view.getData();this.facets=this.generateFacets(t)},t.prototype.render=function(){this.renderViews()},t.prototype.update=function(){},t.prototype.clear=function(){this.clearFacetViews()},t.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},t.prototype.facetToView=function(t){var e=t.region,n=t.data,r=t.padding,i=void 0===r?this.cfg.padding:r,a=this.view.createView({region:e,padding:i});a.data(n||[]),t.view=a,this.beforeEachView(a,t);var o=this.cfg.eachView;return o&&o(a,t),this.afterEachView(a,t),a},t.prototype.createContainer=function(){return this.view.getLayer(k.FORE).addGroup()},t.prototype.renderViews=function(){this.createFacetViews()},t.prototype.createFacetViews=function(){var t=this;return this.facets.map((function(e){return t.facetToView(e)}))},t.prototype.clearFacetViews=function(){var t=this;(0,O.S6)(this.facets,(function(e){e.view&&(t.view.removeView(e.view),e.view=void 0)}))},t.prototype.parseSpacing=function(){var t=this.view.viewBBox,e=t.width,n=t.height;return this.cfg.spacing.map((function(t,r){return(0,O.hj)(t)?t/(0===r?e:n):parseFloat(t)/100}))},t.prototype.getFieldValues=function(t,e){var n=[],r={};return(0,O.S6)(t,(function(t){var i=t[e];(0,O.UM)(i)||r[i]||(n.push(i),r[i]=!0)})),n},t.prototype.getRegion=function(t,e,n,r){var i=T(this.parseSpacing(),2),a=i[0],o=i[1],s=(1+a)/(0===e?1:e)-a,l=(1+o)/(0===t?1:t)-o,c={x:(s+a)*n,y:(l+o)*r};return{start:c,end:{x:c.x+s,y:c.y+l}}},t.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,spacing:[0,0],padding:10,fields:[]}},t.prototype.getDefaultTitleCfg=function(){return{style:{fontSize:14,fill:"#666",fontFamily:this.view.getTheme().fontFamily}}},t.prototype.processAxis=function(t,e){var n=t.getOptions(),r=n.coordinate,i=t.geometries;if("rect"===(0,O.U2)(r,"type","rect")&&i.length){(0,O.UM)(n.axes)&&(n.axes={});var a=n.axes,o=T(i[0].getXYFields(),2),s=o[0],l=o[1],c=So(a,s),u=So(a,l);!1!==c&&(n.axes[s]=this.getXAxisOption(s,a,c,e)),!1!==u&&(n.axes[l]=this.getYAxisOption(l,a,u,e))}},t.prototype.getFacetDataFilter=function(t){return function(e){return(0,O.yW)(t,(function(t){var n=t.field,r=t.value;return!(!(0,O.UM)(r)&&n)||e[n]===r}))}},t}(),ko={},Mo=function(t,e){ko[(0,O.vl)(t)]=e},Ao=function(){function t(t,e){this.context=t,this.cfg=e,t.addAction(this)}return t.prototype.applyCfg=function(t){(0,O.f0)(this,t)},t.prototype.init=function(){this.applyCfg(this.cfg)},t.prototype.destroy=function(){this.context.removeAction(this),this.context=null},t}(),Oo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.execute=function(){this.callback&&this.callback(this.context)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.callback=null},e}(Ao),Fo=Oo,Io={};function Po(t){var e=Io[t];return(0,O.U2)(e,"ActionClass")}function Do(t,e,n){Io[t]={ActionClass:e,cfg:n}}function Lo(t,e){var n=new Fo(e);return n.callback=t,n.name="callback",n}function Ro(t,e){for(var n=[t[0]],r=1,i=t.length;r<i;r+=2){var a=e.convert({x:t[r],y:t[r+1]});n.push(a.x,a.y)}return n}function Bo(t,e){var n=e.isTransposed,r=t[1],i=t[6],a=t[7],o=e.convert({x:i,y:a});return["A",r,r,0,0,n?0:1,o.x,o.y]}var _o=function(t,e,n,r){var i,a,o,s,l,c,u,h,f=[],p=!!r;if(p){s=(i=T(r,2))[0],l=i[1];for(var d=0,g=t.length;d<g;d++){var v=t[d];s=Yn.VV([0,0],s,v),l=Yn.Fp([0,0],l,v)}}d=0;for(var y=t.length;d<y;d++){v=t[d];if(0!==d||n)if(d!==y-1||n){a=t[n?d?d-1:y-1:d-1],o=t[n?(d+1)%y:d+1];var m=[0,0];m=Yn.lu(m,o,a),m=Yn.bA(m,m,e);var x=Yn.TE(v,a),b=Yn.TE(v,o),w=x+b;0!==w&&(x/=w,b/=w);var S=Yn.bA([0,0],m,-x),C=Yn.bA([0,0],m,b);u=Yn.IH([0,0],v,S),c=Yn.IH([0,0],v,C),c=Yn.VV([0,0],c,Yn.Fp([0,0],o,v)),c=Yn.Fp([0,0],c,Yn.VV([0,0],o,v)),S=Yn.lu([0,0],c,v),S=Yn.bA([0,0],S,-x/b),u=Yn.IH([0,0],v,S),u=Yn.VV([0,0],u,Yn.Fp([0,0],a,v)),u=Yn.Fp([0,0],u,Yn.VV([0,0],a,v)),C=Yn.lu([0,0],v,u),C=Yn.bA([0,0],C,b/x),c=Yn.IH([0,0],v,C),p&&(u=Yn.Fp([0,0],u,s),u=Yn.VV([0,0],u,l),c=Yn.Fp([0,0],c,s),c=Yn.VV([0,0],c,l)),f.push(h),f.push(u),h=c}else u=v,f.push(h),f.push(u);else h=v}return n&&f.push(f.shift()),f};function No(t,e,n){for(var r=!!e,i=[],a=0,o=t.length;a<o;a+=2)i.push([t[a],t[a+1]]);var s,l,c,u=_o(i,.4,r,n),h=i.length,f=[];for(a=0;a<h-1;a++)s=u[2*a],l=u[2*a+1],c=i[a+1],f.push(["C",s[0],s[1],l[0],l[1],c[0],c[1]]);return r&&(s=u[h],l=u[h+1],c=i[0],f.push(["C",s[0],s[1],l[0],l[1],c[0],c[1]])),f}function Uo(t,e){return function(t,e){var n=[];if(t.length){n.push(["M",t[0].x,t[0].y]);for(var r=1,i=t.length;r<i;r+=1){var a=t[r];n.push(["L",a.x,a.y])}e&&n.push(["Z"])}return n}(t,e)}function zo(t,e,n){var r=[],i=t[0],a=null;if(t.length<=2)return Uo(t,e);for(var o=0,s=t.length;o<s;o++){var l=t[o];a&&a.x===l.x&&a.y===l.y||(r.push(l.x),r.push(l.y),a=l)}var c=No(r,e,n||[[0,0],[1,1]]);return c.unshift(["M",i.x,i.y]),c}function Ho(t,e){var n,r,i,a=[];return(0,O.S6)(e,(function(o,s){switch(o[0].toLowerCase()){case"m":case"c":case"q":a.push(Ro(o,t));break;case"l":n=e[s-1],r=o,i=t.isTransposed,(i?n[n.length-2]===r[1]:n[n.length-1]===r[2])?a=a.concat(function(t,e,n){var r=n.isTransposed,i=n.startAngle,a=n.endAngle,o="a"===t[0].toLowerCase()?{x:t[6],y:t[7]}:{x:t[1],y:t[2]},s={x:e[1],y:e[2]},l=[],c=r?"y":"x",u=Math.abs(s[c]-o[c])*(a-i),h=s[c]>=o[c]?1:0,f=u>Math.PI?1:0,p=n.convert(s),d=oo(n,p);if(d>=.5)if(u===2*Math.PI){var g={x:(s.x+o.x)/2,y:(s.y+o.y)/2},v=n.convert(g);l.push(["A",d,d,0,f,h,v.x,v.y]),l.push(["A",d,d,0,f,h,p.x,p.y])}else l.push(["A",d,d,0,f,h,p.x,p.y]);return l}(n,r,t)):a.push(Ro(o,t));break;case"a":a.push(Bo(o,t));break;default:a.push(o)}})),function(t){(0,O.S6)(t,(function(e,n){if("a"===e[0].toLowerCase()){var r=t[n-1],i=t[n+1];i&&"a"===i[0].toLowerCase()?r&&"l"===r[0].toLowerCase()&&(r[0]="M"):r&&"a"===r[0].toLowerCase()&&i&&"l"===i[0].toLowerCase()&&(i[0]="M")}}))}(a),a}function Vo(t,e){return Wo(t.event.target,e)}function Go(t,e){var n=t.getCanvasBBox(),r=n.width,i=n.height;return r>0&&i>0&&(r>=e||i>=e)}function Wo(t,e){var n=t.getCanvasBBox();return Go(t,e)?n:null}function Yo(t,e){return t.event.maskShapes.map((function(t){return Wo(t,e)})).filter((function(t){return!!t}))}function jo(t,e){return Go(t,e)?t.attr("path"):null}function Xo(t){var e,n=t.event.target;return n&&(e=n.get("element")),e}function $o(t){var e,n=t.event.target;return n&&(e=n.get("delegateObject")),e}function qo(t){var e=t.event.gEvent;return!(e&&e.fromShape&&e.toShape&&e.fromShape.get("element")===e.toShape.get("element"))}function Zo(t){return t&&t.component&&t.component.isList()}function Ko(t){return t&&t.component&&t.component.isSlider()}function Jo(t){var e=t.event.target;return e&&"mask"===(null===e||void 0===e?void 0:e.get("name"))||Qo(t)}function Qo(t){var e;return"multi-mask"===(null===(e=t.event.target)||void 0===e?void 0:e.get("name"))}function ts(t,e){var n=t.event.target;if(Qo(t))return function(t,e){var n=t.event.target;if("path"===n.get("type")){var r=function(t,e){return t.event.maskShapes.map((function(t){return jo(t,e)}))}(t,e);return r.length>0?r.flatMap((function(e){return ls(t.view,e)})):null}var i=Yo(t,e);if(i.length>0)return i.flatMap((function(e){return os(t.view,e)}));return null}(t,e);if("path"===n.get("type")){var r=function(t,e){return jo(t.event.target,e)}(t,e);if(!r)return;return ls(t.view,r)}var i=Vo(t,e);return i?os(t.view,i):null}function es(t,e,n){if(Qo(t))return function(t,e,n){var r=Yo(t,n);if(r.length>0)return r.flatMap((function(n){return ns(n,t,e)}));return null}(t,e,n);var r=Vo(t,n);return r?ns(r,t,e):null}function ns(t,e,n){var r=e.view,i=ps(r,n,{x:t.x,y:t.y}),a=ps(r,n,{x:t.maxX,y:t.maxY});return os(n,{minX:i.x,minY:i.y,maxX:a.x,maxY:a.y})}function rs(t){var e=t.geometries,n=[];return(0,O.S6)(e,(function(t){var e=t.elements;n=n.concat(e)})),t.views&&t.views.length&&(0,O.S6)(t.views,(function(t){n=n.concat(rs(t))})),n}function is(t,e){var n=t.geometries,r=[];return(0,O.S6)(n,(function(t){var n=t.getElementsBy((function(t){return t.hasState(e)}));r=r.concat(n)})),r}function as(t,e){var n=t.getModel().data;return(0,O.kJ)(n)?n[0][e]:n[e]}function os(t,e){var n=rs(t),r=[];return(0,O.S6)(n,(function(t){var n,i,a=t.shape.getCanvasBBox();n=e,(i=a).minX>n.maxX||i.maxX<n.minX||i.minY>n.maxY||i.maxY<n.minY||r.push(t)})),r}function ss(t){var e=[];return(0,O.S6)(t,(function(t){if("A"!==t[0])for(var n=1;n<t.length;n+=2)e.push([t[n],t[n+1]]);else{var r=t.length;e.push([t[r-2],t[r-1]])}})),e}function ls(t,e){var n=rs(t),r=ss(e),i=n.filter((function(t){var e,n,i=t.shape;if("path"===i.get("type"))e=ss(i.attr("path"));else{var a=i.getCanvasBBox();e=[[(n=a).minX,n.minY],[n.maxX,n.minY],[n.maxX,n.maxY],[n.minX,n.maxY]]}return(0,ka.Wq)(r,e)}));return i}function cs(t){return t.getComponents().map((function(t){return t.component}))}function us(t,e){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function hs(t,e){return t.x<=e.x&&t.maxX>=e.x&&t.y<=e.y&&t.maxY>e.y}function fs(t){var e=t.parent,n=null;return e&&(n=e.views.filter((function(e){return e!==t}))),n}function ps(t,e,n){var r=function(t,e){return t.getCoordinate().invert(e)}(t,n);return e.getCoordinate().convert(r)}function ds(t,e,n,r){var i=!1;return(0,O.S6)(t,(function(t){if(t[n]===e[n]&&t[r]===e[r])return i=!0,!1})),i}function gs(t,e){var n=t.getScaleByField(e);return!n&&t.views&&(0,O.S6)(t.views,(function(t){if(n=gs(t,e))return!1})),n}var vs=function(){function t(t){this.actions=[],this.event=null,this.cacheMap={},this.view=t}return t.prototype.cache=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length)return this.cacheMap[t[0]];2===t.length&&(this.cacheMap[t[0]]=t[1])},t.prototype.getAction=function(t){return this.actions.find((function(e){return e.name===t}))},t.prototype.addAction=function(t){this.actions.push(t)},t.prototype.removeAction=function(t){var e=this.actions,n=this.actions.indexOf(t);n>=0&&e.splice(n,1)},t.prototype.getCurrentPoint=function(){var t=this.event;return t?t.target instanceof HTMLElement?this.view.getCanvas().getPointByClient(t.clientX,t.clientY):{x:t.x,y:t.y}:null},t.prototype.getCurrentShape=function(){return(0,O.U2)(this.event,["gEvent","shape"])},t.prototype.isInPlot=function(){var t=this.getCurrentPoint();return!!t&&this.view.isPointInPlot(t)},t.prototype.isInShape=function(t){var e=this.getCurrentShape();return!!e&&e.get("name")===t},t.prototype.isInComponent=function(t){var e=cs(this.view),n=this.getCurrentPoint();return!!n&&!!e.find((function(e){var r=e.getBBox();return t?e.get("name")===t&&hs(r,n):hs(r,n)}))},t.prototype.destroy=function(){(0,O.S6)(this.actions.slice(),(function(t){t.destroy()})),this.view=null,this.event=null,this.actions=null,this.cacheMap=null},t}(),ys=vs,ms=function(){function t(t,e){this.view=t,this.cfg=e}return t.prototype.init=function(){this.initEvents()},t.prototype.initEvents=function(){},t.prototype.clearEvents=function(){},t.prototype.destroy=function(){this.clearEvents()},t}();function xs(t,e,n){var r=t.split(":"),i=r[0],a=e.getAction(i)||function(t,e){var n=Io[t],r=null;return n&&((r=new(0,n.ActionClass)(e,n.cfg)).name=t,r.init()),r}(i,e);if(!a)throw new Error("There is no action named ".concat(i));return{action:a,methodName:r[1],arg:n}}function bs(t){var e=t.action,n=t.methodName,r=t.arg;if(!e[n])throw new Error("Action(".concat(e.name,") doesn't have a method called ").concat(n));e[n](r)}var ws="start",Ss="showEnable",Cs="end",Ts="rollback",Es="processing",ks=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.callbackCaches={},r.emitCaches={},r.steps=n,r}return m(e,t),e.prototype.init=function(){this.initContext(),t.prototype.init.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},e.prototype.initEvents=function(){var t=this;(0,O.S6)(this.steps,(function(e,n){(0,O.S6)(e,(function(e){var r=t.getActionCallback(n,e);r&&t.bindEvent(e.trigger,r)}))}))},e.prototype.clearEvents=function(){var t=this;(0,O.S6)(this.steps,(function(e,n){(0,O.S6)(e,(function(e){var r=t.getActionCallback(n,e);r&&t.offEvent(e.trigger,r)}))}))},e.prototype.initContext=function(){var t=this.view,e=new ys(t);this.context=e;var n=this.steps;(0,O.S6)(n,(function(t){(0,O.S6)(t,(function(t){if((0,O.mf)(t.action))t.actionObject={action:Lo(t.action,e),methodName:"execute"};else if((0,O.HD)(t.action))t.actionObject=xs(t.action,e,t.arg);else if((0,O.kJ)(t.action)){var n=t.action,r=(0,O.kJ)(t.arg)?t.arg:[t.arg];t.actionObject=[],(0,O.S6)(n,(function(n,i){t.actionObject.push(xs(n,e,r[i]))}))}}))}))},e.prototype.isAllowStep=function(t){var e=this.currentStepName,n=this.steps;if(e===t)return!0;if(t===Ss)return!0;if(t===Es)return e===ws;if(t===ws)return e!==Es;if(t===Cs)return e===Es||e===ws;if(t===Ts){if(n[Cs])return e===Cs;if(e===ws)return!0}return!1},e.prototype.isAllowExecute=function(t,e){if(this.isAllowStep(t)){var n=this.getKey(t,e);return(!e.once||!this.emitCaches[n])&&(!e.isEnable||e.isEnable(this.context))}return!1},e.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},e.prototype.afterExecute=function(t,e){t!==Ss&&this.currentStepName!==t&&this.enterStep(t);var n=this.getKey(t,e);this.emitCaches[n]=!0},e.prototype.getKey=function(t,e){return t+e.trigger+e.action},e.prototype.getActionCallback=function(t,e){var n=this,r=this.context,i=this.callbackCaches,a=e.actionObject;if(e.action&&a){var o=this.getKey(t,e);if(!i[o]){var s=function(i){r.event=i,n.isAllowExecute(t,e)?((0,O.kJ)(a)?(0,O.S6)(a,(function(t){r.event=i,bs(t)})):(r.event=i,bs(a)),n.afterExecute(t,e),e.callback&&(r.event=i,e.callback(r))):r.event=null};e.debounce?i[o]=(0,O.Ds)(s,e.debounce.wait,e.debounce.immediate):e.throttle?i[o]=(0,O.P2)(s,e.throttle.wait,{leading:e.throttle.leading,trailing:e.throttle.trailing}):i[o]=s}return i[o]}return null},e.prototype.bindEvent=function(t,e){var n=t.split(":");"window"===n[0]?window.addEventListener(n[1],e):"document"===n[0]?document.addEventListener(n[1],e):this.view.on(t,e)},e.prototype.offEvent=function(t,e){var n=t.split(":");"window"===n[0]?window.removeEventListener(n[1],e):"document"===n[0]?document.removeEventListener(n[1],e):this.view.off(t,e)},e}(ms),Ms=ks,As={};function Os(t,e){As[(0,O.vl)(t)]=e}function Fs(t,e,n){var r=function(t){return As[(0,O.vl)(t)]}(t);if(!r)return null;if((0,O.PO)(r)){var i=(0,O.CD)((0,O.d9)(r),n);return new Ms(e,i)}return new r(e,n)}function Is(t){var e,n={point:{default:{fill:t.pointFillColor,r:t.pointSize,stroke:t.pointBorderColor,lineWidth:t.pointBorder,fillOpacity:t.pointFillOpacity},active:{stroke:t.pointActiveBorderColor,lineWidth:t.pointActiveBorder},selected:{stroke:t.pointSelectedBorderColor,lineWidth:t.pointSelectedBorder},inactive:{fillOpacity:t.pointInactiveFillOpacity,strokeOpacity:t.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:t.hollowPointFillColor,lineWidth:t.hollowPointBorder,stroke:t.hollowPointBorderColor,strokeOpacity:t.hollowPointBorderOpacity,r:t.hollowPointSize},active:{stroke:t.hollowPointActiveBorderColor,strokeOpacity:t.hollowPointActiveBorderOpacity},selected:{lineWidth:t.hollowPointSelectedBorder,stroke:t.hollowPointSelectedBorderColor,strokeOpacity:t.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:t.hollowPointInactiveBorderOpacity}},area:{default:{fill:t.areaFillColor,fillOpacity:t.areaFillOpacity,stroke:null},active:{fillOpacity:t.areaActiveFillOpacity},selected:{fillOpacity:t.areaSelectedFillOpacity},inactive:{fillOpacity:t.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:t.hollowAreaBorderColor,lineWidth:t.hollowAreaBorder,strokeOpacity:t.hollowAreaBorderOpacity},active:{fill:null,lineWidth:t.hollowAreaActiveBorder},selected:{fill:null,lineWidth:t.hollowAreaSelectedBorder},inactive:{strokeOpacity:t.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:t.intervalFillColor,fillOpacity:t.intervalFillOpacity},active:{stroke:t.intervalActiveBorderColor,lineWidth:t.intervalActiveBorder},selected:{stroke:t.intervalSelectedBorderColor,lineWidth:t.intervalSelectedBorder},inactive:{fillOpacity:t.intervalInactiveFillOpacity,strokeOpacity:t.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:t.hollowIntervalFillColor,stroke:t.hollowIntervalBorderColor,lineWidth:t.hollowIntervalBorder,strokeOpacity:t.hollowIntervalBorderOpacity},active:{stroke:t.hollowIntervalActiveBorderColor,lineWidth:t.hollowIntervalActiveBorder,strokeOpacity:t.hollowIntervalActiveBorderOpacity},selected:{stroke:t.hollowIntervalSelectedBorderColor,lineWidth:t.hollowIntervalSelectedBorder,strokeOpacity:t.hollowIntervalSelectedBorderOpacity},inactive:{stroke:t.hollowIntervalInactiveBorderColor,lineWidth:t.hollowIntervalInactiveBorder,strokeOpacity:t.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:t.lineBorderColor,lineWidth:t.lineBorder,strokeOpacity:t.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:t.lineActiveBorder},selected:{lineWidth:t.lineSelectedBorder},inactive:{strokeOpacity:t.lineInactiveBorderOpacity}}},r=function(t){return{title:{autoRotate:!0,position:"center",spacing:t.axisTitleSpacing,style:{fill:t.axisTitleTextFillColor,fontSize:t.axisTitleTextFontSize,lineHeight:t.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:t.fontFamily},iconStyle:{fill:t.axisDescriptionIconFillColor}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:t.axisLabelOffset,style:{fill:t.axisLabelFillColor,fontSize:t.axisLabelFontSize,lineHeight:t.axisLabelLineHeight,fontFamily:t.fontFamily}},line:{style:{lineWidth:t.axisLineBorder,stroke:t.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:t.axisGridBorderColor,lineWidth:t.axisGridBorder,lineDash:t.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:t.axisTickLineBorder,stroke:t.axisTickLineBorderColor},alignTick:!0,length:t.axisTickLineLength},subTickLine:null,animate:!0}}(t),i=function(t){return{title:null,marker:{symbol:"circle",spacing:t.legendMarkerSpacing,style:{r:t.legendCircleMarkerSize,fill:t.legendMarkerColor}},itemName:{spacing:5,style:{fill:t.legendItemNameFillColor,fontFamily:t.fontFamily,fontSize:t.legendItemNameFontSize,lineHeight:t.legendItemNameLineHeight,fontWeight:t.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:t.legendPageNavigatorMarkerSize,inactiveFill:t.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:t.legendPageNavigatorMarkerInactiveFillOpacity,fill:t.legendPageNavigatorMarkerFillColor,opacity:t.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:t.legendPageNavigatorTextFillColor,fontSize:t.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:t.legendItemSpacing,itemMarginBottom:t.legendItemMarginBottom,padding:t.legendPadding}}(t);return{background:t.backgroundColor,defaultColor:t.brandColor,subColor:t.subColor,semanticRed:t.paletteSemanticRed,semanticGreen:t.paletteSemanticGreen,padding:"auto",fontFamily:t.fontFamily,columnWidthRatio:.5,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:t.paletteQualitative10,colors20:t.paletteQualitative20,sequenceColors:t.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:function(t){var e=t.geometry.coordinate;if(e.isPolar&&e.isTransposed){var r=Qa(t.getModel(),e),i=(r.startAngle+r.endAngle)/2,a=7.5*Math.cos(i),o=7.5*Math.sin(i);return{matrix:zn.vs(null,[["t",a,o]])}}return n.interval.selected}}},"hollow-rect":{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},line:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},tick:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},funnel:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}},pyramid:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}}},line:{line:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},dot:{default:{style:x(x({},n.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:x(x({},n.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:x(x({},n.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:x(x({},n.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:x(x({},n.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:x(x({},n.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:x(x({},n.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:x(x({},n.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vh:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hvh:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vhv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}}},polygon:{polygon:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}}},point:{circle:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},square:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},bowtie:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},diamond:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},hexagon:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},triangle:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},"triangle-down":{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},"hollow-circle":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-square":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-bowtie":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-diamond":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-hexagon":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-triangle":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-triangle-down":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},cross:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},tick:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},plus:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},hyphen:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},line:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}}},area:{area:{default:{style:n.area.default},active:{style:n.area.active},inactive:{style:n.area.inactive},selected:{style:n.area.selected}},smooth:{default:{style:n.area.default},active:{style:n.area.active},inactive:{style:n.area.inactive},selected:{style:n.area.selected}},line:{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}},"smooth-line":{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}}},schema:{candle:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},box:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}}},edge:{line:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vhv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},arc:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}}},violin:{violin:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hollow:{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}},"hollow-smooth":{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}}}},components:{axis:{common:r,top:{position:"top",grid:null,title:null,verticalLimitLength:.5},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:.5},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:(0,O.b$)({},r.grid,{line:{type:"line"}})},radius:{title:null,grid:(0,O.b$)({},r.grid,{line:{type:"circle"}})}},legend:{common:i,right:{layout:"vertical",padding:t.legendVerticalPadding},left:{layout:"vertical",padding:t.legendVerticalPadding},top:{layout:"horizontal",padding:t.legendHorizontalPadding},bottom:{layout:"horizontal",padding:t.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:t.sliderRailHeight,defaultLength:t.sliderRailWidth,style:{fill:t.sliderRailFillColor,stroke:t.sliderRailBorderColor,lineWidth:t.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:t.sliderLabelTextFillColor,fontSize:t.sliderLabelTextFontSize,lineHeight:t.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:t.fontFamily}},handler:{size:t.sliderHandlerWidth,style:{fill:t.sliderHandlerFillColor,stroke:t.sliderHandlerBorderColor}},slidable:!0,padding:i.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:t.tooltipCrosshairsBorderColor,lineWidth:t.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(e={},e["".concat(ha)]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:t.tooltipContainerFillColor,opacity:t.tooltipContainerFillOpacity,boxShadow:t.tooltipContainerShadow,borderRadius:"".concat(t.tooltipContainerBorderRadius,"px"),color:t.tooltipTextFillColor,fontSize:"".concat(t.tooltipTextFontSize,"px"),fontFamily:t.fontFamily,lineHeight:"".concat(t.tooltipTextLineHeight,"px"),padding:"0 12px 0 12px"},e["".concat(fa)]={marginBottom:"12px",marginTop:"12px"},e["".concat(pa)]={margin:0,listStyleType:"none",padding:0},e["".concat(da)]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},e["".concat(ga)]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},e["".concat(va)]={display:"inline-block",float:"right",marginLeft:"30px"},e)},annotation:{arc:{style:{stroke:t.annotationArcBorderColor,lineWidth:t.annotationArcBorder},animate:!0},line:{style:{stroke:t.annotationLineBorderColor,lineDash:t.annotationLineDash,lineWidth:t.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,textAlign:"start",fontFamily:t.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:t.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:t.annotationRegionBorder,stroke:t.annotationRegionBorderColor,fill:t.annotationRegionFillColor,fillOpacity:t.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:t.brandColor,lineWidth:2}},line:{style:{stroke:t.annotationLineBorderColor,lineWidth:t.annotationLineBorder},length:t.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,fontFamily:t.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:t.annotationRegionFillColor,fillOpacity:t.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,fontFamily:t.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:t.cSliderBackgroundFillColor,opacity:t.cSliderBackgroundFillOpacity},foregroundStyle:{fill:t.cSliderForegroundFillColor,opacity:t.cSliderForegroundFillOpacity},handlerStyle:{width:t.cSliderHandlerWidth,height:t.cSliderHandlerHeight,fill:t.cSliderHandlerFillColor,opacity:t.cSliderHandlerFillOpacity,stroke:t.cSliderHandlerBorderColor,lineWidth:t.cSliderHandlerBorder,radius:t.cSliderHandlerBorderRadius,highLightFill:t.cSliderHandlerHighlightFillColor},textStyle:{fill:t.cSliderTextFillColor,opacity:t.cSliderTextFillOpacity,fontSize:t.cSliderTextFontSize,lineHeight:t.cSliderTextLineHeight,fontWeight:t.cSliderTextFontWeight,stroke:t.cSliderTextBorderColor,lineWidth:t.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:t.scrollbarTrackFillColor,thumbColor:t.scrollbarThumbFillColor}},hover:{style:{thumbColor:t.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:t.labelFillColor,fontSize:t.labelFontSize,fontFamily:t.fontFamily,stroke:t.labelBorderColor,lineWidth:t.labelBorder},fillColorDark:t.labelFillColorDark,fillColorLight:t.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:t.innerLabelFillColor,fontSize:t.innerLabelFontSize,fontFamily:t.fontFamily,stroke:t.innerLabelBorderColor,lineWidth:t.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:t.overflowLabelFillColor,fontSize:t.overflowLabelFontSize,fontFamily:t.fontFamily,stroke:t.overflowLabelBorderColor,lineWidth:t.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:t.labelLineBorder}},autoRotate:!0}}}var Ps="#000",Ds="#595959",Ls="#8C8C8C",Rs="#BFBFBF",Bs="#D9D9D9",_s="#F0F0F0",Ns="#FFFFFF",Us="#D9D9D9",zs=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Hs=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],Vs=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],Gs=function(t){void 0===t&&(t={});var e=t.paletteQualitative10,n=void 0===e?zs:e,r=t.paletteQualitative20,i=void 0===r?Hs:r,a=t.brandColor,o=void 0===a?n[0]:a;return x(x({},{backgroundColor:"transparent",brandColor:o,subColor:"rgba(0,0,0,0.05)",paletteQualitative10:n,paletteQualitative20:i,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:Vs,fontFamily:'"Segoe UI", Roboto, "Helvetica Neue", Arial,\n    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n    "Noto Color Emoji"',axisLineBorderColor:Rs,axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Ds,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:Us,axisTickLineBorderColor:Rs,axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:Bs,axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:Ls,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:Bs,axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:Ls,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:o,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Ds,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:Ps,legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:Ps,legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:Ls,legendPageNavigatorTextFontSize:12,sliderRailFillColor:Bs,sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Ls,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:_s,sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Rs,annotationArcBorderColor:Bs,annotationArcBorder:1,annotationLineBorderColor:Rs,annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Ds,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:Ps,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Rs,tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:Ds,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Ds,labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Ns,innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Ds,overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:Ns,overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:Rs,cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:o,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Ns,pointBorderOpacity:1,pointActiveBorderColor:Ps,pointSelectedBorder:2,pointSelectedBorderColor:Ps,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:o,hollowPointBorderOpacity:.95,hollowPointFillColor:Ns,hollowPointActiveBorder:1,hollowPointActiveBorderColor:Ps,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Ps,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:o,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:o,areaFillOpacity:.25,areaActiveFillColor:o,areaActiveFillOpacity:.5,areaSelectedFillColor:o,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:o,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Ps,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Ps,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:o,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Ps,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Ps,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:o,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Ns,hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Ps,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Ps,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}),t)};Gs();function Ws(t){var e=t.styleSheet,n=void 0===e?{}:e,r=b(t,["styleSheet"]),i=Gs(n);return(0,O.b$)({},Is(i),r)}var Ys={default:Ws({})};function js(t){return(0,O.U2)(Ys,(0,O.vl)(t),Ys.default)}function Xs(t,e,n){var r=n.translate(t),i=n.translate(e);return(0,O.vQ)(r,i)}function $s(t,e,n){var r=n.coordinate,i=n.getYScale(),a=i.field,o=r.invert(e),s=i.invert(o.y);return(0,O.sE)(t,(function(t){var e=t[V];return e[a][0]<=s&&e[a][1]>=s}))||t[t.length-1]}var qs=(0,O.HP)((function(t){if(t.isCategory)return 1;for(var e=t.values,n=e.length,r=t.translate(e[0]),i=r,a=0;a<n;a++){var o=e[a],s=t.translate(o);s<r&&(r=s),s>i&&(i=s)}return(i-r)/(n-1)}));function Zs(t){var e,n,r,i=function(t){var e=(0,O.VO)(t.attributes);return(0,O.hX)(e,(function(t){return(0,O.FX)(H,t.type)}))}(t);try{for(var a=C(i),o=a.next();!o.done;o=a.next()){var s=o.value,l=s.getScale(s.type);if(l&&l.isLinear)if("cat"!==uo(l,(0,O.U2)(t.scaleDefs,l.field),s.type,t.type)){r=l;break}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}var c=t.getXScale(),u=t.getYScale();return r||u||c}function Ks(t,e,n){if(0===e.length)return null;var r=n.type,i=n.getXScale(),a=n.getYScale(),o=i.field,s=a.field,l=null;if("heatmap"===r||"point"===r){for(var c=n.coordinate.invert(t),u=i.invert(c.x),h=a.invert(c.y),f=1/0,p=0;p<e.length;p++){var d=e[p],g=d[V],v=Math.pow(g[o]-u,2)+Math.pow(g[s]-h,2);v<f&&(f=v,l=d)}return l}var y=e[0],m=e[e.length-1],x=function(t,e){var n=e.coordinate,r=e.getXScale(),i=r.range,a=i[i.length-1],o=i[0],s=n.invert(t).x;return n.isPolar&&s>(1+a)/2&&(s=o),r.translate(r.invert(s))}(t,n),b=y[V][o],w=y[V][s],S=m[V][o],C=a.isLinear&&(0,O.kJ)(w);if((0,O.kJ)(b)){for(p=0;p<e.length;p++){g=(F=e[p])[V];if(i.translate(g[o][0])<=x&&i.translate(g[o][1])>=x){if(!C){l=F;break}(0,O.kJ)(l)||(l=[]),l.push(F)}}(0,O.kJ)(l)&&(l=$s(l,t,n))}else{var T=void 0;if(i.isLinear||"timeCat"===i.type){if((x>i.translate(S)||x<i.translate(b))&&(x>i.max||x<i.min))return null;for(var E=0,k=e.length-1,M=void 0;E<=k;){var A=e[M=Math.floor((E+k)/2)][V][o];if(Xs(A,x,i))return e[M];i.translate(A)<=i.translate(x)?(E=M+1,m=e[M],T=e[M+1]):(0===k&&(m=e[0]),k=M-1)}}else{for(p=0;p<e.length;p++){var F;if(Xs((g=(F=e[p])[V])[o],x,i)){if(!C){l=F;break}(0,O.kJ)(l)||(l=[]),l.push(F)}else i.translate(g[o])<=x&&(m=F,T=e[p+1])}(0,O.kJ)(l)&&(l=$s(l,t,n))}m&&T&&Math.abs(i.translate(m[V][o])-x)>Math.abs(i.translate(T[V][o])-x)&&(m=T)}var I=qs(n.getXScale());return!l&&Math.abs(i.translate(m[V][o])-x)<=I/2&&(l=m),l}function Js(t,e,n,r){var i,a;void 0===n&&(n=""),void 0===r&&(r=!1);var o,s,l=t[V],c=function(t,e,n){var r=e.getAttribute("position").getFields(),i=e.scales,a=(0,O.mf)(n)||!n?r[0]:n,o=i[a],s=o?o.getText(t[a]):t[a]||a;return(0,O.mf)(n)?n(s,t):s}(l,e,n),u=e.tooltipOption,h=e.theme.defaultColor,f=[];function p(e,n){if(r||!(0,O.UM)(n)&&""!==n){var i={title:c,data:l,mappingData:t,name:e,value:n,color:t.color||h,marker:!0};f.push(i)}}if((0,O.Kn)(u)){var d=u.fields,g=u.callback;if(g){var v=d.map((function(e){return t[V][e]})),y=g.apply(void 0,E([],T(v),!1)),m=x({data:t[V],mappingData:t,title:c,color:t.color||h,marker:!0},y);f.push(m)}else{var b=e.scales;try{for(var w=C(d),S=w.next();!S.done;S=w.next()){var k=S.value;if(!(0,O.UM)(l[k])){var M=b[k];p(o=fo(M),s=M.getText(l[k]))}}}catch(F){i={error:F}}finally{try{S&&!S.done&&(a=w.return)&&a.call(w)}finally{if(i)throw i.error}}}}else{var A=Zs(e);s=function(t,e){var n=t[e.field];return(0,O.kJ)(n)?n.map((function(t){return e.getText(t)})).join("-"):e.getText(n)}(l,A),o=function(t,e){var n,r=e.getGroupScales();if(r.length&&(n=r[0]),n){var i=n.field;return n.getText(t[i])}return fo(Zs(e))}(l,e),p(o,s)}return f}function Qs(t,e,n,r){var i,a,o=r.showNil,s=[],l=t.dataArray;if(!(0,O.xb)(l)){t.sort(l);try{for(var c=C(l),u=c.next();!u.done;u=c.next()){var h=Ks(e,u.value,t);if(h){var f=t.getElementId(h),p=t.elementsMap[f];if("heatmap"===t.type||p.visible){var d=Js(h,t,n,o);d.length&&s.push(d)}}}}catch(g){i={error:g}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}}return s}function tl(t,e,n,r){var i=r.showNil,a=[],o=t.container.getShape(e.x,e.y);if(o&&o.get("visible")&&o.get("origin")){var s=Js(o.get("origin").mappingData,t,n,i);s.length&&a.push(s)}return a}function el(t,e,n){var r,i,a=[],o=t.geometries,s=n.shared,l=n.title,c=n.reversed;try{for(var u=C(o),h=u.next();!h.done;h=u.next()){var f=h.value;if(f.visible&&!1!==f.tooltipOption){var p=f.type,d=void 0;(d=["point","edge","polygon"].includes(p)?tl(f,e,l,n):["area","line","path","heatmap"].includes(p)||!1!==s?Qs(f,e,l,n):tl(f,e,l,n)).length&&(c&&d.reverse(),a.push(d))}}}catch(g){r={error:g}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return a}function nl(t){void 0===t&&(t=0);var e=(0,O.kJ)(t)?t:[t];switch(e.length){case 0:e=[0,0,0,0];break;case 1:e=new Array(4).fill(e[0]);break;case 2:e=E(E([],T(e),!1),T(e),!1);break;case 3:e=E(E([],T(e),!1),[e[1]],!1);break;default:e=e.slice(0,4)}return e}var rl={};function il(t,e){rl[t]=e}var al=function(){function t(t){this.option=this.wrapperOption(t)}return t.prototype.update=function(t){return this.option=this.wrapperOption(t),this},t.prototype.hasAction=function(t){var e=this.option.actions;return(0,O.G)(e,(function(e){return e[0]===t}))},t.prototype.create=function(t,e){var n=this.option,r=n.type,i=n.cfg,a="theta"===r,o=x({start:t,end:e},i),s=function(t){return Zn[t.toLowerCase()]}(a?"polar":r);return this.coordinate=new s(o),this.coordinate.type=r,a&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},t.prototype.adjust=function(t,e){return this.coordinate.update({start:t,end:e}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},t.prototype.rotate=function(t){return this.option.actions.push(["rotate",t]),this},t.prototype.reflect=function(t){return this.option.actions.push(["reflect",t]),this},t.prototype.scale=function(t,e){return this.option.actions.push(["scale",t,e]),this},t.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},t.prototype.getOption=function(){return this.option},t.prototype.getCoordinate=function(){return this.coordinate},t.prototype.wrapperOption=function(t){return x({type:"rect",actions:[],cfg:{}},t)},t.prototype.execActions=function(t){var e=this,n=this.option.actions;(0,O.S6)(n,(function(n){var r,i=T(n),a=i[0],o=i.slice(1);(!!(0,O.UM)(t)||t.includes(a))&&(r=e.coordinate)[a].apply(r,E([],T(o),!1))}))},t}(),ol=al,sl=function(){function t(t,e,n){this.view=t,this.gEvent=e,this.data=n,this.type=e.type}return t.fromData=function(e,n,r){return new t(e,new J.Event(n,{}),r)},Object.defineProperty(t.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[Event (type=".concat(this.type,")]")},t.prototype.clone=function(){return new t(this.view,this.gEvent,this.data)},t}(),ll=sl;function cl(t){var e=t.getController("axis"),n=t.getController("legend"),r=t.getController("annotation");[e,t.getController("slider"),t.getController("scrollbar"),n,r].forEach((function(t){t&&t.layout()}))}var ul=function(){function t(){this.scales=new Map,this.syncScales=new Map}return t.prototype.createScale=function(t,e,n,r){var i=n,a=this.getScaleMeta(r);if(0===e.length&&a){var o=a.scale,s={type:o.type};o.isCategory&&(s.values=o.values),i=(0,O.b$)(s,a.scaleDef,n)}var l=ho(t,e,i);return this.cacheScale(l,n,r),l},t.prototype.sync=function(t,e){var n=this;this.syncScales.forEach((function(r,i){var a=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER,s=[];(0,O.S6)(r,(function(t){var e=n.getScale(t);o=(0,O.hj)(e.max)?Math.max(o,e.max):o,a=(0,O.hj)(e.min)?Math.min(a,e.min):a,(0,O.S6)(e.values,(function(t){s.includes(t)||s.push(t)}))})),(0,O.S6)(r,(function(r){var i=n.getScale(r);if(i.isContinuous)i.change({min:a,max:o,values:s});else if(i.isCategory){var l=i.range,c=n.getScaleMeta(r);s&&!(0,O.U2)(c,["scaleDef","range"])&&(l=po((0,O.b$)({},i,{values:s}),t,e)),i.change({values:s,range:l})}}))}))},t.prototype.cacheScale=function(t,e,n){var r=this.getScaleMeta(n);r&&r.scale.type===t.type?(!function(t,e){if("identity"!==t.type&&"identity"!==e.type){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);t.change(n)}}(r.scale,t),r.scaleDef=e):(r={key:n,scale:t,scaleDef:e},this.scales.set(n,r));var i=this.getSyncKey(r);if(r.syncKey=i,this.removeFromSyncScales(n),i){var a=this.syncScales.get(i);a||(a=[],this.syncScales.set(i,a)),a.push(n)}},t.prototype.getScale=function(t){var e=this.getScaleMeta(t);if(!e){var n=(0,O.Z$)(t.split("-")),r=this.syncScales.get(n);r&&r.length&&(e=this.getScaleMeta(r[0]))}return e&&e.scale},t.prototype.deleteScale=function(t){var e=this.getScaleMeta(t);if(e){var n=e.syncKey,r=this.syncScales.get(n);if(r&&r.length){var i=r.indexOf(t);-1!==i&&r.splice(i,1)}}this.scales.delete(t)},t.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},t.prototype.removeFromSyncScales=function(t){var e=this;this.syncScales.forEach((function(n,r){var i=n.indexOf(t);if(-1!==i)return n.splice(i,1),0===n.length&&e.syncScales.delete(r),!1}))},t.prototype.getSyncKey=function(t){var e=t.scale,n=t.scaleDef,r=e.field,i=(0,O.U2)(n,["sync"]);return!0===i?r:!1===i?void 0:i},t.prototype.getScaleMeta=function(t){return this.scales.get(t)},t}(),hl=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.top=t,this.right=e,this.bottom=n,this.left=r}return t.instance=function(e,n,r,i){return void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=0),new t(e,n,r,i)},t.prototype.max=function(t){var e=T(t,4),n=e[0],r=e[1],i=e[2],a=e[3];return this.top=Math.max(this.top,n),this.right=Math.max(this.right,r),this.bottom=Math.max(this.bottom,i),this.left=Math.max(this.left,a),this},t.prototype.shrink=function(t){var e=T(t,4),n=e[0],r=e[1],i=e[2],a=e[3];return this.top+=n,this.right+=r,this.bottom+=i,this.left+=a,this},t.prototype.inc=function(t,e){var n=t.width,r=t.height;switch(e){case M.TOP:case M.TOP_LEFT:case M.TOP_RIGHT:this.top+=r;break;case M.RIGHT:case M.RIGHT_TOP:case M.RIGHT_BOTTOM:this.right+=n;break;case M.BOTTOM:case M.BOTTOM_LEFT:case M.BOTTOM_RIGHT:this.bottom+=r;break;case M.LEFT:case M.LEFT_TOP:case M.LEFT_BOTTOM:this.left+=n}return this},t.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},t.prototype.clone=function(){return new(t.bind.apply(t,E([void 0],T(this.getPadding()),!1)))},t}();function fl(t){var e=t.padding;if(!function(t){return!(0,O.hj)(t)&&!(0,O.kJ)(t)}(e))return new(hl.bind.apply(hl,E([void 0],T(nl(e)),!1)));var n=t.viewBBox,r=new hl,i=[],a=[],o=[];return(0,O.S6)(t.getComponents(),(function(t){var e=t.type;e===A.AXIS?i.push(t):[A.LEGEND,A.SLIDER,A.SCROLLBAR].includes(e)?a.push(t):e!==A.GRID&&e!==A.TOOLTIP&&o.push(t)})),(0,O.S6)(i,(function(t){var e=t.component.getLayoutBBox(),i=new io(e.x,e.y,e.width,e.height).exceed(n);r.max(i)})),(0,O.S6)(a,(function(t){var e=t.component,n=t.direction,i=e.getLayoutBBox(),a=e.get("padding"),o=new io(i.x,i.y,i.width,i.height).expand(a);r.inc(o,n)})),(0,O.S6)(o,(function(t){var e=t.component,n=t.direction,i=e.getLayoutBBox(),a=new io(i.x,i.y,i.width,i.height);r.inc(a,n)})),r}function pl(t,e,n){var r=n.instance();e.forEach((function(t){t.autoPadding=r.max(t.autoPadding.getPadding())}))}var dl=function(t){function e(e){var n=t.call(this,{visible:e.visible})||this;n.views=[],n.geometries=[],n.controllers=[],n.interactions={},n.limitInPlot=!1,n.options={data:[],animate:!0},n.usedControllers=Object.keys(rl),n.scalePool=new ul,n.layoutFunc=cl,n.isPreMouseInPlot=!1,n.isDataChanged=!1,n.isCoordinateChanged=!1,n.createdScaleKeys=new Map,n.onCanvasEvent=function(t){var e=t.name;if(!e.includes(":")){var r=n.createViewEvent(t);n.doPlotEvent(r),n.emit(e,r)}},n.onDelegateEvents=function(t){var e=t.name;if(e.includes(":")){var r=n.createViewEvent(t);n.emit(e,r)}};var r=e.id,i=void 0===r?(0,O.EL)("view"):r,a=e.parent,o=e.canvas,s=e.backgroundGroup,l=e.middleGroup,c=e.foregroundGroup,u=e.region,h=void 0===u?{start:{x:0,y:0},end:{x:1,y:1}}:u,f=e.padding,p=e.appendPadding,d=e.theme,g=e.options,v=e.limitInPlot,y=e.syncViewPadding;return n.parent=a,n.canvas=o,n.backgroundGroup=s,n.middleGroup=l,n.foregroundGroup=c,n.region=h,n.padding=f,n.appendPadding=p,n.options=x(x({},n.options),g),n.limitInPlot=v,n.id=i,n.syncViewPadding=y,n.themeObject=(0,O.Kn)(d)?(0,O.b$)({},js("default"),Ws(d)):js(d),n.init(),n}return m(e,t),e.prototype.setLayout=function(t){this.layoutFunc=t},e.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},e.prototype.render=function(t,e){void 0===t&&(t=!1),this.emit(F.BEFORE_RENDER,ll.fromData(this,F.BEFORE_RENDER,e)),this.paint(t),this.emit(F.AFTER_RENDER,ll.fromData(this,F.AFTER_RENDER,e)),!1===this.visible&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this;this.emit(F.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var e=this.geometries,n=0;n<e.length;n++)e[n].clear(),e[n].container.remove(!0),e[n].labelsContainer.remove(!0);this.geometries=[];var r=this.controllers;for(n=0;n<r.length;n++)"annotation"===r[n].name?r[n].clear(!0):r[n].clear();this.createdScaleKeys.forEach((function(e,n){t.getRootView().scalePool.deleteScale(n)})),this.createdScaleKeys.clear();var i=this.views;for(n=0;n<i.length;n++)i[n].clear();this.emit(F.AFTER_CLEAR)},e.prototype.destroy=function(){this.emit(F.BEFORE_DESTROY);var e=this.interactions;(0,O.S6)(e,(function(t){t&&t.destroy()})),this.clear();for(var n=this.controllers,r=0,i=n.length;r<i;r++){n[r].destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),t.prototype.destroy.call(this)},e.prototype.changeVisible=function(e){t.prototype.changeVisible.call(this,e);for(var n=this.geometries,r=0,i=n.length;r<i;r++){n[r].changeVisible(e)}var a=this.controllers;for(r=0,i=a.length;r<i;r++){a[r].changeVisible(e)}return this.foregroundGroup.set("visible",e),this.middleGroup.set("visible",e),this.backgroundGroup.set("visible",e),this.getCanvas().draw(),this},e.prototype.data=function(t){return(0,O.t8)(this.options,"data",t),this.isDataChanged=!0,this},e.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},e.prototype.filter=function(t,e){return(0,O.mf)(e)?((0,O.t8)(this.options,["filters",t],e),this):(!e&&(0,O.U2)(this.options,["filters",t])&&delete this.options.filters[t],this)},e.prototype.axis=function(t,e){return(0,O.jn)(t)?(0,O.t8)(this.options,["axes"],t):(0,O.t8)(this.options,["axes",t],e),this},e.prototype.legend=function(t,e){return(0,O.jn)(t)?(0,O.t8)(this.options,["legends"],t):(0,O.HD)(t)?((0,O.t8)(this.options,["legends",t],e),(0,O.PO)(e)&&(null===e||void 0===e?void 0:e.selected)&&(0,O.t8)(this.options,["filters",t],(function(t){var n;return null===(n=null===e||void 0===e?void 0:e.selected[t])||void 0===n||n}))):(0,O.t8)(this.options,["legends"],t),this},e.prototype.scale=function(t,e){var n=this;return(0,O.HD)(t)?(0,O.t8)(this.options,["scales",t],e):(0,O.Kn)(t)&&(0,O.S6)(t,(function(t,e){(0,O.t8)(n.options,["scales",e],t)})),this},e.prototype.tooltip=function(t){return(0,O.t8)(this.options,"tooltip",t),this},e.prototype.annotation=function(){return this.getController("annotation")},e.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},e.prototype.coordinate=function(t,e){return(0,O.HD)(t)?(0,O.t8)(this.options,"coordinate",{type:t,cfg:e}):(0,O.t8)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},e.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},e.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var n=function(t){return ko[(0,O.vl)(t)]}(t);if(!n)throw new Error("facet '".concat(t,"' is not exist!"));return this.facetInstance=new n(this,x(x({},e),{type:t})),this},e.prototype.animate=function(t){return(0,O.t8)(this.options,"animate",t),this},e.prototype.updateOptions=function(t){return this.clear(),(0,O.CD)(this.options,t),this.views.forEach((function(t){return t.destroy()})),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},e.prototype.option=function(t,n){if(e.prototype[t])throw new Error("Can't use built in variable name \"".concat(t,'", please change another one.'));return(0,O.t8)(this.options,t,n),this},e.prototype.theme=function(t){return this.themeObject=(0,O.Kn)(t)?(0,O.b$)({},this.themeObject,Ws(t)):js(t),this},e.prototype.interaction=function(t,e){var n=this.interactions[t];n&&n.destroy();var r=Fs(t,this,e);return r&&(r.init(),this.interactions[t]=r),this},e.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},e.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(F.BEFORE_CHANGE_DATA,ll.fromData(this,F.BEFORE_CHANGE_DATA,null)),this.data(t),this.paint(!0);for(var e=this.views,n=0,r=e.length;n<r;n++){e[n].changeData(t)}this.emit(F.AFTER_CHANGE_DATA,ll.fromData(this,F.AFTER_CHANGE_DATA,null))},e.prototype.createView=function(t){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var n={data:this.options.data,scales:(0,O.d9)(this.options.scales),axes:(0,O.d9)(this.options.axes),coordinate:(0,O.d9)(this.coordinateController.getOption()),tooltip:(0,O.d9)(this.options.tooltip),legends:(0,O.d9)(this.options.legends),animate:this.options.animate,visible:this.visible},r=new e(x(x({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:B}),middleGroup:this.middleGroup.addGroup({zIndex:R}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:L}),theme:this.themeObject,padding:this.padding},t),{options:x(x({},n),(0,O.U2)(t,"options",{}))}));return this.views.push(r),r},e.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},e.prototype.removeView=function(t){var e=(0,O.Od)(this.views,(function(e){return e===t}))[0];return e&&e.destroy(),e},e.prototype.getCoordinate=function(){return this.coordinateInstance},e.prototype.getTheme=function(){return this.themeObject},e.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},e.prototype.getYScales=function(){var t={},e=[];return this.geometries.forEach((function(n){var r=n.getYScale(),i=r.field;t[i]||(t[i]=!0,e.push(r))})),e},e.prototype.getScalesByDim=function(t){for(var e=this.geometries,n={},r=0,i=e.length;r<i;r++){var a=e[r],o="x"===t?a.getXScale():a.getYScale();o&&!n[o.field]&&(n[o.field]=o)}return n},e.prototype.getScale=function(t,e){var n=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(n)},e.prototype.getScaleByField=function(t,e){return this.getScale(t,e)},e.prototype.getOptions=function(){return this.options},e.prototype.getData=function(){return this.filteredData},e.prototype.getOriginalData=function(){return this.options.data},e.prototype.getPadding=function(){return this.autoPadding.getPadding()},e.prototype.getGeometries=function(){return this.geometries},e.prototype.getElements=function(){return(0,O.u4)(this.geometries,(function(t,e){return t.concat(e.getElements())}),[])},e.prototype.getElementsBy=function(t){return this.getElements().filter((function(e){return t(e)}))},e.prototype.getLayer=function(t){return t===k.BG?this.backgroundGroup:t===k.MID?this.middleGroup:(k.FORE,this.foregroundGroup)},e.prototype.isPointInPlot=function(t){return function(t,e){var n=!1;if(t)if("theta"===t.type){var r=t.start,i=t.end;n=eo(e.x,r.x,i.x)&&eo(e.y,r.y,i.y)}else{var a=t.invert(e);n=eo(a.x,0,1)&&eo(a.y,0,1)}return n}(this.getCoordinate(),t)},e.prototype.getLegendAttributes=function(){return(0,O.xH)(this.geometries.map((function(t){return t.getGroupAttributes()})))},e.prototype.getGroupScales=function(){var t=this.geometries.map((function(t){return t.getGroupScales()}));return ro((0,O.xH)(t))},e.prototype.getCanvas=function(){return this.getRootView().canvas},e.prototype.getRootView=function(){for(var t=this;t.parent;)t=t.parent;return t},e.prototype.getXY=function(t){var e,n,r=this.getCoordinate(),i=this.getScalesByDim("x"),a=this.getScalesByDim("y");if((0,O.S6)(t,(function(t,r){i[r]&&(e=i[r].scale(t)),a[r]&&(n=a[r].scale(t))})),!(0,O.UM)(e)&&!(0,O.UM)(n))return r.convert({x:e,y:n})},e.prototype.getController=function(t){return(0,O.sE)(this.controllers,(function(e){return e.name===t}))},e.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},e.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},e.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},e.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},e.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},e.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},e.prototype.getSnapRecords=function(t){for(var e=this.geometries,n=[],r=0,i=e.length;r<i;r++){var a=e[r],o=a.dataArray;a.sort(o);for(var s=void 0,l=0,c=o.length;l<c;l++){(s=Ks(t,o[l],a))&&n.push(s)}}var u=this.views;for(r=0,i=u.length;r<i;r++){var h=u[r].getSnapRecords(t);n=n.concat(h)}return n},e.prototype.getComponents=function(){for(var t=[],e=this.controllers,n=0,r=e.length;n<r;n++){var i=e[n];t=t.concat(i.getComponents())}return t},e.prototype.filterData=function(t){var e=this.options.filters;return 0===(0,O.dp)(e)?t:(0,O.hX)(t,(function(t,n){return Object.keys(e).every((function(r){return(0,e[r])(t[r],t,n)}))}))},e.prototype.filterFieldData=function(t,e){var n=this.options.filters,r=(0,O.U2)(n,t);return(0,O.o8)(r)?e:e.filter((function(e,n){return r(e[t],e,n)}))},e.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),e=t.start,n=t.end,r=this.coordinateBBox.bl,i=this.coordinateBBox.tr;(0,O.Xy)(e,r)&&(0,O.Xy)(n,i)?this.isCoordinateChanged=!1:(this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(r,i))},e.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(F.BEFORE_PAINT),this.renderPaddingRecursive(t),this.renderLayoutRecursive(t),this.renderBackgroundStyleShape(),this.renderPaintRecursive(t),this.emit(F.AFTER_PAINT),this.isDataChanged=!1},e.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,O.U2)(this.themeObject,"background");if(t){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var e=this.viewBBox,n=e.x,r=e.y,i=e.width,a=e.height;this.backgroundStyleRectShape.attr({fill:t,x:n,y:r,width:i,height:a})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},e.prototype.renderPaddingRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.autoPadding=fl(this).shrink(nl(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate(),this.controllers.find((function(t){return"tooltip"===t.name})).update();for(var e=this.views,n=0,r=e.length;n<r;n++){e[n].renderPaddingRecursive(t)}},e.prototype.renderLayoutRecursive=function(t){var e=!0===this.syncViewPadding?pl:(0,O.mf)(this.syncViewPadding)?this.syncViewPadding:void 0;e&&(e(this,this.views,hl),this.views.forEach((function(t){t.coordinateBBox=t.viewBBox.shrink(t.autoPadding.getPadding()),t.adjustCoordinate()}))),this.doLayout();for(var n=this.views,r=0,i=n.length;r<i;r++){n[r].renderLayoutRecursive(t)}},e.prototype.renderPaintRecursive=function(t){var e=this.middleGroup;if(this.limitInPlot){var n=lo(this.coordinateInstance),r=n.type,i=n.attrs;e.setClip({type:r,attrs:i})}else e.setClip(void 0);this.paintGeometries(t),this.renderComponents(t);for(var a=this.views,o=0,s=a.length;o<s;o++){a[o].renderPaintRecursive(t)}},e.prototype.createScale=function(t,e,n,r){var i=(0,O.U2)(this.options.scales,[t]),a=x(x({},i),n);return this.parent?this.parent.createScale(t,e,a,r):this.scalePool.createScale(t,e,a,r)},e.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,n=0,r=e.length;n<r;n++){e[n].renderDataRecursive(t)}},e.prototype.calculateViewBBox=function(){var t,e,n,r;if(this.parent){var i=this.parent.coordinateBBox;t=i.x,e=i.y,n=i.width,r=i.height}else t=0,e=0,n=this.canvas.get("width"),r=this.canvas.get("height");var a=this.region,o=a.start,s=a.end,l=new io(t+n*o.x,e+r*o.y,n*(s.x-o.x),r*(s.y-o.y));this.viewBBox&&this.viewBBox.isEqual(l)||(this.viewBBox=new io(t+n*o.x,e+r*o.y,n*(s.x-o.x),r*(s.y-o.y))),this.coordinateBBox=this.viewBBox},e.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},e.prototype.initComponentController=function(){for(var t=this.usedControllers,e=0,n=t.length;e<n;e++){var r=t[e],i=rl[r];i&&this.controllers.push(new i(this))}},e.prototype.createViewEvent=function(t){var e=t.shape,n=t.name,r=e?e.get("origin"):null,i=new ll(this,t,r);return i.type=n,i},e.prototype.doPlotEvent=function(t){var e=t.type,n={x:t.x,y:t.y};if(["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"].includes(e)){var r=this.isPointInPlot(n),i=t.clone();if(r){var a="plot:".concat(e);i.type=a,this.emit(a,i),"mouseleave"!==e&&"touchend"!==e||(this.isPreMouseInPlot=!1)}"mousemove"===e||"touchmove"===e?(this.isPreMouseInPlot&&!r?("mousemove"===e&&(i.type=P.MOUSE_LEAVE,this.emit(P.MOUSE_LEAVE,i)),i.type=P.LEAVE,this.emit(P.LEAVE,i)):!this.isPreMouseInPlot&&r&&("mousemove"===e&&(i.type=P.MOUSE_ENTER,this.emit(P.MOUSE_ENTER,i)),i.type=P.ENTER,this.emit(P.ENTER,i)),this.isPreMouseInPlot=r):"mouseleave"!==e&&"touchend"!==e||this.isPreMouseInPlot&&("mouseleave"===e&&(i.type=P.MOUSE_LEAVE,this.emit(P.MOUSE_LEAVE,i)),i.type=P.LEAVE,this.emit(P.LEAVE,i),this.isPreMouseInPlot=!1)}},e.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},e.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),n=(0,O.U2)(this.options,"scales",{}),r=this.geometries,i=0,a=r.length;i<a;i++){var o=r[i];o.scales=this.getGeometryScales();var s={coordinate:e,scaleDefs:n,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?o.update(s):o.init(s)}this.adjustScales()},e.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),n=this.getOptions(),r=n.data,i=n.scales,a=void 0===i?{}:i,o=this.filteredData,s=0,l=t.length;s<l;s++){var c=t[s],u=a[c],h=this.getScaleKey(c);this.createScale(c,e.includes(c)?r:o,u,h),this.createdScaleKeys.set(h,!0)}},e.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},e.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},n=0;n<t.length;n++){var r=t[n];e[r]=this.getScaleByField(r)}return e},e.prototype.getScaleFields=function(){for(var t=[],e=new Map,n=this.geometries,r=0;r<n.length;r++){ro(n[r].getScaleFields(),t,e)}return t},e.prototype.getGroupedFields=function(){for(var t=[],e=new Map,n=this.geometries,r=0;r<n.length;r++){ro(n[r].getGroupFields(),t,e)}return t},e.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},e.prototype.adjustCategoryScaleRange=function(){var t=this,e=E([this.getXScale()],T(this.getYScales()),!1).filter((function(t){return!!t})),n=this.getCoordinate(),r=this.options.scales;(0,O.S6)(e,(function(e){var i=e.field,a=e.values,o=e.isCategory,s=e.isIdentity;(o||s)&&a&&!(0,O.U2)(r,[i,"range"])&&(e.range=po(e,n,t.theme))}))},e.prototype.initComponents=function(t){for(var e=this.controllers,n=0;n<e.length;n++){var r=e[n];t?r.update():(r.clear(),r.render())}},e.prototype.doLayout=function(){this.layoutFunc(this)},e.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,e)},e.prototype.paintGeometries=function(t){for(var e=this.options.animate,n=this.getCoordinate(),r={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},i=this.geometries,a=0;a<i.length;a++){var o=i[a];o.coordinate=n,o.canvasRegion=r,e||o.animate(!1),o.paint(t)}},e.prototype.renderComponents=function(t){for(var e=this.getComponents(),n=0;n<e.length;n++){e[n].component.render()}},e.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},e.prototype.initOptions=function(){var t=this,e=this.options,n=e.geometries,r=void 0===n?[]:n,i=e.interactions,a=void 0===i?[]:i,o=e.views,s=void 0===o?[]:o,l=e.annotations,c=void 0===l?[]:l,u=e.coordinate,h=e.events,f=e.facets;this.coordinateController?u&&this.coordinateController.update(u):this.coordinateController=new ol(u);for(var p=0;p<r.length;p++){var d=r[p];this.createGeometry(d)}for(var g=0;g<a.length;g++){var v=a[g],y=v.type,m=v.cfg;this.interaction(y,m)}for(var x=0;x<s.length;x++){var w=s[x];this.createView(w)}for(var S=this.getController("annotation"),C=0;C<c.length;C++){var T=c[C];S.annotation(T)}h&&(0,O.S6)(h,(function(e,n){t.on(n,e)})),f&&(0,O.S6)(f,(function(e){var n=e.type,r=b(e,["type"]);t.facet(n,r)}))},e.prototype.createGeometry=function(t){var e=t.type,n=t.cfg,r=void 0===n?{}:n;if(this[e]){var i=this[e](r);(0,O.S6)(t,(function(t,e){(0,O.mf)(i[e])&&i[e](t)}))}},e.prototype.getScaleKey=function(t){return"".concat(this.id,"-").concat(t)},e}(K);function gl(t,e){dl.prototype[t.toLowerCase()]=function(t){void 0===t&&(t={});var n=x({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),r=new e(n);return this.geometries.push(r),r}}var vl=function(t){function e(e){var n=this,r=e.container,i=e.width,a=e.height,o=e.autoFit,s=void 0!==o&&o,l=e.padding,c=e.appendPadding,u=e.renderer,h=void 0===u?"canvas":u,f=e.pixelRatio,p=e.localRefresh,d=void 0===p||p,g=e.visible,v=void 0===g||g,y=e.supportCSSTransform,m=void 0!==y&&y,b=e.defaultInteractions,w=void 0===b?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text","axis-description"]:b,S=e.options,C=e.limitInPlot,T=e.theme,E=e.syncViewPadding,k=(0,O.HD)(r)?document.getElementById(r):r,M=Y('<div style="position:relative;"></div>');k.appendChild(M);var A=$(k,s,i,a),F=new(function(t){var e=G[t];if(!e)throw new Error("G engine '".concat(t,"' is not exist, please register it at first."));return e}(h).Canvas)(x({container:M,pixelRatio:f,localRefresh:d,supportCSSTransform:m},A));return(n=t.call(this,{parent:null,canvas:F,backgroundGroup:F.addGroup({zIndex:B}),middleGroup:F.addGroup({zIndex:R}),foregroundGroup:F.addGroup({zIndex:L}),padding:l,appendPadding:c,visible:v,options:S,limitInPlot:C,theme:T,syncViewPadding:E})||this).onResize=(0,O.Ds)((function(){n.forceFit()}),300),n.ele=k,n.canvas=F,n.width=A.width,n.height=A.height,n.autoFit=s,n.localRefresh=d,n.renderer=h,n.wrapperElement=M,n.updateCanvasStyle(),n.bindAutoFit(),n.initDefaultInteractions(w),n}return m(e,t),e.prototype.initDefaultInteractions=function(t){var e=this;(0,O.S6)(t,(function(t){e.interaction(t)}))},e.prototype.aria=function(t){var e="aria-label";!1===t?this.ele.removeAttribute(e):this.ele.setAttribute(e,t.label)},e.prototype.changeSize=function(t,e){return this.width===t&&this.height===e||(this.emit(F.BEFORE_CHANGE_SIZE),this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this.emit(F.AFTER_CHANGE_SIZE)),this},e.prototype.clear=function(){t.prototype.clear.call(this),this.aria(!1)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),function(t){var e=t.parentNode;e&&e.removeChild(t)}(this.wrapperElement),this.wrapperElement=null},e.prototype.changeVisible=function(e){return t.prototype.changeVisible.call(this,e),this.wrapperElement.style.display=e?"":"none",this},e.prototype.forceFit=function(){if(!this.destroyed){var t=$(this.ele,!0,this.width,this.height),e=t.width,n=t.height;this.changeSize(e,n)}},e.prototype.updateCanvasStyle=function(){j(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},e.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},e.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},e}(dl),yl=vl,ml=function(){function t(t){this.visible=!0,this.components=[],this.view=t}return t.prototype.clear=function(t){(0,O.S6)(this.components,(function(t){t.component.destroy()})),this.components=[]},t.prototype.destroy=function(){this.clear()},t.prototype.getComponents=function(){return this.components},t.prototype.changeVisible=function(t){this.visible!==t&&(this.components.forEach((function(e){t?e.component.show():e.component.hide()})),this.visible=t)},t}();var xl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLocked=!1,e}return m(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.isVisible=function(){return!1!==this.view.getOptions().tooltip},e.prototype.render=function(){},e.prototype.showTooltip=function(t){if(this.point=t,this.isVisible()){var e=this.view,n=this.getTooltipItems(t);if(n.length){var r=this.getTitle(n),i={x:n[0].x,y:n[0].y};e.emit("tooltip:show",ll.fromData(e,"tooltip:show",x({items:n,title:r},t)));var a=this.getTooltipCfg(),o=a.follow,s=a.showMarkers,l=a.showCrosshairs,c=a.showContent,u=a.marker,h=this.items,f=this.title;if((0,O.Xy)(f,r)&&(0,O.Xy)(h,n)?(this.tooltip&&o&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()):(e.emit("tooltip:change",ll.fromData(e,"tooltip:change",x({items:n,title:r},t))),((0,O.mf)(c)?c(n):c)&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,O.CD)({},a,{items:this.getItemsAfterProcess(n),title:r},o?t:{})),this.tooltip.show()),s&&this.renderTooltipMarkers(n,u)),this.items=n,this.title=r,l){var p=(0,O.U2)(a,["crosshairs","follow"],!1);this.renderCrosshairs(p?t:i,a)}}else this.hideTooltip()}},e.prototype.hideTooltip=function(){if(this.getTooltipCfg().follow){var t=this.tooltipMarkersGroup;t&&t.hide();var e=this.xCrosshair,n=this.yCrosshair;e&&e.hide(),n&&n.hide();var r=this.tooltip;r&&r.hide(),this.view.emit("tooltip:hide",ll.fromData(this.view,"tooltip:hide",{})),this.point=null}else this.point=null},e.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},e.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},e.prototype.isTooltipLocked=function(){return this.isLocked},e.prototype.clear=function(){var t=this,e=t.tooltip,n=t.xCrosshair,r=t.yCrosshair,i=t.tooltipMarkersGroup;e&&(e.hide(),e.clear()),n&&n.clear(),r&&r.clear(),i&&i.clear(),(null===e||void 0===e?void 0:e.get("customContent"))&&(this.tooltip.destroy(),this.tooltip=null),this.title=null,this.items=null},e.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},e.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},e.prototype.changeVisible=function(t){if(this.visible!==t){var e=this,n=e.tooltip,r=e.tooltipMarkersGroup,i=e.xCrosshair,a=e.yCrosshair;t?(n&&n.show(),r&&r.show(),i&&i.show(),a&&a.show()):(n&&n.hide(),r&&r.hide(),i&&i.hide(),a&&a.hide()),this.visible=t}},e.prototype.getTooltipItems=function(t){var e,n,r,i,a,o,s=this.findItemsFromView(this.view,t);if(s.length){s=(0,O.xH)(s);try{for(var l=C(s),c=l.next();!c.done;c=l.next()){var u=c.value;try{for(var h=(r=void 0,C(u)),f=h.next();!f.done;f=h.next()){var p=f.value,d=p.mappingData,g=d.x,v=d.y;p.x=(0,O.kJ)(g)?g[g.length-1]:g,p.y=(0,O.kJ)(v)?v[v.length-1]:v}}catch(T){r={error:T}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}}catch(E){e={error:E}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}if(!1===this.getTooltipCfg().shared&&s.length>1){var y=s[0],m=Math.abs(t.y-y[0].y);try{for(var x=C(s),b=x.next();!b.done;b=x.next()){var w=b.value,S=Math.abs(t.y-w[0].y);S<=m&&(y=w,m=S)}}catch(k){a={error:k}}finally{try{b&&!b.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}s=[y]}return function(t){for(var e=[],n=function(n){var r=t[n];(0,O.sE)(e,(function(t){return t.color===r.color&&t.name===r.name&&t.value===r.value&&t.title===r.title}))||e.push(r)},r=0;r<t.length;r++)n(r);return e}((0,O.xH)(s))}return[]},e.prototype.layout=function(){},e.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},e.prototype.isCursorEntered=function(t){if(this.tooltip){var e=this.tooltip.getContainer(),n=this.tooltip.get("capture");if(e&&n){var r=e.getBoundingClientRect(),i=r.x,a=r.y,o=r.width,s=r.height;return new io(i,a,o,s).isPointIn(t)}}return!1},e.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,n=this.processCustomContent(e),r=t.getTheme(),i=(0,O.U2)(r,["components","tooltip"],{}),a=(0,O.U2)(n,"enterable",i.enterable);return(0,O.b$)({},i,n,{capture:!(!a&&!this.isLocked)})},e.prototype.processCustomContent=function(t){if((0,O.jn)(t)||!(0,O.U2)(t,"customContent"))return t;var e=t.customContent;return x(x({},t),{customContent:function(t,n){var r=e(t,n)||"";return(0,O.HD)(r)?'<div class="g2-tooltip">'+r+"</div>":r}})},e.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e,e},e.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},n=this.getTooltipCfg(),r=new Xa(x(x({parent:t.get("el").parentNode,region:e},n),{visible:!1,crosshairs:null}));r.init(),this.tooltip=r},e.prototype.renderTooltipMarkers=function(t,e){var n,r,i=this.getTooltipMarkersGroup(),a=this.view.getRootView(),o=a.limitInPlot;try{for(var s=C(t),l=s.next();!l.done;l=s.next()){var c=l.value,u=c.x,h=c.y;if(o||(null===i||void 0===i?void 0:i.getClip())){var f=lo(a.getCoordinate()),p=f.type,d=f.attrs;null===i||void 0===i||i.setClip({type:p,attrs:d})}else null===i||void 0===i||i.setClip(void 0);var g=this.view.getTheme(),v=(0,O.U2)(g,["components","tooltip","marker"],{}),y=x(x({fill:c.color,symbol:"circle",shadowColor:c.color},(0,O.mf)(e)?x(x({},v),e(c)):e),{x:u,y:h});i.addShape("marker",{attrs:y})}}catch(m){n={error:m}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},e.prototype.renderCrosshairs=function(t,e){var n=(0,O.U2)(e,["crosshairs","type"],"x");"x"===n?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):"y"===n?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):"xy"===n&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},e.prototype.renderXCrosshairs=function(t,e){var n,r,i=this.getViewWithGeometry(this.view).getCoordinate();if(i.isRect)i.isTransposed?(n={x:i.start.x,y:t.y},r={x:i.end.x,y:t.y}):(n={x:t.x,y:i.end.y},r={x:t.x,y:i.start.y});else{var a=so(i,t),o=i.getCenter(),s=i.getRadius();r=Za(o.x,o.y,s,a),n=o}var l=(0,O.b$)({start:n,end:r,container:this.getTooltipCrosshairsGroup()},(0,O.U2)(e,"crosshairs",{}),this.getCrosshairsText("x",t,e));delete l.type;var c=this.xCrosshair;c?c.update(l):(c=new Ni(l)).init(),c.render(),c.show(),this.xCrosshair=c},e.prototype.renderYCrosshairs=function(t,e){var n,r,i=this.getViewWithGeometry(this.view).getCoordinate();if(i.isRect){var a=void 0,o=void 0;i.isTransposed?(a={x:t.x,y:i.end.y},o={x:t.x,y:i.start.y}):(a={x:i.start.x,y:t.y},o={x:i.end.x,y:t.y}),n={start:a,end:o},r="Line"}else n={center:i.getCenter(),radius:oo(i,t),startAngle:i.startAngle,endAngle:i.endAngle},r="Circle";delete(n=(0,O.b$)({container:this.getTooltipCrosshairsGroup()},n,(0,O.U2)(e,"crosshairs",{}),this.getCrosshairsText("y",t,e))).type;var s=this.yCrosshair;s?i.isRect&&"circle"===s.get("type")||!i.isRect&&"line"===s.get("type")?(s=new c[r](n)).init():s.update(n):(s=new c[r](n)).init(),s.render(),s.show(),this.yCrosshair=s},e.prototype.getCrosshairsText=function(t,e,n){var r=(0,O.U2)(n,["crosshairs","text"]),i=(0,O.U2)(n,["crosshairs","follow"]),a=this.items;if(r){var o=this.getViewWithGeometry(this.view),s=a[0],l=o.getXScale(),c=o.getYScales()[0],u=void 0,h=void 0;if(i){var f=this.view.getCoordinate().invert(e);u=l.invert(f.x),h=c.invert(f.y)}else u=s.data[l.field],h=s.data[c.field];var p="x"===t?u:h;return(0,O.mf)(r)?r=r(t,p,a,e):r.content=p,{text:r}}},e.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},e.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):((t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"})).toFront(),this.tooltipMarkersGroup=t),t},e.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||((t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1})).toBack(),this.tooltipCrosshairsGroup=t),t},e.prototype.findItemsFromView=function(t,e){var n,r;if(!1===t.getOptions().tooltip)return[];var i=el(t,e,this.getTooltipCfg());try{for(var a=C(t.views),o=a.next();!o.done;o=a.next()){var s=o.value;i=i.concat(this.findItemsFromView(s,e))}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},e.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:(0,O.sE)(t.views,(function(t){return e.getViewWithGeometry(t)}))},e.prototype.getItemsAfterProcess=function(t){var e=this.getTooltipCfg().customItems;return(e||function(t){return t})(t)},e}(ml),bl=xl,wl={};function Sl(t){return wl[t.toLowerCase()]}function Cl(t,e){wl[t.toLowerCase()]=e}var Tl={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},El={interval:function(t){return{enter:{animation:t.isRect?t.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:t.isPolar&&t.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},kl={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(t){var e;return t.isRect?e=t.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",t.isPolar&&t.isTransposed&&(e="wave-in")),{animation:e}},schema:function(t){return{animation:t.isRect?t.isTransposed?"grow-in-x":"grow-in-y":"grow-in-xy"}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function Ml(t,e,n){var r=El[t];return r&&((0,O.mf)(r)&&(r=r(e)),r=(0,O.b$)({},Tl,r),n)?r[n]:r}function Al(t,e,n){var r=(0,O.U2)(t.get("origin"),"data",V),i=e.animation,a=function(t,e){return{delay:(0,O.mf)(t.delay)?t.delay(e):t.delay,easing:(0,O.mf)(t.easing)?t.easing(e):t.easing,duration:(0,O.mf)(t.duration)?t.duration(e):t.duration,callback:t.callback,repeat:t.repeat}}(e,r);if(i){var o=Sl(i);o&&o(t,a,n)}else t.animate(n.toAttrs,a)}var Ol="element-background",Fl=function(t){function e(e){var n=t.call(this,e)||this;n.labelShape=[],n.states=[];var r=e.shapeFactory,i=e.container,a=e.offscreenGroup,o=e.elementIndex,s=e.visible,l=void 0===s||s;return n.shapeFactory=r,n.container=i,n.offscreenGroup=a,n.visible=l,n.elementIndex=o,n}return m(e,t),e.prototype.draw=function(t,e){void 0===e&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),!1===this.visible&&this.changeVisible(!1)},e.prototype.update=function(t){var e=this.shapeFactory,n=this.shape;if(n){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(n,t);var r=this.getOffscreenGroup(),i=e.drawShape(this.shapeType,t,r);i.cfg.data=this.data,i.cfg.origin=t,i.cfg.element=this,this.syncShapeStyle(n,i,this.getStates(),this.getAnimateCfg("update"))}},e.prototype.destroy=function(){var e=this.shapeFactory,n=this.shape;if(n){var r=this.getAnimateCfg("leave");r?Al(n,r,{coordinate:e.coordinate,toAttrs:x({},n.attr())}):n.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=[],this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,t.prototype.destroy.call(this)},e.prototype.changeVisible=function(e){t.prototype.changeVisible.call(this,e),e?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach((function(t){t.show()}))):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach((function(t){t.hide()})))},e.prototype.setState=function(t,e){var n=this,r=n.states,i=n.shapeFactory,a=n.model,o=n.shape,s=n.shapeType,l=r.indexOf(t);if(e){if(l>-1)return;r.push(t),"active"!==t&&"selected"!==t||null===o||void 0===o||o.toFront()}else{if(-1===l)return;if(r.splice(l,1),"active"===t||"selected"===t){var c=this.geometry,u=c.sortZIndex,h=c.zIndexReversed?this.geometry.elements.length-this.elementIndex:this.elementIndex;u?o.setZIndex(h):o.set("zIndex",h)}}var f=i.drawShape(s,a,this.getOffscreenGroup());r.length?this.syncShapeStyle(o,f,r,null):this.syncShapeStyle(o,f,["reset"],null),f.remove(!0);var p={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",p),rr(this.shape,"statechange",p)},e.prototype.clearStates=function(){var t=this,e=this.states;(0,O.S6)(e,(function(e){t.setState(e,!1)})),this.states=[]},e.prototype.hasState=function(t){return this.states.includes(t)},e.prototype.getStates=function(){return this.states},e.prototype.getData=function(){return this.data},e.prototype.getModel=function(){return this.model},e.prototype.getBBox=function(){var t=this.shape,e=this.labelShape,n={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return t&&(n=t.getCanvasBBox()),e&&e.forEach((function(t){var e=t.getCanvasBBox();n.x=Math.min(e.x,n.x),n.y=Math.min(e.y,n.y),n.minX=Math.min(e.minX,n.minX),n.minY=Math.min(e.minY,n.minY),n.maxX=Math.max(e.maxX,n.maxX),n.maxY=Math.max(e.maxY,n.maxY)})),n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n},e.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,e=t.shapeType,n=t.geometry,r=t.shapeFactory,i=n.stateOption,a=r.defaultShapeType,o=r.theme[e]||r.theme[a];this.statesStyle=(0,O.b$)({},o,i)}return this.statesStyle},e.prototype.getStateStyle=function(t,e){var n=this.getStatesStyle(),r=(0,O.U2)(n,[t,"style"],{}),i=r[e]||r;return(0,O.mf)(i)?i(this):i},e.prototype.getAnimateCfg=function(t){var e=this,n=this.animate;if(n){var r=n[t];return r?x(x({},r),{callback:function(){var t;(0,O.mf)(r.callback)&&r.callback(),null===(t=e.geometry)||void 0===t||t.emit(I.AFTER_DRAW_ANIMATE)}}):r}return null},e.prototype.drawShape=function(t,e){var n;void 0===e&&(e=!1);var r=this,i=r.shapeFactory,a=r.container,o=r.shapeType;if(this.shape=i.drawShape(o,t,a),this.shape){this.setShapeInfo(this.shape,t);var s=this.shape.cfg.name;s?(0,O.HD)(s)&&(this.shape.cfg.name=["element",s]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var l=e?"enter":"appear",c=this.getAnimateCfg(l);c&&(null===(n=this.geometry)||void 0===n||n.emit(I.BEFORE_DRAW_ANIMATE),Al(this.shape,c,{coordinate:i.coordinate,toAttrs:x({},this.shape.attr())}))}},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.setShapeInfo=function(t,e){var n=this;(t.cfg.origin=e,t.cfg.element=this,t.isGroup())&&t.get("children").forEach((function(t){n.setShapeInfo(t,e)}))},e.prototype.syncShapeStyle=function(t,e,n,r,i){var a,o=this;if(void 0===n&&(n=[]),void 0===i&&(i=0),t&&e){var s=t.get("clipShape"),l=e.get("clipShape");if(this.syncShapeStyle(s,l,n,r),t.isGroup())for(var c=t.get("children"),u=e.get("children"),h=0;h<c.length;h++)this.syncShapeStyle(c[h],u[h],n,r,i+h);else{if(!(0,O.xb)(n)&&!(0,O.Xy)(n,["reset"])){var f=t.get("name");(0,O.kJ)(f)&&(f=f[1]),(0,O.S6)(n,(function(t){if(e.get("name")!==Ol){var n=o.getStateStyle(t,f||i);e.attr(n)}}))}var p=to(t,e);this.animate?r?(null===(a=this.geometry)||void 0===a||a.emit(I.BEFORE_DRAW_ANIMATE),Al(t,r,{coordinate:this.shapeFactory.coordinate,toAttrs:p,shapeModel:this.model})):(0,O.xb)(n)?t.attr(p):(t.stopAnimate(),t.animate(p,{duration:300})):t.attr(p)}}},e.prototype.getShapeType=function(t){var e=(0,O.U2)(t,"shape");return(0,O.kJ)(e)?e[0]:e},e}(K),Il=Fl,Pl={},Dl={};function Ll(t,e){Pl[t.toLowerCase()]=e}function Rl(t,e){Dl[t.toLowerCase()]=e}var Bl={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(t,e){var n=this.getShape(t);return n.getPoints?n.getPoints(e):this.getDefaultPoints(e)},getShape:function(t){var e=this[t]||this[this.defaultShapeType];return e.coordinate=this.coordinate,e},getDefaultPoints:function(){return[]},getDefaultStyle:function(t){return(0,O.U2)(t,[this.defaultShapeType,"default","style"],{})},getMarker:function(t,e){var n=this.getShape(t);if(!n.getMarker){var r=this.defaultShapeType;n=this.getShape(r)}var i=this.theme,a=(0,O.U2)(i,[t,"default"],{}),o=n.getMarker(e);return(0,O.b$)({},a,o)},drawShape:function(t,e,n){return this.getShape(t).draw(e,n)}},_l={coordinate:null,parsePath:function(t){var e=this.coordinate,n=(0,ka.tr)(t);return n=e.isPolar?Ho(e,n):function(t,e){var n=[];return(0,O.S6)(e,(function(e){switch(e[0].toLowerCase()){case"m":case"l":case"c":n.push(Ro(e,t));break;case"a":n.push(Bo(e,t));break;default:n.push(e)}})),n}(e,n),n},parsePoint:function(t){return this.coordinate.convert(t)},parsePoints:function(t){var e=this.coordinate;return t.map((function(t){return e.convert(t)}))},draw:function(t,e){}},Nl={};function Ul(t,e){var n=(0,O.jC)(t),r=x(x(x({},Bl),e),{geometryType:t});return Nl[n]=r,r}function zl(t,e,n){var r=(0,O.jC)(t),i=Nl[r],a=x(x({},_l),n);return i[e]=a,a}function Hl(t){var e=(0,O.jC)(t);return Nl[e]}function Vl(t,e){return(0,O.G)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],(function(n){return!(0,O.Xy)(t[n],e[n])}))}function Gl(t){return(0,O.kJ)(t)?t:t.split("*")}function Wl(t,e){for(var n=[],r=[],i=[],a=new Map,o=0;o<e.length;o++){var s=e[o];t[s]?r.push(s):n.push(s),a.set(s,!0)}return Object.keys(t).forEach((function(t){a.has(t)||i.push(t)})),{added:n,updated:r,removed:i}}var Yl=function(t){function e(e){var n=t.call(this,e)||this;n.type="base",n.attributes={},n.elements=[],n.elementsMap={},n.animateOption=!0,n.attributeOption={},n.lastElementsMap={},n.generatePoints=!1,n.beforeMappingData=null,n.adjusts={},n.idFields=[],n.hasSorted=!1,n.isCoordinateChanged=!1;var r=e.container,i=e.labelsContainer,a=e.coordinate,o=e.data,s=e.sortable,l=void 0!==s&&s,c=e.visible,u=void 0===c||c,h=e.theme,f=e.scales,p=void 0===f?{}:f,d=e.scaleDefs,g=void 0===d?{}:d,v=e.intervalPadding,y=e.dodgePadding,m=e.maxColumnWidth,x=e.minColumnWidth,b=e.columnWidthRatio,w=e.roseWidthRatio,S=e.multiplePieWidthRatio,C=e.zIndexReversed,T=e.sortZIndex,E=e.useDeferredLabel;return n.container=r,n.labelsContainer=i,n.coordinate=a,n.data=o,n.sortable=l,n.visible=u,n.userTheme=h,n.scales=p,n.scaleDefs=g,n.intervalPadding=v,n.dodgePadding=y,n.maxColumnWidth=m,n.minColumnWidth=x,n.columnWidthRatio=b,n.roseWidthRatio=w,n.multiplePieWidthRatio=S,n.zIndexReversed=C,n.sortZIndex=T,n.useDeferredLabel=E?"number"===typeof E?E:1/0:null,n}return m(e,t),e.prototype.position=function(t){var e=t;(0,O.PO)(t)||(e={fields:Gl(t)});var n=(0,O.U2)(e,"fields");return 1===n.length&&(n.unshift("1"),(0,O.t8)(e,"fields",n)),(0,O.t8)(this.attributeOption,"position",e),this},e.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},e.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},e.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},e.prototype.adjust=function(t){var e=t;return((0,O.HD)(t)||(0,O.PO)(t))&&(e=[t]),(0,O.S6)(e,(function(t,n){(0,O.Kn)(t)||(e[n]={type:t})})),this.adjustOption=e,this},e.prototype.style=function(t,e){if((0,O.HD)(t)){var n=Gl(t);this.styleOption={fields:n,callback:e}}else{var r=t,i=(n=r.fields,r.callback),a=r.cfg;this.styleOption=n||i||a?t:{cfg:t}}return this},e.prototype.tooltip=function(t,e){if((0,O.HD)(t)){var n=Gl(t);this.tooltipOption={fields:n,callback:e}}else this.tooltipOption=t;return this},e.prototype.animate=function(t){return this.animateOption=t,this},e.prototype.label=function(t,e,n){if((0,O.HD)(t)){var r={},i=Gl(t);r.fields=i,(0,O.mf)(e)?r.callback=e:(0,O.PO)(e)&&(r.cfg=e),n&&(r.cfg=n),this.labelOption=r}else this.labelOption=t;return this},e.prototype.state=function(t){return this.stateOption=t,this},e.prototype.customInfo=function(t){return this.customOption=t,this},e.prototype.init=function(t){void 0===t&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},e.prototype.update=function(t){void 0===t&&(t={});var e=t.data,n=t.isDataChanged,r=t.isCoordinateChanged,i=this.attributeOption,a=this.lastAttributeOption;(0,O.Xy)(i,a)?!e||!n&&(0,O.Xy)(e,this.data)?this.setCfg(t):(this.setCfg(t),this.initAttributes(),this.processData(e)):this.init(t),this.adjustScale(),this.isCoordinateChanged=r},e.prototype.paint=function(t){var e=this;void 0===t&&(t=!1),this.animateOption&&(this.animateOption=(0,O.b$)({},Ml(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elementsMap={},this.elements=[],this.getOffscreenGroup().clear();var n=this.beforeMappingData,r=this.beforeMapping(n);this.dataArray=new Array(r.length);for(var i=0;i<r.length;i++){var a=r[i];this.dataArray[i]=this.mapping(a)}if(this.updateElements(this.dataArray,t),this.lastElementsMap=this.elementsMap,this.canDoGroupAnimation(t)){var o=this.container,s=this.type,l=this.coordinate,c=(0,O.U2)(this.animateOption,"appear"),u=this.getYScale(),h=l.convert({x:0,y:u.scale(this.getYMinValue())});!function(t,e,n,r,i){if(kl[n]){var a=kl[n](r),o=Sl((0,O.U2)(a,"animation",""));if(o){var s=x(x(x({},Tl.appear),a),e);t.stopAnimate(),o(t,s,{coordinate:r,minYPoint:i,toAttrs:null})}}}(o,c,s,l,h)}if(this.labelOption){var f=this.useDeferredLabel,p=function(){return e.renderLabels((0,O.xH)(e.dataArray),t)}.bind(this);if("number"===typeof f){var d="number"===typeof f&&f!==1/0?f:0;if(window.requestIdleCallback){var g=d&&d!==1/0?{timeout:d}:void 0;window.requestIdleCallback(p,g)}else setTimeout(p,d)}else p()}this.lastAttributeOption=x({},this.attributeOption),!1===this.visible&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this,e=t.container,n=t.geometryLabel,r=t.offscreenGroup;e&&e.clear(),n&&n.clear(),r&&r.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},e.prototype.destroy=function(){this.clear(),this.container.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,t.prototype.destroy.call(this)},e.prototype.getGroupScales=function(){return this.groupScales},e.prototype.getAttribute=function(t){return this.attributes[t]},e.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},e.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},e.prototype.getGroupAttributes=function(){var t=[];return(0,O.S6)(this.attributes,(function(e){H.includes(e.type)&&t.push(e)})),t},e.prototype.getDefaultValue=function(t){var e,n=this.getAttribute(t);return n&&(0,O.xb)(n.scales)&&(e=n.values[0]),e},e.prototype.getAttributeValues=function(t,e){for(var n=[],r=t.scales,i=0,a=r.length;i<a;i++){var o=r[i],s=o.field;o.isIdentity?n.push(o.values):n.push(e[s])}return t.mapping.apply(t,E([],T(n),!1))},e.prototype.getAdjust=function(t){return this.adjusts[t]},e.prototype.getCoordinate=function(){return this.coordinate},e.prototype.getData=function(){return this.data},e.prototype.getShapeMarker=function(t,e){return this.getShapeFactory().getMarker(t,e)},e.prototype.getElementsBy=function(t){return this.elements.filter((function(e){return t(e)}))},e.prototype.getElements=function(){return this.elements},e.prototype.getElementId=function(t){var e=(t=(0,O.kJ)(t)?t[0]:t)[V];if(this.idFields.length){for(var n=e[this.idFields[0]],r=1;r<this.idFields.length;r++)n+="-"+e[this.idFields[r]];return n}var i,a,o=this.type,s=this.getXScale(),l=this.getYScale(),c=s.field||"x",u=e[l.field||"y"];i="identity"===s.type?s.values[0]:e[c],a="interval"===o||"schema"===o?"".concat(i):"line"===o||"area"===o||"path"===o?o:"".concat(i,"-").concat(u);for(var h=this.groupScales,f=(r=0,h.length);r<f;r++){var p=h[r].field;a="".concat(a,"-").concat(e[p])}var d=this.getAdjust("dodge");if(d){var g=d.dodgeBy;g&&(a="".concat(a,"-").concat(e[g]))}return this.getAdjust("jitter")&&(a="".concat(a,"-").concat(t.x,"-").concat(t.y)),a},e.prototype.getScaleFields=function(){var t=[],e=new Map,n=this,r=n.attributeOption,i=n.labelOption,a=n.tooltipOption;for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];s.fields?ro(s.fields,t,e):s.values&&ro(s.values,t,e)}return i&&i.fields&&ro(i.fields,t,e),(0,O.Kn)(a)&&a.fields&&ro(a.fields,t,e),t},e.prototype.changeVisible=function(e){t.prototype.changeVisible.call(this,e);for(var n=this.elements,r=0,i=n.length;r<i;r++){n[r].changeVisible(e)}e?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},e.prototype.getFields=function(){var t=new Map,e=[];return Object.values(this.attributeOption).forEach((function(n){((null===n||void 0===n?void 0:n.fields)||[]).forEach((function(n){t.has(n)||e.push(n),t.set(n,!0)}))}),[]),e},e.prototype.getGroupFields=function(){for(var t=[],e=new Map,n=0,r=H.length;n<r;n++){var i=H[n],a=this.attributeOption[i];a&&a.fields&&ro(a.fields,t,e)}return t},e.prototype.getXYFields=function(){var t=T(this.attributeOption.position.fields,2);return[t[0],t[1]]},e.prototype.getXField=function(){return(0,O.U2)(this.getXYFields(),[0])},e.prototype.getYField=function(){return(0,O.U2)(this.getXYFields(),[1])},e.prototype.getShapes=function(){return this.elements.map((function(t){return t.shape}))},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.sort=function(t){if(!this.hasSorted)for(var e=this.getXScale(),n=e.field,r=0;r<t.length;r++){t[r].sort((function(t,r){return e.translate(t[V][n])-e.translate(r[V][n])}))}this.hasSorted=!0},e.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},e.prototype.getShapeFactory=function(){var t=this.shapeType;if(Hl(t))return this.shapeFactory||(this.shapeFactory=(0,O.d9)(Hl(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},e.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),n=this.getYScale();return{x:this.normalizeValues(t[e.field],e),y:n?this.normalizeValues(t[n.field],n):t.y?t.y:.1,y0:n?n.scale(this.getYMinValue()):void 0}},e.prototype.createElement=function(t,e,n){void 0===n&&(n=!1);var r=this.container,i=this.getDrawCfg(t),a=this.getShapeFactory(),o=new Il({shapeFactory:a,container:r,offscreenGroup:this.getOffscreenGroup(),elementIndex:e});return o.animate=this.animateOption,o.geometry=this,o.draw(i,n),o},e.prototype.getDrawCfg=function(t){var e=t[V],n={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},r=t.shape;!r&&this.getShapeFactory()&&(r=this.getShapeFactory().defaultShapeType),n.shape=r;var i=this.theme.geometries[this.shapeType];n.defaultStyle=(0,O.U2)(i,[r,"default"],{}).style,!n.defaultStyle&&this.getShapeFactory()&&(n.defaultStyle=this.getShapeFactory().getDefaultStyle(i));var a=this.styleOption;return a&&(n.style=this.getStyleCfg(a,e)),this.generatePoints&&(n.points=t.points,n.nextPoints=t.nextPoints),n},e.prototype.updateElements=function(t,e){var n,r,i,a,o,s;void 0===e&&(e=!1);for(var l=new Map,c=[],u=new Map,h=0,f=0;f<t.length;f++)for(var p=t[f],d=0;d<p.length;d++){var g=p[d],v=this.getElementId(g),y=l.has(v)?"".concat(v,"-").concat(f,"-").concat(d):v;c.push(y),l.set(y,g),u.set(y,h),h++}this.elements=new Array(h);var m=Wl(this.lastElementsMap,c),x=m.added,b=m.updated,w=m.removed;try{for(var S=C(x),T=S.next();!T.done;T=S.next()){v=T.value,g=l.get(v),f=u.get(v);var E=this.createElement(g,f,e);this.elements[f]=E,this.elementsMap[v]=E,E.shape&&E.shape.set("zIndex",this.zIndexReversed?this.elements.length-f:f)}}catch(P){n={error:P}}finally{try{T&&!T.done&&(r=S.return)&&r.call(S)}finally{if(n)throw n.error}}try{for(var k=C(b),M=k.next();!M.done;M=k.next()){v=M.value,E=this.lastElementsMap[v],g=l.get(v);var A=this.getDrawCfg(g),O=E.getModel();f=u.get(v);(this.isCoordinateChanged||Vl(A,O))&&(E.animate=this.animateOption,E.update(A)),this.elements[f]=E,this.elementsMap[v]=E,E.shape&&E.shape.set("zIndex",this.zIndexReversed?this.elements.length-f:f)}}catch(D){i={error:D}}finally{try{M&&!M.done&&(a=k.return)&&a.call(k)}finally{if(i)throw i.error}}this.container&&this.container.sort();try{for(var F=C(w),I=F.next();!I.done;I=F.next()){v=I.value;(E=this.lastElementsMap[v]).animate=this.animateOption,E.destroy()}}catch(L){o={error:L}}finally{try{I&&!I.done&&(s=F.return)&&s.call(F)}finally{if(o)throw o.error}}},e.prototype.getLabelType=function(){var t=this,e=t.labelOption,n=t.coordinate,r=t.type,i=n.type,a=n.isTransposed,o=(0,O.U2)(e,["cfg","type"]);return o||(o="polar"===i?a?"pie":"polar":"theta"===i?"pie":"interval"===r||"polygon"===r?"interval":"base"),o},e.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,n=t.max;return e>=0?e:n<=0?n:0},e.prototype.createAttrOption=function(t,e,n){if((0,O.UM)(e)||(0,O.Kn)(e))(0,O.Kn)(e)&&(0,O.Xy)(Object.keys(e),["values"])?(0,O.t8)(this.attributeOption,t,{fields:e.values}):(0,O.t8)(this.attributeOption,t,e);else{var r={};(0,O.hj)(e)?r.values=[e]:r.fields=Gl(e),n&&((0,O.mf)(n)?r.callback=n:r.values=n),(0,O.t8)(this.attributeOption,t,r)}},e.prototype.initAttributes=function(){var t=this,e=this,n=e.attributes,r=e.attributeOption,i=e.theme,a=e.shapeType;this.groupScales=[];var o={},s=function(e){if(r.hasOwnProperty(e)){var s=r[e];if(!s)return{value:void 0};var l=x({},s),c=l.callback,u=l.values,h=l.fields,f=(void 0===h?[]:h).map((function(n){var r=t.scales[n];!o[n]&&H.includes(e)&&("cat"===uo(r,(0,O.U2)(t.scaleDefs,n),e,t.type)&&(t.groupScales.push(r),o[n]=!0));return r}));l.scales=f,"position"!==e&&1===f.length&&"identity"===f[0].type?l.values=f[0].values:c||u||("size"===e?l.values=i.sizes:"shape"===e?l.values=i.shapes[a]||[]:"color"===e&&(f.length?l.values=f[0].values.length<=10?i.colors10:i.colors20:l.values=i.colors10));var p=Pn(e);n[e]=new p(l)}};for(var l in r){var c=s(l);if("object"===typeof c)return c.value}},e.prototype.processData=function(t){var e,n;this.hasSorted=!1;for(var r=this.getAttribute("position").scales.filter((function(t){return t.isCategory})),i=this.groupData(t),a=[],o=0,s=i.length;o<s;o++){for(var l=i[o],c=[],u=0,h=l.length;u<h;u++){var f=l[u],p={};for(var d in f)p[d]=f[d];p[V]=f;try{for(var g=(e=void 0,C(r)),v=g.next();!v.done;v=g.next()){var y=v.value,m=y.field;p[m]=y.translate(p[m])}}catch(b){e={error:b}}finally{try{v&&!v.done&&(n=g.return)&&n.call(g)}finally{if(e)throw e.error}}c.push(p)}a.push(c)}var x=this.adjustData(a);return this.beforeMappingData=x,x},e.prototype.adjustData=function(t){var e=this.adjustOption,n=this,r=n.intervalPadding,i=n.dodgePadding,a=n.theme,o=this.maxColumnWidth||a.maxColumnWidth,s=this.minColumnWidth||a.minColumnWidth,l=this.columnWidthRatio||a.columnWidthRatio,c=t;if(e){var u=this.getXScale(),h=this.getYScale(),f=u.field,p=h?h.field:null,d=ao(this.coordinate),g=u.values.length,v=this.getAttribute("size"),y=void 0;v&&(y=v.values[0]);for(var m=0,b=e.length;m<b;m++){var w=e[m],S=x({xField:f,yField:p,intervalPadding:r,dodgePadding:i,xDimensionLength:d,groupNum:g,defaultSize:y,maxColumnWidth:o,minColumnWidth:s,columnWidthRatio:l},w),C=w.type;if("dodge"===C){var T=[];if(u.isCategory||"identity"===u.type)T.push("x");else{if(h)throw new Error("dodge is not support linear attribute, please use category attribute!");T.push("y")}S.adjustNames=T,S.dodgeRatio=l}else if("stack"===C){var E=this.coordinate;if(!h){S.height=E.getHeight();var k=this.getDefaultValue("size")||3;S.size=k}!E.isTransposed&&(0,O.UM)(S.reverseOrder)&&(S.reverseOrder=!0)}var M=nt(C);S.dimValuesMap={},u&&u.values&&(S.dimValuesMap[u.field]=u.values.map((function(t){return u.translate(t)})));var A=new M(S);c=A.process(c),this.adjusts[C]=A}}return c},e.prototype.groupData=function(t){for(var e=this.getGroupScales(),n=this.scaleDefs,r={},i=[],a=0;a<e.length;a++){var o=e[a].field;i.push(o),(0,O.U2)(n,[o,"values"])&&(r[o]=n[o].values)}return function(t,e,n){var r,i;if(void 0===n&&(n={}),!e)return[t];var a=(0,O.Ms)(t,e),o=[];if(1===e.length&&n[e[0]]){var s=n[e[0]];try{for(var l=C(s),c=l.next();!c.done;c=l.next()){var u=c.value,h=a["_".concat(u)];h&&o.push(h)}}catch(d){r={error:d}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}else for(var f in a)if(a.hasOwnProperty(f)){var p=a[f];o.push(p)}return o}(t,i,r)},e.prototype.updateStackRange=function(t,e){for(var n=(0,O.xH)(e),r=t.field,i=t.min,a=t.max,o=0;o<n.length;o++){var s=n[o],l=Math.min.apply(null,s[r]),c=Math.max.apply(null,s[r]);l<i&&(i=l),c>a&&(a=c)}var u=this.scaleDefs,h={};i<t.min&&!(0,O.U2)(u,[r,"min"])&&(h.min=i),a>t.max&&!(0,O.U2)(u,[r,"max"])&&(h.max=a),t.change(h)},e.prototype.beforeMapping=function(t){var e=t;if(this.sortable&&this.sort(e),this.generatePoints)for(var n=0,r=e.length;n<r;n++){var i=e[n];this.generateShapePoints(i);var a=e[n+1];a&&(this.generateShapePoints(a),i[0].nextPoints=a[0].points)}return e},e.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),n=this.getAttribute("shape"),r=0;r<t.length;r++){var i=t[r],a=this.createShapePointsCfg(i),o=n?this.getAttributeValues(n,i):null,s=e.getShapePoints(o,a);i.points=s}},e.prototype.normalizeValues=function(t,e){var n=[];if((0,O.kJ)(t))for(var r=0;r<t.length;r++){var i=t[r];n.push(e.scale(i))}else n=e.scale(t);return n},e.prototype.mapping=function(t){for(var e=this.attributes,n=[],r=0;r<t.length;r++){var i=t[r],a={_origin:i[V],points:i.points,nextPoints:i.nextPoints};for(var o in e)if(e.hasOwnProperty(o)){var s=e[o],l=s.names,c=this.getAttributeValues(s,i);if(l.length>1)for(var u=0;u<c.length;u+=1){var h=c[u];a[l[u]]=(0,O.kJ)(h)&&1===h.length?h[0]:h}else a[l[0]]=1===c.length?c[0]:c}this.convertPoint(a),n.push(a)}return n},e.prototype.convertPoint=function(t){var e,n,r,i=t.x,a=t.y,o=this.coordinate;if((0,O.kJ)(i)&&(0,O.kJ)(a)){e=[],n=[];for(var s=0,l=0,c=i.length,u=a.length;s<c&&l<u;s+=1,l+=1)r=o.convert({x:i[s],y:a[l]}),e.push(r.x),n.push(r.y)}else if((0,O.kJ)(a)){n=[];for(var h=0;h<a.length;h++){var f=a[h];r=o.convert({x:i,y:f}),e&&e!==r.x?((0,O.kJ)(e)||(e=[e]),e.push(r.x)):e=r.x,n.push(r.y)}}else if((0,O.kJ)(i)){e=[];for(h=0;h<i.length;h++){var p=i[h];r=o.convert({x:p,y:a}),n&&n!==r.y?((0,O.kJ)(n)||(n=[n]),n.push(r.y)):n=r.y,e.push(r.x)}}else{var d=o.convert({x:i,y:a});e=d.x,n=d.y}t.x=e,t.y=n},e.prototype.getStyleCfg=function(t,e){var n=t.fields,r=void 0===n?[]:n,i=t.callback,a=t.cfg;if(a)return a;var o=r.map((function(t){return e[t]}));return i.apply(void 0,E([],T(o),!1))},e.prototype.setCfg=function(t){var e=this,n=t.coordinate,r=t.data,i=t.theme,a=t.scaleDefs;n&&(this.coordinate=n),r&&(this.data=r),a&&(this.scaleDefs=a,this.idFields=[],(0,O.S6)(a,(function(t,n){t&&t.key&&e.idFields.push(n)}))),i&&(this.theme=this.userTheme?(0,O.b$)({},i,this.userTheme):i)},e.prototype.renderLabels=function(t,e){return void 0===e&&(e=!1),w(this,void 0,void 0,(function(){var n,r,i,a,o,s,l,c,u,h,f,p,d=this;return S(this,(function(g){switch(g.label){case 0:return n=this.geometryLabel,this.emit(I.BEFORE_RENDER_LABEL),n||(r=this.getLabelType(),i=Pl[r.toLowerCase()],n=new i(this),this.geometryLabel=n),[4,n.render(t,e)];case 1:g.sent(),a=n.labelsRenderer.shapesMap,o=new Map,(0,O.S6)(a,(function(t,e){for(var n=t.getChildren()||[],r=0;r<n.length;r++){var i=n[r],a=d.elementsMap[i.get("elementId")||e.split(" ")[0]];if(a){i.cfg.name=["element","label"],i.cfg.element=a;var s=o.get(a)||new Set;s.add(t),o.set(a,s)}}}));try{for(s=C(o.entries()),l=s.next();!l.done;l=s.next())c=T(l.value,2),u=c[0],h=c[1],u.labelShape=E([],T(h),!1)}catch(v){f={error:v}}finally{try{l&&!l.done&&(p=s.return)&&p.call(s)}finally{if(f)throw f.error}}return this.emit(I.AFTER_RENDER_LABEL),[2]}}))}))},e.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&(void 0===(0,O.U2)(this.animateOption,"appear")||(0,O.U2)(this.animateOption,"appear")&&void 0===(0,O.U2)(this.animateOption,["appear","animation"]))},e}(K),jl=Yl,Xl=zn.vs;function $l(t,e,n){var r=Xl(t.getMatrix(),[["t",e,n]]);t.setMatrix(r)}function ql(t,e){var n=function(t,e){var n=t.attr(),r=n.x,i=n.y;return Xl(t.getMatrix(),[["t",-r,-i],["r",e],["t",r,i]])}(t,e);t.setMatrix(n)}function Zl(t){return t.find((function(t){return"text"===t.get("type")}))}function Kl(t,e,n){void 0===n&&(n=[0,0,0,0]);var r=t&&t.getChildren()[0];if(r){var i=r.clone();(null===e||void 0===e?void 0:e.rotate)&&ql(i,-e.rotate);var a=i.getCanvasBBox(),o=a.x,s=a.y,l=a.width,c=a.height;i.destroy();var u=n;return(0,O.UM)(u)?u=[2,2,2,2]:(0,O.hj)(u)&&(u=new Array(4).fill(u)),{x:o-u[3],y:s-u[0],width:l+u[1]+u[3],height:c+u[0]+u[2],rotation:(null===e||void 0===e?void 0:e.rotate)||0}}return{x:0,y:0,width:0,height:0,rotation:0}}function Jl(t,e){var n=t.getBBox();return(0,O.G)(e,(function(t){var e,r,i,a=t.getBBox();return e=n,r=a,void 0===(i=2)&&(i=0),Math.max(0,Math.min(e.x+e.width+i,r.x+r.width+i)-Math.max(e.x-i,r.x-i))*Math.max(0,Math.min(e.y+e.height+i,r.y+r.height+i)-Math.max(e.y-i,r.y-i))>0}))}function Ql(t,e,n){var r=n.data,i=n.origin,a=n.animateCfg,o=n.coordinate,s=(0,O.U2)(a,"update");t.set("data",r),t.set("origin",i),t.set("animateCfg",a),t.set("coordinate",o),t.set("visible",e.get("visible")),(t.getChildren()||[]).forEach((function(l,c){var u=e.getChildByIndex(c);if(u){l.set("data",r),l.set("origin",i),l.set("animateCfg",a),l.set("coordinate",o);var h=to(l,u);s?Al(l,s,{toAttrs:h,coordinate:o}):l.attr(h),u.isGroup()&&Ql(l,u,n)}else t.removeChild(l),l.remove(!0)})),(0,O.S6)(e.getChildren(),(function(e,n){n>=t.getCount()&&(e.destroyed||t.add(e))}))}var tc=function(){function t(t){this.shapesMap={};var e=t.layout,n=t.container;this.layout=e,this.container=n}return t.prototype.render=function(t,e,n){return void 0===n&&(n=!1),w(this,void 0,void 0,(function(){var r,i,a,o,s,l,c,u,h=this;return S(this,(function(f){switch(f.label){case 0:if(r={},i=this.createOffscreenGroup(),!t.length)return[3,2];try{for(a=C(t),o=a.next();!o.done;o=a.next())(s=o.value)&&(r[s.id]=this.renderLabel(s,i))}catch(p){c={error:p}}finally{try{o&&!o.done&&(u=a.return)&&u.call(a)}finally{if(c)throw c.error}}return[4,this.doLayout(t,e,r)];case 1:f.sent(),this.renderLabelLine(t,r),this.renderLabelBackground(t,r),this.adjustLabel(t,r),f.label=2;case 2:return l=this.shapesMap,(0,O.S6)(r,(function(t,e){if(t.destroyed)delete r[e];else{if(l[e]){var i=t.get("data"),a=t.get("origin"),o=t.get("coordinate"),s=t.get("animateCfg"),c=l[e];Ql(c,r[e],{data:i,origin:a,animateCfg:s,coordinate:o}),r[e]=c}else{if(h.container.destroyed)return;h.container.add(t);var u=(0,O.U2)(t.get("animateCfg"),n?"enter":"appear");u&&Al(t,u,{toAttrs:x({},t.attr()),coordinate:t.get("coordinate")})}delete l[e]}})),(0,O.S6)(l,(function(t){var e=(0,O.U2)(t.get("animateCfg"),"leave");e?Al(t,e,{toAttrs:null,coordinate:t.get("coordinate")}):t.remove(!0)})),this.shapesMap=r,i.destroy(),[2]}}))}))},t.prototype.clear=function(){this.container.clear(),this.shapesMap={}},t.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null},t.prototype.renderLabel=function(t,e){var n,r=t.id,i=t.elementId,a=t.data,o=t.mappingData,s=t.coordinate,l=t.animate,c=t.content,u={id:r,elementId:i,capture:t.capture,data:a,origin:x(x({},o),{data:o[V]}),coordinate:s},h=e.addGroup(x({name:"label",animateCfg:!1!==this.animate&&null!==l&&!1!==l&&(0,O.b$)({},this.animate,l)},u));if(c.isGroup&&c.isGroup()||c.isShape&&c.isShape()){var f=c.getCanvasBBox(),p=f.width,d=f.height,g=(0,O.U2)(t,"textAlign","left"),v=t.x;"center"===g?v-=p/2:"right"!==g&&"end"!==g||(v-=p),$l(c,v,t.y-d/2),n=c,h.add(c)}else{var y=(0,O.U2)(t,["style","fill"]);n=h.addShape("text",x({attrs:x(x({x:t.x,y:t.y,textAlign:t.textAlign,textBaseline:(0,O.U2)(t,"textBaseline","middle"),text:t.content},t.style),{fill:(0,O.Ft)(y)?t.color:y})},u))}return t.rotate&&ql(n,t.rotate),h},t.prototype.doLayout=function(t,e,n){return w(this,void 0,void 0,(function(){var r,i=this;return S(this,(function(a){switch(a.label){case 0:return this.layout?(r=(0,O.kJ)(this.layout)?this.layout:[this.layout],[4,Promise.all(r.map((function(r){var a,o=(a=(0,O.U2)(r,"type",""),Dl[a.toLowerCase()]);if(o){var s=[],l=[];return(0,O.S6)(n,(function(t,n){s.push(t),l.push(e[t.get("elementId")])})),o(t,s,l,i.region,r.cfg)}})))]):[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}}))}))},t.prototype.renderLabelLine=function(t,e){(0,O.S6)(t,(function(t){var n=(0,O.U2)(t,"coordinate");if(t&&n){var r=n.getCenter(),i=n.getRadius();if(t.labelLine){var a=(0,O.U2)(t,"labelLine",{}),o=t.id,s=a.path;if(!s){var l=Za(r.x,r.y,i,t.angle);s=[["M",l.x,l.y],["L",t.x,t.y]]}var c=e[o];c.destroyed||c.addShape("path",{capture:!1,attrs:x({path:s,stroke:t.color?t.color:(0,O.U2)(t,["style","fill"],"#000"),fill:null},a.style),id:o,origin:t.mappingData,data:t.data,coordinate:t.coordinate})}}}))},t.prototype.renderLabelBackground=function(t,e){(0,O.S6)(t,(function(t){var n=(0,O.U2)(t,"coordinate"),r=(0,O.U2)(t,"background");if(r&&n){var i=t.id,a=e[i];if(!a.destroyed){var o=a.getChildren()[0];if(o){var s=Kl(a,t,r.padding),l=s.rotation,c=b(s,["rotation"]),u=a.addShape("rect",{attrs:x(x({},c),r.style||{}),id:i,origin:t.mappingData,data:t.data,coordinate:t.coordinate});if(u.setZIndex(-1),l){var h=o.getMatrix();u.setMatrix(h)}}}}}))},t.prototype.createOffscreenGroup=function(){return new(this.container.getGroupBase())({})},t.prototype.adjustLabel=function(t,e){(0,O.S6)(t,(function(t){if(t){var n=t.id,r=e[n];if(!r.destroyed){var i=r.findAll((function(t){return"path"!==t.get("type")}));(0,O.S6)(i,(function(e){e&&(t.offsetX&&e.attr("x",e.attr("x")+t.offsetX),t.offsetY&&e.attr("y",e.attr("y")+t.offsetY))}))}}}))},t}(),ec=tc;function nc(t){var e=0;return(0,O.S6)(t,(function(t){e+=t})),e/t.length}var rc=function(){function t(t){this.geometry=t}return t.prototype.getLabelItems=function(t){var e=this,n=[],r=this.getLabelCfgs(t);return(0,O.S6)(t,(function(t,i){var a=r[i];if(!a||(0,O.UM)(t.x)||(0,O.UM)(t.y))n.push(null);else{var o=(0,O.kJ)(a.content)?a.content:[a.content];a.content=o;var s=o.length;(0,O.S6)(o,(function(r,i){if((0,O.UM)(r)||""===r)n.push(null);else{var o=x(x({},a),e.getLabelPoint(a,t,i));o.textAlign||(o.textAlign=e.getLabelAlign(o,i,s)),o.offset<=0&&(o.labelLine=null),n.push(o)}}))}})),n},t.prototype.render=function(t,e){return void 0===e&&(e=!1),w(this,void 0,void 0,(function(){var n,r,i;return S(this,(function(a){switch(a.label){case 0:return n=this.getLabelItems(t),r=this.getLabelsRenderer(),i=this.getGeometryShapes(),[4,r.render(n,i,e)];case 1:return a.sent(),[2]}}))}))},t.prototype.clear=function(){var t=this.labelsRenderer;t&&t.clear()},t.prototype.destroy=function(){var t=this.labelsRenderer;t&&t.destroy(),this.labelsRenderer=null},t.prototype.getCoordinate=function(){return this.geometry.coordinate},t.prototype.getDefaultLabelCfg=function(t,e){var n=this.geometry,r=n.type,i=n.theme;return"polygon"===r||"interval"===r&&"middle"===e||t<0&&!["line","point","path"].includes(r)?(0,O.U2)(i,"innerLabels",{}):(0,O.U2)(i,"labels",{})},t.prototype.getThemedLabelCfg=function(t){var e=this.geometry,n=this.getDefaultLabelCfg(),r=e.type,i=e.theme;return"polygon"===r||t.offset<0&&!["line","point","path"].includes(r)?(0,O.b$)({},n,i.innerLabels,t):(0,O.b$)({},n,i.labels,t)},t.prototype.setLabelPosition=function(t,e,n,r){},t.prototype.getLabelOffset=function(t){var e=this.getCoordinate(),n=this.getOffsetVector(t);return e.isTransposed?n[0]:n[1]},t.prototype.getLabelOffsetPoint=function(t,e,n){var r=t.offset,i=this.getCoordinate().isTransposed,a=i?"x":"y",o=i?1:-1,s={x:0,y:0};return s[a]=e>0||1===n?r*o:r*o*-1,s},t.prototype.getLabelPoint=function(t,e,n){var r=this.getCoordinate(),i=t.content.length;function a(e,n,r){void 0===r&&(r=!1);var i=e;return(0,O.kJ)(i)&&(i=1===t.content.length?r?nc(i):i.length<=2?i[e.length-1]:nc(i):i[n]),i}var o={content:t.content[n],x:0,y:0,start:{x:0,y:0},color:"#fff"},s=(0,O.kJ)(e.shape)?e.shape[0]:e.shape,l="funnel"===s||"pyramid"===s;if("polygon"===this.geometry.type){var c=function(t,e){if((0,O.hj)(t)&&(0,O.hj)(e))return[t,e];if($a(t)||$a(e))return[qa(t),qa(e)];for(var n,r,i=-1,a=0,o=0,s=t.length-1,l=0;++i<t.length;)n=s,s=i,l+=r=t[n]*e[s]-t[s]*e[n],a+=(t[n]+t[s])*r,o+=(e[n]+e[s])*r;return[a/(l*=3),o/l]}(e.x,e.y);o.x=c[0],o.y=c[1]}else"interval"!==this.geometry.type||l?(o.x=a(e.x,n),o.y=a(e.y,n)):(o.x=a(e.x,n,!0),o.y=a(e.y,n));if(l){var u=(0,O.U2)(e,"nextPoints"),h=(0,O.U2)(e,"points");if(u){var f=r.convert(h[1]),p=r.convert(u[1]);o.x=(f.x+p.x)/2,o.y=(f.y+p.y)/2}else if("pyramid"===s){f=r.convert(h[1]),p=r.convert(h[2]);o.x=(f.x+p.x)/2,o.y=(f.y+p.y)/2}}t.position&&this.setLabelPosition(o,e,n,t.position);var d=this.getLabelOffsetPoint(t,n,i);return o.start={x:o.x,y:o.y},o.x+=d.x,o.y+=d.y,o.color=e.color,o},t.prototype.getLabelAlign=function(t,e,n){var r="center";if(this.getCoordinate().isTransposed){var i=t.offset;r=i<0?"right":0===i?"center":"left",n>1&&0===e&&("right"===r?r="left":"left"===r&&(r="right"))}return r},t.prototype.getLabelId=function(t){var e=this.geometry,n=e.type,r=e.getXScale(),i=e.getYScale(),a=t[V],o=e.getElementId(t);return"line"===n||"area"===n?o+=" ".concat(a[r.field]):"path"===n&&(o+=" ".concat(a[r.field],"-").concat(a[i.field])),o},t.prototype.getLabelsRenderer=function(){var t=this.geometry,e=t.labelsContainer,n=t.labelOption,r=t.canvasRegion,i=t.animateOption,a=this.geometry.coordinate,o=this.labelsRenderer;return o||(o=new ec({container:e,layout:(0,O.U2)(n,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=o),o.region=r,o.animate=!!i&&Ml("label",a),o},t.prototype.getLabelCfgs=function(t){var e=this,n=this.geometry,r=n.labelOption,i=n.scales,a=n.coordinate,o=r,s=o.fields,l=o.callback,c=o.cfg,u=s.map((function(t){return i[t]})),h=[];return(0,O.S6)(t,(function(t,n){var r,i=t[V],o=e.getLabelText(i,u);if(l){var f=s.map((function(t){return i[t]}));if(r=l.apply(void 0,E([],T(f),!1)),(0,O.UM)(r))return void h.push(null)}var p=x(x({id:e.getLabelId(t),elementId:e.geometry.getElementId(t),data:i,mappingData:t,coordinate:a},c),r);(0,O.mf)(p.position)&&(p.position=p.position(i,t,n));var d=e.getLabelOffset(p.offset||0),g=e.getDefaultLabelCfg(d,p.position);(p=(0,O.b$)({},g,p)).offset=e.getLabelOffset(p.offset||0);var v=p.content;(0,O.mf)(v)?p.content=v(i,t,n):(0,O.o8)(v)&&(p.content=o[0]),h.push(p)})),h},t.prototype.getLabelText=function(t,e){var n=[];return(0,O.S6)(e,(function(e){var r=t[e.field];r=(0,O.kJ)(r)?r.map((function(t){return e.getText(t)})):e.getText(r),(0,O.UM)(r)||""===r?n.push(null):n.push(r)})),n},t.prototype.getOffsetVector=function(t){void 0===t&&(t=0);var e=this.getCoordinate(),n=0;return(0,O.hj)(t)&&(n=t),e.isTransposed?e.applyMatrix(n,0):e.applyMatrix(0,n)},t.prototype.getGeometryShapes=function(){var t=this.geometry,e={};return(0,O.S6)(t.elementsMap,(function(t,n){e[n]=t.shape})),(0,O.S6)(t.getOffscreenGroup().getChildren(),(function(n){var r=t.getElementId(n.get("origin").mappingData);e[r]=n})),e},t}(),ic=rc;function ac(t,e,n){if(!t)return n;var r;if(t.callback&&t.callback.length>1){var i=Array(t.callback.length-1).fill("");r=t.mapping.apply(t,E([e],T(i),!1)).join("")}else r=t.mapping(e).join("");return r||n}var oc={hexagon:function(t,e,n){var r=n/2*Math.sqrt(3);return[["M",t,e-n],["L",t+r,e-n/2],["L",t+r,e+n/2],["L",t,e+n],["L",t-r,e+n/2],["L",t-r,e-n/2],["Z"]]},bowtie:function(t,e,n){var r=n-1.5;return[["M",t-n,e-r],["L",t+n,e+r],["L",t+n,e-r],["L",t-n,e+r],["Z"]]},cross:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]]},tick:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},plus:function(t,e,n){return[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]]},hyphen:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},line:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]}},sc=["line","cross","tick","plus","hyphen"];function lc(t){var e=t.symbol;(0,O.HD)(e)&&oc[e]&&(t.symbol=oc[e])}function cc(t){return t.startsWith(M.LEFT)||t.startsWith(M.RIGHT)?"vertical":"horizontal"}function uc(t,e,n,r,i){var a=n.getScale(n.type);if(a.isCategory){var o=a.field,s=e.getAttribute("color"),l=e.getAttribute("shape"),c=t.getTheme().defaultColor,u=e.coordinate.isPolar;return a.getTicks().map((function(n,h){var f,p=n.text,d=n.value,g=p,v=a.invert(d),y=0===t.filterFieldData(o,[(f={},f[o]=v,f)]).length;(0,O.S6)(t.views,(function(t){var e;t.filterFieldData(o,[(e={},e[o]=v,e)]).length||(y=!0)}));var m,b,w=ac(s,v,c),S=ac(l,v,"point"),C=e.getShapeMarker(S,{color:w,isInPolar:u}),T=i;return(0,O.mf)(T)&&(T=T(g,h,x({name:g,value:v},(0,O.b$)({},r,C)))),function(t,e){var n=t.symbol;if((0,O.HD)(n)&&-1!==sc.indexOf(n)){var r=(0,O.U2)(t,"style",{}),i=(0,O.U2)(r,"lineWidth",1),a=r.stroke||r.fill||e;t.style=(0,O.b$)({},t.style,{lineWidth:i,stroke:a,fill:null})}}(C=(0,O.b$)({},r,C,no(x({},T),["style"])),w),T&&T.style&&(C.style=(m=C.style,b=T.style,(0,O.mf)(b)?b(m):(0,O.b$)({},m,b))),lc(C),{id:v,name:g,value:v,marker:C,unchecked:y}}))}return[]}function hc(t,e){var n=(0,O.U2)(t,["components","legend"],{});return(0,O.b$)({},(0,O.U2)(n,["common"],{}),(0,O.b$)({},(0,O.U2)(n,[e],{})))}function fc(t){return!t&&(null===t||void 0===t||isNaN(t))}function pc(t){if((0,O.kJ)(t))return fc(t[1].y);var e=t.y;return(0,O.kJ)(e)?fc(e[0]):fc(e)}function dc(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!0),!t.length||1===t.length&&!n)return[];if(e){for(var r=[],i=0,a=t.length;i<a;i++){pc(l=t[i])||r.push(l)}return[r]}var o=[],s=[];for(i=0,a=t.length;i<a;i++){var l;pc(l=t[i])?s.length&&((1!==s.length||n)&&o.push(s),s=[]):s.push(l)}return s.length&&o.push(s),o}function gc(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(r){var i=0===n?"M":"L";e.push([i,r.x,r.y])}}var a=t[0];return a&&(e.push(["L",a.x,a.y]),e.push(["z"])),e}function vc(t){for(var e=t.length/2,n=[],r=[],i=0;i<t.length;i++)i<e?n.push(t[i]):r.push(t[i]);var a=zo(n,!1),o=zo(r,!1);r.length&&a.push(["L",r[0].x,r[0].y]),o.shift();var s=a.concat(o);return n.length&&s.push(["L",n[0].x,n[0].y]),s.push(["z"]),s}function yc(t,e,n,r){void 0===r&&(r="");var i=t.style,a=void 0===i?{}:i,o=t.defaultStyle,s=t.color,l=t.size,c=x(x({},o),a);return s&&(e&&(a.stroke||(c.stroke=s)),n&&(a.fill||(c.fill=s))),r&&(0,O.UM)(a[r])&&!(0,O.UM)(l)&&(c[r]=l),c}function mc(t){return(0,O.b$)({},{fill:"#CCD6EC",fillOpacity:.3},(0,O.U2)(t,["background","style"]))}function xc(t){var e=t.x;return((0,O.kJ)(t.y)?t.y:[t.y]).map((function(t,n){return{x:(0,O.kJ)(e)?e[n]:e,y:t}}))}var bc={line:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},dot:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},dash:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},smooth:function(t,e,n){return[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]]},hv:function(t,e,n){return[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]]},vh:function(t,e,n){return[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]]},hvh:function(t,e,n){return[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]]},vhv:function(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}};function wc(t,e){var n=t.color;return{symbol:bc[e],style:{lineWidth:2,r:6,stroke:n}}}function Sc(t,e,n,r,i){return 1===t.length?[["M",t[0].x,t[0].y-i.lineWidth/2],["L",t[0].x,t[0].y],["L",t[0].x,t[0].y+i.lineWidth/2]]:(n?(e&&t.length&&t.push({x:t[0].x,y:t[0].y}),a=zo(t,!1,r)):(a=Uo(t,!1),e&&a.push(["Z"])),a);var a}function Cc(t,e,n,r,i,a){if(t.length){var o=t[0];return(0,O.kJ)(o.y)?function(t,e,n,r,i,a){var o=[],s=[];(0,O.S6)(t,(function(t){var e=xc(t);o.push(e[1]),s.push(e[0])}));var l=Sc(o,e,r,i,a),c=Sc(s,e,r,i,a);return n?l:l.concat(c)}(t,e,n,r,i,a):Sc(t,e,r,i,a)}return[]}Ul("line",{defaultShapeType:"line"});(0,O.S6)(["line","dot","dash","smooth"],(function(t){zl("line",t,{draw:function(e,n){var r,i="smooth"===t;if(i){var a=this.coordinate,o=a.start,s=a.end;r=[[o.x,s.y],[s.x,o.y]]}var l=function(t,e,n){for(var r=t.isStack,i=t.connectNulls,a=t.isInCircle,o=t.showSinglePoint,s=yc(t,!0,!1,"lineWidth"),l=dc(t.points,i,o),c=[],u=0,h=l.length;u<h;u++){var f=l[u];c=c.concat(Cc(f,a,r,e,n,s))}return s.path=c,s}(e,i,r);return n.addShape({type:"path",attrs:l,name:"line",capture:!i})},getMarker:function(e){return wc(e,t)}})}));var Tc={getLegendItems:uc,translate:$l,rotate:ql,zoom:function(t,e){var n=t.getBBox(),r=(n.minX+n.maxX)/2,i=(n.minY+n.maxY)/2;t.applyToMatrix([r,i,1]);var a=Xl(t.getMatrix(),[["t",-r,-i],["s",e,e],["t",r,i]]);t.setMatrix(a)},transform:Xl,getAngle:Qa,getSectorPath:Ka,polarToCartesian:Za,getDelegationObject:$o,getTooltipItems:Js,getMappingValue:ac,getPath:Cc,getPathPoints:dc},Ec="#000",kc="#262626",Mc="#BFBFBF",Ac="#F0F0F0",Oc="#FFFFFF",Fc="#A6A6A6",Ic="#737373",Pc="#404040",Dc="#262626",Lc=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Rc=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],Bc=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],_c=function(t){void 0===t&&(t={});var e=t.paletteQualitative10,n=void 0===e?Lc:e,r=t.paletteQualitative20,i=void 0===r?Rc:r,a=t.brandColor,o=void 0===a?n[0]:a;return x(x({},{backgroundColor:"#141414",brandColor:o,subColor:"rgba(255,255,255,0.05)",paletteQualitative10:n,paletteQualitative20:i,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:Bc,fontFamily:'"Segoe UI", Roboto, "Helvetica Neue", Arial,\n    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n    "Noto Color Emoji"',axisLineBorderColor:Pc,axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Fc,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:kc,axisTickLineBorderColor:Pc,axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:Dc,axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:Ic,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:Dc,axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:Ic,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Lc[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Fc,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:Ic,legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:Ic,legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:Fc,legendPageNavigatorTextFontSize:12,sliderRailFillColor:Dc,sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Ic,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Ac,sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Mc,annotationArcBorderColor:Dc,annotationArcBorder:1,annotationLineBorderColor:Pc,annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Fc,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:Oc,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Pc,tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:Fc,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Fc,labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Ec,innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Fc,overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:Ec,overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:Pc,cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:Lc[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Ec,pointBorderOpacity:1,pointActiveBorderColor:Oc,pointSelectedBorder:2,pointSelectedBorderColor:Oc,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Lc[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Ec,hollowPointActiveBorder:1,hollowPointActiveBorderColor:Oc,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Oc,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Lc[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Lc[0],areaFillOpacity:.25,areaActiveFillColor:Lc[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Lc[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Lc[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Oc,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Oc,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Lc[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Oc,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Oc,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Lc[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Ec,hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Oc,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Oc,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}),t)}(),Nc=function(t,e){return Nc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Nc(t,e)};function Uc(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Nc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var zc=function(){return zc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},zc.apply(this,arguments)};function Hc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Vc(t,e,n,r){var i=t-n,a=e-r;return Math.sqrt(i*i+a*a)}function Gc(t,e,n,r,i,a){return i>=t&&i<=t+n&&a>=e&&a<=e+r}function Wc(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function Yc(t,e){return t[0]===e[0]&&t[1]===e[1]}var jc=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Xc=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,$c=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,qc=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Zc(t,e){var n=t.match(qc);(0,O.S6)(n,(function(t){var n=t.split(":");e.addColorStop(n[0],n[1])}))}function Kc(t,e,n){var r=e.getBBox();if(isNaN(r.x)||isNaN(r.y)||isNaN(r.width)||isNaN(r.height))return n;if((0,O.HD)(n)){if("("===n[1]||"("===n[2]){if("l"===n[0])return function(t,e,n){var r,i,a=jc.exec(n),o=parseFloat(a[1])%360*(Math.PI/180),s=a[2],l=e.getBBox();o>=0&&o<.5*Math.PI?(r={x:l.minX,y:l.minY},i={x:l.maxX,y:l.maxY}):.5*Math.PI<=o&&o<Math.PI?(r={x:l.maxX,y:l.minY},i={x:l.minX,y:l.maxY}):Math.PI<=o&&o<1.5*Math.PI?(r={x:l.maxX,y:l.maxY},i={x:l.minX,y:l.minY}):(r={x:l.minX,y:l.maxY},i={x:l.maxX,y:l.minY});var c=Math.tan(o),u=c*c,h=(i.x-r.x+c*(i.y-r.y))/(u+1)+r.x,f=c*(i.x-r.x+c*(i.y-r.y))/(u+1)+r.y,p=t.createLinearGradient(r.x,r.y,h,f);return Zc(s,p),p}(t,e,n);if("r"===n[0])return function(t,e,n){var r=Xc.exec(n),i=parseFloat(r[1]),a=parseFloat(r[2]),o=parseFloat(r[3]),s=r[4];if(0===o){var l=s.match(qc);return l[l.length-1].split(":")[1]}var c=e.getBBox(),u=c.maxX-c.minX,h=c.maxY-c.minY,f=Math.sqrt(u*u+h*h)/2,p=t.createRadialGradient(c.minX+u*i,c.minY+h*a,0,c.minX+u/2,c.minY+h/2,o*f);return Zc(s,p),p}(t,e,n);if("p"===n[0])return function(t,e,n){if(e.get("patternSource")&&e.get("patternSource")===n)return e.get("pattern");var r,i,a=$c.exec(n),o=a[1],s=a[2];function l(){r=t.createPattern(i,o),e.set("pattern",r),e.set("patternSource",n)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;default:o="no-repeat"}return i=new Image,s.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=s,i.complete?l():(i.onload=l,i.src=i.src),r}(t,e,n)}return n}return n instanceof CanvasPattern?n:void 0}function Jc(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Qc(t,e){return Jc(t)*Jc(e)?(t[0]*e[0]+t[1]*e[1])/(Jc(t)*Jc(e)):1}function tu(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Qc(t,e))}function eu(t,e){var n=e[1],r=e[2],i=(0,O.wQ)((0,O.c$)(e[3]),2*Math.PI),a=e[4],o=e[5],s=t[0],l=t[1],c=e[6],u=e[7],h=Math.cos(i)*(s-c)/2+Math.sin(i)*(l-u)/2,f=-1*Math.sin(i)*(s-c)/2+Math.cos(i)*(l-u)/2,p=h*h/(n*n)+f*f/(r*r);p>1&&(n*=Math.sqrt(p),r*=Math.sqrt(p));var d=n*n*(f*f)+r*r*(h*h),g=d?Math.sqrt((n*n*(r*r)-d)/d):1;a===o&&(g*=-1),isNaN(g)&&(g=0);var v=r?g*n*f/r:0,y=n?g*-r*h/n:0,m=(s+c)/2+Math.cos(i)*v-Math.sin(i)*y,x=(l+u)/2+Math.sin(i)*v+Math.cos(i)*y,b=[(h-v)/n,(f-y)/r],w=[(-1*h-v)/n,(-1*f-y)/r],S=tu([1,0],b),C=tu(b,w);return Qc(b,w)<=-1&&(C=Math.PI),Qc(b,w)>=1&&(C=0),0===o&&C>0&&(C-=2*Math.PI),1===o&&C<0&&(C+=2*Math.PI),{cx:m,cy:x,rx:Yc(t,[c,u])?0:n,ry:Yc(t,[c,u])?0:r,startAngle:S,endAngle:S+C,xRotation:i,arcFlag:a,sweepFlag:o}}var nu=Math.sin,ru=Math.cos,iu=Math.atan2,au=Math.PI;function ou(t,e,n,r,i,a,o){var s=e.stroke,l=e.lineWidth,c=iu(r-a,n-i),u=new Ku({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*ru(au/6)+","+10*nu(au/6)+" L0,0 L"+10*ru(au/6)+",-"+10*nu(au/6),stroke:s,lineWidth:l}});u.translate(i,a),u.rotateAtPoint(i,a,c),t.set(o?"startArrowShape":"endArrowShape",u)}function su(t,e,n,r,i,a,o){var s=e.startArrow,l=e.endArrow,c=e.stroke,u=e.lineWidth,h=o?s:l,f=h.d,p=h.fill,d=h.stroke,g=h.lineWidth,v=Hc(h,["d","fill","stroke","lineWidth"]),y=iu(r-a,n-i);f&&(i-=ru(y)*f,a-=nu(y)*f);var m=new Ku({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:zc(zc({},v),{stroke:d||c,lineWidth:g||u,fill:p})});m.translate(i,a),m.rotateAtPoint(i,a,y),t.set(o?"startArrowShape":"endArrowShape",m)}function lu(t,e,n,r,i){var a=iu(r-e,n-t);return{dx:ru(a)*i,dy:nu(a)*i}}function cu(t,e,n,r,i,a){"object"===typeof e.startArrow?su(t,e,n,r,i,a,!0):e.startArrow?ou(t,e,n,r,i,a,!0):t.set("startArrowShape",null)}function uu(t,e,n,r,i,a){"object"===typeof e.endArrow?su(t,e,n,r,i,a,!1):e.endArrow?ou(t,e,n,r,i,a,!1):t.set("startArrowShape",null)}var hu={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function fu(t,e){var n=e.attr();for(var r in n){var i=n[r],a=hu[r]?hu[r]:r;"matrix"===a&&i?t.transform(i[0],i[1],i[3],i[4],i[6],i[7]):"lineDash"===a&&t.setLineDash?(0,O.kJ)(i)&&t.setLineDash(i):("strokeStyle"===a||"fillStyle"===a?i=Kc(t,e,i):"globalAlpha"===a&&(i*=t.globalAlpha),t[a]=i)}}function pu(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];i.cfg.visible?i.draw(t,n):i.skipDraw()}}function du(t,e,n){var r=t.get("refreshElements");(0,O.S6)(r,(function(e){if(e!==t)for(var n=e.cfg.parent;n&&n!==t&&!n.cfg.refresh;)n.cfg.refresh=!0,n=n.cfg.parent})),r[0]===t?yu(e,n):gu(e,n)}function gu(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.cfg.visible)if(r.cfg.hasChanged)r.cfg.refresh=!0,r.isGroup()&&yu(r.cfg.children,e);else if(r.cfg.refresh)r.isGroup()&&gu(r.cfg.children,e);else{var i=mu(r,e);r.cfg.refresh=i,i&&r.isGroup()&&gu(r.cfg.children,e)}}}function vu(t){for(var e=0;e<t.length;e++){var n=t[e];n.cfg.hasChanged=!1,n.isGroup()&&!n.destroyed&&vu(n.cfg.children)}}function yu(t,e){for(var n=0;n<t.length;n++){var r=t[n];r.cfg.visible&&(r.cfg.refresh=!0,r.isGroup()&&yu(r.get("children"),e))}}function mu(t,e){var n=t.cfg.cacheCanvasBBox;return t.cfg.isInView&&n&&Wc(n,e)}function xu(t,e,n,r){var i=n.path,a=n.startArrow,o=n.endArrow;if(i){var s=[0,0],l=[0,0],c={dx:0,dy:0};e.beginPath();for(var u=0;u<i.length;u++){var h=i[u],f=h[0];if(0===u&&a&&a.d)c=lu((p=t.getStartTangent())[0][0],p[0][1],p[1][0],p[1][1],a.d);else if(u===i.length-2&&"Z"===i[u+1][0]&&o&&o.d){if("Z"===i[u+1][0])c=lu((p=t.getEndTangent())[0][0],p[0][1],p[1][0],p[1][1],o.d)}else if(u===i.length-1&&o&&o.d){var p;if("Z"!==i[0])c=lu((p=t.getEndTangent())[0][0],p[0][1],p[1][0],p[1][1],o.d)}var d=c.dx,g=c.dy;switch(f){case"M":e.moveTo(h[1]-d,h[2]-g),l=[h[1],h[2]];break;case"L":e.lineTo(h[1]-d,h[2]-g);break;case"Q":e.quadraticCurveTo(h[1],h[2],h[3]-d,h[4]-g);break;case"C":e.bezierCurveTo(h[1],h[2],h[3],h[4],h[5]-d,h[6]-g);break;case"A":var v=void 0;r?(v=r[u])||(v=eu(s,h),r[u]=v):v=eu(s,h);var y=v.cx,m=v.cy,x=v.rx,b=v.ry,w=v.startAngle,S=v.endAngle,C=v.xRotation,T=v.sweepFlag;if(e.ellipse)e.ellipse(y,m,x,b,C,w,S,1-T);else{var E=x>b?x:b,k=x>b?1:x/b,M=x>b?b/x:1;e.translate(y,m),e.rotate(C),e.scale(k,M),e.arc(0,0,E,w,S,1-T),e.scale(1/k,1/M),e.rotate(-C),e.translate(-y,-m)}break;case"Z":e.closePath()}if("Z"===f)s=l;else{var A=h.length;s=[h[A-2],h[A-1]]}}}}function bu(t,e){var n=t.get("canvas");n&&("remove"===e&&(t._cacheCanvasBBox=t.get("cacheCanvasBBox")),t.get("hasChanged")||(t.set("hasChanged",!0),t.cfg.parent&&t.cfg.parent.get("hasChanged")||(n.refreshElement(t,e,n),n.get("autoDraw")&&n.draw())))}function wu(t){var e,n,r;if(t.destroyed)e=t._cacheCanvasBBox;else{var i=t.get("cacheCanvasBBox"),a=i&&!(!i.width||!i.height),o=t.getCanvasBBox(),s=o&&!(!o.width||!o.height);a&&s?(r=o,e=(n=i)&&r?{minX:Math.min(n.minX,r.minX),minY:Math.min(n.minY,r.minY),maxX:Math.max(n.maxX,r.maxX),maxY:Math.max(n.maxY,r.maxY)}:n||r):a?e=i:s&&(e=o)}return e}var Su=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Uc(e,t),e.prototype.onCanvasChange=function(t){bu(this,t)},e.prototype.getShapeBase=function(){return h},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,e){e&&(t.save(),fu(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,e=[],n=[];(0,O.S6)(t,(function(t){var r=t.cfg.cacheCanvasBBox;r&&t.cfg.isInView&&(e.push(r.minX,r.maxX),n.push(r.minY,r.maxY))}));var r=null;if(e.length){var i=(0,O.VV)(e),a=(0,O.Fp)(e),o=(0,O.VV)(n),s=(0,O.Fp)(n);r={minX:i,minY:o,x:i,y:o,maxX:a,maxY:s,width:a-i,height:s-o};var l=this.cfg.canvas;if(l){var c=l.getViewRange();this.set("isInView",Wc(r,c))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",r)},e.prototype.draw=function(t,e){var n=this.cfg.children,r=!e||this.cfg.refresh;n.length&&r&&(t.save(),fu(t,this),this._applyClip(t,this.getClip()),pu(t,n,e),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(J.AbstractGroup),Cu=Su,Tu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Uc(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return zc(zc({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return h},e.prototype.getGroupBase=function(){return Cu},e.prototype.onCanvasChange=function(t){bu(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=(0,J.getBBoxMethod)(t)(this),r=e/2,i=n.x-r,a=n.y-r,o=n.x+n.width+r,s=n.y+n.height+r;return{x:i,minX:i,y:a,minY:a,width:n.width+e,height:n.height+e,maxX:o,maxY:s}},e.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs.stroke},e.prototype._applyClip=function(t,e){e&&(t.save(),fu(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.draw=function(t,e){var n=this.cfg.clipShape;if(e){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);if(!Wc(e,this.getCanvasBBox()))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}t.save(),fu(t,this),this._applyClip(t,n),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},e.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var e=this.getCanvasBBox(),n=Wc(e,t);this.set("isInView",n),n?this.set("cacheCanvasBBox",e):this.set("cacheCanvasBBox",null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,a=e.fillOpacity;this.isFill()&&((0,O.UM)(a)||1===a?this.fill(t):(t.globalAlpha=a,this.fill(t),t.globalAlpha=r)),this.isStroke()&&n>0&&((0,O.UM)(i)||1===i||(t.globalAlpha=i),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,e){var n=this.isStroke(),r=this.isFill(),i=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,r,i)},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},e}(J.AbstractShape),Eu=Tu,ku=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Uc(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return zc(zc({},e),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var a=this.attr(),o=a.x,s=a.y,l=a.r,c=i/2,u=Vc(o,s,t,e);return r&&n?u<=l+c:r?u<=l:!!n&&(u>=l-c&&u<=l+c)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.r;t.beginPath(),t.arc(n,r,i,0,2*Math.PI,!1),t.closePath()},e}(Eu),Mu=ku;function Au(t,e,n,r){return t/(n*n)+e/(r*r)}var Ou=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Uc(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return zc(zc({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var a=this.attr(),o=i/2,s=a.x,l=a.y,c=a.rx,u=a.ry,h=(t-s)*(t-s),f=(e-l)*(e-l);return r&&n?Au(h,f,c+o,u+o)<=1:r?Au(h,f,c,u)<=1:!!n&&(Au(h,f,c-o,u-o)>=1&&Au(h,f,c+o,u+o)<=1)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.rx,a=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,r,i,a,0,0,2*Math.PI,!1);else{var o=i>a?i:a,s=i>a?1:i/a,l=i>a?a/i:1;t.save(),t.translate(n,r),t.scale(s,l),t.arc(0,0,o,0,2*Math.PI),t.restore(),t.closePath()}},e}(Eu),Fu=Ou;function Iu(t){return t instanceof HTMLElement&&(0,O.HD)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()}var Pu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Uc(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return zc(zc({},e),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var e=this,n=this.attrs;if((0,O.HD)(t)){var r=new Image;r.onload=function(){if(e.destroyed)return!1;e.attr("img",r),e.set("loading",!1),e._afterLoading();var t=e.get("callback");t&&t.call(e)},r.crossOrigin="Anonymous",r.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):Iu(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),"img"===e&&this._setImage(n)},e.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var e=this.attr(),n=e.x,r=e.y,i=e.width,a=e.height,o=e.sx,s=e.sy,l=e.swidth,c=e.sheight,u=e.img;(u instanceof Image||Iu(u))&&((0,O.UM)(o)||(0,O.UM)(s)||(0,O.UM)(l)||(0,O.UM)(c)?t.drawImage(u,n,r,i,a):t.drawImage(u,o,s,l,c,n,r,i,a))},e}(Eu),Du=Pu,Lu=n(1622);function Ru(t,e,n,r,i,a,o){var s=Math.min(t,n),l=Math.max(t,n),c=Math.min(e,r),u=Math.max(e,r),h=i/2;return a>=s-h&&a<=l+h&&o>=c-h&&o<=u+h&&Lu.x1.pointToLine(t,e,n,r,a,o)<=i/2}var Bu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Uc(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return zc(zc({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2,a=t.startArrow,o=t.endArrow;a&&cu(this,t,r,i,e,n),o&&uu(this,t,e,n,r,i)},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){if(!n||!i)return!1;var a=this.attr();return Ru(a.x1,a.y1,a.x2,a.y2,i,t,e)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,a=e.y2,o=e.startArrow,s=e.endArrow,l={dx:0,dy:0},c={dx:0,dy:0};o&&o.d&&(l=lu(n,r,i,a,e.startArrow.d)),s&&s.d&&(c=lu(n,r,i,a,e.endArrow.d)),t.beginPath(),t.moveTo(n+l.dx,r+l.dy),t.lineTo(i-c.dx,a-c.dy)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2;return Lu.x1.length(e,n,r,i)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,a=e.y2;return Lu.x1.pointAt(n,r,i,a,t)},e}(Eu),_u=Bu,Nu={circle:function(t,e,n){return[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["Z"]]},"triangle-down":function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},Uu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Uc(e,t),e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),-1!==["symbol","x","y","r","radius"].indexOf(e)&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return(0,O.UM)(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t,n,r=this.attr(),i=r.x,a=r.y,o=r.symbol||"circle",s=this._getR(r);if((0,O.mf)(o))n=(t=o)(i,a,s),n=(0,ka.wb)(n);else{if(!(t=e.Symbols[o]))return console.warn(o+" marker is not supported."),null;n=t(i,a,s)}return n},e.prototype.createPath=function(t){xu(this,t,{path:this._getPath()},this.get("paramsCache"))},e.Symbols=Nu,e}(Eu),zu=Uu;function Hu(t,e,n){var r=(0,J.getOffScreenContext)();return t.createPath(r),r.isPointInPath(e,n)}var Vu=1e-6;function Gu(t){return Math.abs(t)<Vu?0:t<0?-1:1}function Wu(t,e,n){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function Yu(t,e,n){var r=!1,i=t.length;if(i<=2)return!1;for(var a=0;a<i;a++){var o=t[a],s=t[(a+1)%i];if(Wu(o,s,[e,n]))return!0;Gu(o[1]-n)>0!==Gu(s[1]-n)>0&&Gu(e-(n-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(r=!r)}return r}function ju(t,e,n,r,i,a,o,s){var l=(Math.atan2(s-e,o-t)+2*Math.PI)%(2*Math.PI);if(l<r||l>i)return!1;var c={x:t+n*Math.cos(l),y:e+n*Math.sin(l)};return Vc(c.x,c.y,o,s)<=a/2}var Xu=zn.vs;var $u=zc({hasArc:function(t){for(var e=!1,n=t.length,r=0;r<n;r++){var i=t[r][0];if("C"===i||"A"===i||"Q"===i){e=!0;break}}return e},extractPolygons:function(t){for(var e=t.length,n=[],r=[],i=[],a=0;a<e;a++){var o=t[a],s=o[0];"M"===s?(i.length&&(r.push(i),i=[]),i.push([o[1],o[2]])):"Z"===s?i.length&&(n.push(i),i=[]):i.push([o[1],o[2]])}return i.length>0&&r.push(i),{polygons:n,polylines:r}},isPointInStroke:function(t,e,n,r,i){for(var a=!1,o=e/2,s=0;s<t.length;s++){var l=t[s],c=l.currentPoint,u=l.params,h=l.prePoint,f=l.box;if(!f||Gc(f.x-o,f.y-o,f.width+e,f.height+e,n,r)){switch(l.command){case"L":case"Z":a=Ru(h[0],h[1],c[0],c[1],e,n,r);break;case"Q":a=Lu.lD.pointDistance(h[0],h[1],u[1],u[2],u[3],u[4],n,r)<=e/2;break;case"C":a=Lu.Ll.pointDistance(h[0],h[1],u[1],u[2],u[3],u[4],u[5],u[6],n,r,i)<=e/2;break;case"A":var p=l.arcParams,d=p.cx,g=p.cy,v=p.rx,y=p.ry,m=p.startAngle,x=p.endAngle,b=p.xRotation,w=[n,r,1],S=v>y?v:y;Nn(w,w,Xu(null,[["t",-d,-g],["r",-b],["s",1/(v>y?1:v/y),1/(v>y?y/v:1)]])),a=ju(0,0,S,m,x,e,w[0],w[1])}if(a)break}}return a}},J.PathUtil);function qu(t,e,n){for(var r=!1,i=0;i<t.length;i++){if(r=Yu(t[i],e,n))break}return r}var Zu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Uc(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return zc(zc({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),"path"===e&&this._setPathArr(n),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=(0,ka.wb)(t);var e=$u.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=(0,ka.zx)(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t,e=this.attr(),n=e.startArrow,r=e.endArrow;n&&cu(this,e,(t=this.getStartTangent())[0][0],t[0][1],t[1][0],t[1][1]);r&&uu(this,e,(t=this.getEndTangent())[0][0],t[0][1],t[1][0],t[1][1])},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var a=this.getSegments(),o=this.get("hasArc"),s=!1;if(n){var l=this.getTotalLength();s=$u.isPointInStroke(a,i,t,e,l)}if(!s&&r)if(o)s=Hu(this,t,e);else{var c=this.attr("path"),u=$u.extractPolygons(c);s=qu(u.polygons,t,e)||qu(u.polylines,t,e)}return s},e.prototype.createPath=function(t){xu(this,t,this.attr(),this.get("paramsCache"))},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,O.UM)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var e,n,r=this.get("tCache");r||(this._calculateCurve(),this._setTcache(),r=this.get("tCache"));var i=this.get("curve");if(!r||0===r.length)return i?{x:i[0][1],y:i[0][2]}:null;(0,O.S6)(r,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)}));var a=i[n];if((0,O.UM)(a)||(0,O.UM)(n))return null;var o=a.length,s=i[n+1];return Lu.Ll.pointAt(a[o-2],a[o-1],s[1],s[2],s[3],s[4],s[5],s[6],e)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",$u.pathToCurve(t))},e.prototype._setTcache=function(){var t,e,n,r,i=0,a=0,o=[],s=this.get("curve");s&&((0,O.S6)(s,(function(t,e){n=s[e+1],r=t.length,n&&(i+=Lu.Ll.length(t[r-2],t[r-1],n[1],n[2],n[3],n[4],n[5],n[6])||0)})),this.set("totalLength",i),0!==i?((0,O.S6)(s,(function(l,c){n=s[c+1],r=l.length,n&&((t=[])[0]=a/i,e=Lu.Ll.length(l[r-2],l[r-1],n[1],n[2],n[3],n[4],n[5],n[6]),a+=e||0,t[1]=a/i,o.push(t))})),this.set("tCache",o)):this.set("tCache",[]))},e.prototype.getStartTangent=function(){var t,e=this.getSegments();if(e.length>1){var n=e[0].currentPoint,r=e[1].currentPoint,i=e[1].startTangent;t=[],i?(t.push([n[0]-i[0],n[1]-i[1]]),t.push([n[0],n[1]])):(t.push([r[0],r[1]]),t.push([n[0],n[1]]))}return t},e.prototype.getEndTangent=function(){var t,e=this.getSegments(),n=e.length;if(n>1){var r=e[n-2].currentPoint,i=e[n-1].currentPoint,a=e[n-1].endTangent;t=[],a?(t.push([i[0]-a[0],i[1]-a[1]]),t.push([i[0],i[1]])):(t.push([r[0],r[1]]),t.push([i[0],i[1]]))}return t},e}(Eu),Ku=Zu;function Ju(t,e,n,r,i){var a=t.length;if(a<2)return!1;for(var o=0;o<a-1;o++){if(Ru(t[o][0],t[o][1],t[o+1][0],t[o+1][1],e,n,r))return!0}if(i){var s=t[0],l=t[a-1];if(Ru(s[0],s[1],l[0],l[1],e,n,r))return!0}return!1}var Qu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Uc(e,t),e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var a=this.attr().points,o=!1;return n&&(o=Ju(a,i,t,e,!0)),!o&&r&&(o=Yu(a,t,e)),o},e.prototype.createPath=function(t){var e=this.attr().points;if(!(e.length<2)){t.beginPath();for(var n=0;n<e.length;n++){var r=e[n];0===n?t.moveTo(r[0],r[1]):t.lineTo(r[0],r[1])}t.closePath()}},e}(Eu),th=Qu,eh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Uc(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return zc(zc({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),this.setArrow(),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,r=e.startArrow,i=e.endArrow,a=n.length,o=n[0][0],s=n[0][1],l=n[a-1][0],c=n[a-1][1];r&&cu(this,t,n[1][0],n[1][1],o,s),i&&uu(this,t,n[a-2][0],n[a-2][1],l,c)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){return!(!n||!i)&&Ju(this.attr().points,i,t,e,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var e=this.attr(),n=e.points,r=e.startArrow,i=e.endArrow,a=n.length;if(!(n.length<2)){var o,s=n[0][0],l=n[0][1],c=n[a-1][0],u=n[a-1][1];if(r&&r.d)s+=(o=lu(s,l,n[1][0],n[1][1],r.d)).dx,l+=o.dy;if(i&&i.d)c-=(o=lu(n[a-2][0],n[a-2][1],c,u,i.d)).dx,u-=o.dy;t.beginPath(),t.moveTo(s,l);for(var h=0;h<a-1;h++){var f=n[h];t.lineTo(f[0],f[1])}t.lineTo(c,u)}},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,O.UM)(e)?(this.set("totalLength",Lu.aH.length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),(0,O.S6)(i,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)})),Lu.x1.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,r,i=0,a=[];(0,O.S6)(t,(function(o,s){t[s+1]&&((n=[])[0]=i/e,r=Lu.x1.length(o[0],o[1],t[s+1][0],t[s+1][1]),i+=r,n[1]=i/e,a.push(n))})),this.set("tCache",a)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(Eu),nh=eh;var rh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Uc(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return zc(zc({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var a=this.attr(),o=a.x,s=a.y,l=a.width,c=a.height,u=a.radius;if(u){var h=!1;return n&&(h=function(t,e,n,r,i,a,o,s){return Ru(t+i,e,t+n-i,e,a,o,s)||Ru(t+n,e+i,t+n,e+r-i,a,o,s)||Ru(t+n-i,e+r,t+i,e+r,a,o,s)||Ru(t,e+r-i,t,e+i,a,o,s)||ju(t+n-i,e+i,i,1.5*Math.PI,2*Math.PI,a,o,s)||ju(t+n-i,e+r-i,i,0,.5*Math.PI,a,o,s)||ju(t+i,e+r-i,i,.5*Math.PI,Math.PI,a,o,s)||ju(t+i,e+i,i,Math.PI,1.5*Math.PI,a,o,s)}(o,s,l,c,u,i,t,e)),!h&&r&&(h=Hu(this,t,e)),h}var f=i/2;return r&&n?Gc(o-f,s-f,l+f,c+f,t,e):r?Gc(o,s,l,c,t,e):n?function(t,e,n,r,i,a,o){var s=i/2;return Gc(t-s,e-s,n,i,a,o)||Gc(t+n-s,e-s,i,r,a,o)||Gc(t+s,e+r-s,n,i,a,o)||Gc(t-s,e+s,i,r,a,o)}(o,s,l,c,i,t,e):void 0},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.width,a=e.height,o=e.radius;if(t.beginPath(),0===o)t.rect(n,r,i,a);else{var s=function(t){var e=0,n=0,r=0,i=0;return(0,O.kJ)(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,[e,n,r,i]}(o),l=s[0],c=s[1],u=s[2],h=s[3];t.moveTo(n+l,r),t.lineTo(n+i-c,r),0!==c&&t.arc(n+i-c,r+c,c,-Math.PI/2,0),t.lineTo(n+i,r+a-u),0!==u&&t.arc(n+i-u,r+a-u,u,0,Math.PI/2),t.lineTo(n+h,r+a),0!==h&&t.arc(n+h,r+a-h,h,Math.PI/2,Math.PI),t.lineTo(n,r+l),0!==l&&t.arc(n+l,r+l,l,Math.PI,1.5*Math.PI),t.closePath()}},e}(Eu),ih=rh,ah=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Uc(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return zc(zc({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=(0,J.assembleFont)(t)},e.prototype._setText=function(t){var e=null;(0,O.HD)(t)&&-1!==t.indexOf("\n")&&(e=t.split("\n")),this.set("textArr",e)},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),e.startsWith("font")&&this._assembleFont(),"text"===e&&this._setText(n)},e.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},e.prototype._drawTextArr=function(t,e,n){var r,i=this.attrs,a=i.textBaseline,o=i.x,s=i.y,l=1*i.fontSize,c=this._getSpaceingY(),u=(0,J.getTextHeight)(i.text,i.fontSize,i.lineHeight);(0,O.S6)(e,(function(e,i){r=s+i*(c+l)-u+l,"middle"===a&&(r+=u-l-(u-l)/2),"top"===a&&(r+=u-l),(0,O.UM)(e)||(n?t.fillText(e,o,r):t.strokeText(e,o,r))}))},e.prototype._drawText=function(t,e){var n=this.attr(),r=n.x,i=n.y,a=this.get("textArr");if(a)this._drawTextArr(t,a,e);else{var o=n.text;(0,O.UM)(o)||(e?t.fillText(o,r,i):t.strokeText(o,r,i))}},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,a=e.fillOpacity;this.isStroke()&&n>0&&((0,O.UM)(i)||1===i||(t.globalAlpha=r),this.stroke(t)),this.isFill()&&((0,O.UM)(a)||1===a?this.fill(t):(t.globalAlpha=a,this.fill(t),t.globalAlpha=r)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(Eu),oh=ah;function sh(t,e,n){var r=t.getTotalMatrix();if(r){var i=function(t,e){if(e){var n=(0,J.invert)(e);return(0,J.multiplyVec2)(n,t)}return t}([e,n,1],r);return[i[0],i[1]]}return[e,n]}function lh(t,e,n){if(t.isCanvas&&t.isCanvas())return!0;if(!(0,J.isAllowCapture)(t)||!1===t.cfg.isInView)return!1;if(t.cfg.clipShape){var r=sh(t,e,n),i=r[0],a=r[1];if(t.isClipped(i,a))return!1}var o=t.cfg.cacheCanvasBBox||t.getCanvasBBox();return e>=o.minX&&e<=o.maxX&&n>=o.minY&&n<=o.maxY}function ch(t,e,n){if(!lh(t,e,n))return null;for(var r=null,i=t.getChildren(),a=i.length-1;a>=0;a--){var o=i[a];if(o.isGroup())r=ch(o,e,n);else if(lh(o,e,n)){var s=o,l=sh(o,e,n),c=l[0],u=l[1];s.isInShape(c,u)&&(r=o)}if(r)break}return r}var uh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Uc(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.renderer="canvas",e.autoDraw=!0,e.localRefresh=!0,e.refreshElements=[],e.clipView=!0,e.quickHit=!1,e},e.prototype.onCanvasChange=function(t){"attr"!==t&&"sort"!==t&&"changeSize"!==t||(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return h},e.prototype.getGroupBase=function(){return Cu},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||(window?window.devicePixelRatio:1);return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},e.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},e.prototype.setDOMSize=function(e,n){t.prototype.setDOMSize.call(this,e,n);var r=this.get("context"),i=this.get("el"),a=this.getPixelRatio();i.width=a*e,i.height=a*n,a>1&&r.scale(a,a)},e.prototype.clear=function(){t.prototype.clear.call(this),this._clearFrame();var e=this.get("context"),n=this.get("el");e.clearRect(0,0,n.width,n.height)},e.prototype.getShape=function(e,n){return this.get("quickHit")?ch(this,e,n):t.prototype.getShape.call(this,e,n,null)},e.prototype._getRefreshRegion=function(){var t,e=this.get("refreshElements"),n=this.getViewRange();e.length&&e[0]===this?t=n:(t=function(t){if(!t.length)return null;var e=[],n=[],r=[],i=[];return(0,O.S6)(t,(function(t){var a=wu(t);a&&(e.push(a.minX),n.push(a.minY),r.push(a.maxX),i.push(a.maxY))})),{minX:(0,O.VV)(e),minY:(0,O.VV)(n),maxX:(0,O.Fp)(r),maxY:(0,O.Fp)(i)}}(e),t&&(t.minX=Math.floor(t.minX),t.minY=Math.floor(t.minY),t.maxX=Math.ceil(t.maxX),t.maxY=Math.ceil(t.maxY),t.maxY+=1,this.get("clipView")&&(t=function(t,e){return t&&e&&Wc(t,e)?{minX:Math.max(t.minX,e.minX),minY:Math.max(t.minY,e.minY),maxX:Math.min(t.maxX,e.maxX),maxY:Math.min(t.maxY,e.maxY)}:null}(t,n))));return t},e.prototype.refreshElement=function(t){this.get("refreshElements").push(t)},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,O.VS)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),fu(t,this),pu(t,n),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),r=this._getRefreshRegion();r?(t.clearRect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.save(),t.beginPath(),t.rect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.clip(),fu(t,this),du(this,n,r),pu(t,n,r),t.restore()):e.length&&vu(e),(0,O.S6)(e,(function(t){t.get("hasChanged")&&t.set("hasChanged",!1)})),this.set("refreshElements",[])},e.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=(0,O.U7)((function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)})),this.set("drawFrame",e))},e.prototype.skipDraw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},e}(J.AbstractCanvas),hh=uh,fh="0.5.12",ph=function(t,e){return ph=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},ph(t,e)};function dh(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}ph(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var gh=function(){return gh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},gh.apply(this,arguments)};Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var vh={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},yh={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function mh(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function xh(t){var e=vh[t.type],n=t.getParent();if(!e)throw new Error("the type "+t.type+" is not supported by svg");var r=mh(e);if(t.get("id")&&(r.id=t.get("id")),t.set("el",r),t.set("attrs",{}),n){var i=n.get("el");i||(i=n.createDom(),n.set("el",i)),i.appendChild(r)}return r}function bh(t,e){var n=t.get("el"),r=(0,O.qo)(n.children).sort(e),i=document.createDocumentFragment();r.forEach((function(t){i.appendChild(t)})),n.appendChild(i)}function wh(t){var e=t.attr().matrix;if(e){for(var n=t.cfg.el,r=[],i=0;i<9;i+=3)r.push(e[i]+","+e[i+1]);-1===(r=r.join(",")).indexOf("NaN")?n.setAttribute("transform","matrix("+r+")"):console.warn("invalid matrix:",e)}}function Sh(t,e){var n=t.getClip(),r=t.get("el");if(n){if(n&&!r.hasAttribute("clip-path")){xh(n),n.createPath(e);var i=e.addClip(n);r.setAttribute("clip-path","url(#"+i+")")}}else r.removeAttribute("clip-path")}function Ch(t,e){e.forEach((function(e){e.draw(t)}))}function Th(t,e){var n=t.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context"),i=t.getParent(),a=i?i.getChildren():[n],o=t.get("el");if("remove"===e)if(t.get("isClipShape")){var s=o&&o.parentNode,l=s&&s.parentNode;s&&l&&l.removeChild(s)}else o&&o.parentNode&&o.parentNode.removeChild(o);else if("show"===e)o.setAttribute("visibility","visible");else if("hide"===e)o.setAttribute("visibility","hidden");else if("zIndex"===e)!function(t,e){var n=t.parentNode,r=Array.from(n.childNodes).filter((function(t){return 1===t.nodeType&&"defs"!==t.nodeName.toLowerCase()})),i=r[e],a=r.indexOf(t);if(i){if(a>e)n.insertBefore(t,i);else if(a<e){var o=r[e+1];o?n.insertBefore(t,o):n.appendChild(t)}}else n.appendChild(t)}(o,a.indexOf(t));else if("sort"===e){var c=t.get("children");c&&c.length&&bh(t,(function(t,e){return c.indexOf(t)-c.indexOf(e)?1:0}))}else"clear"===e?o&&(o.innerHTML=""):"matrix"===e?wh(t):"clip"===e?Sh(t,r):"attr"===e||"add"===e&&t.draw(r)}}var Eh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return dh(e,t),e.prototype.isEntityGroup=function(){return!0},e.prototype.createDom=function(){var t=mh("g");this.set("el",t);var e=this.getParent();if(e){var n=e.get("el");n||(n=e.createDom(),e.set("el",n)),n.appendChild(t)}return t},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.createPath(r,e)}},e.prototype.onCanvasChange=function(t){Th(this,t)},e.prototype.getShapeBase=function(){return p},e.prototype.getGroupBase=function(){return e},e.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),Sh(this,t),this.createPath(t),e.length&&Ch(t,e))},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,O.S6)(e||n,(function(t,e){yh[e]&&r.setAttribute(yh[e],t)})),wh(this)},e}(J.AbstractGroup),kh=Eh,Mh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="svg",e.canFill=!1,e.canStroke=!1,e}return dh(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return gh(gh({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.draw(r,e)}},e.prototype.getShapeBase=function(){return p},e.prototype.getGroupBase=function(){return kh},e.prototype.onCanvasChange=function(t){Th(this,t)},e.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var n=(0,J.getBBoxMethod)(this.get("type"));n&&(e=n(this))}if(e){var r=e.x,i=e.y,a=e.width,o=e.height,s=this.getHitLineWidth(),l=s/2,c=r-l,u=i-l;return{x:c,y:u,minX:c,minY:u,maxX:r+a+l,maxY:i+o+l,width:a+s,height:o+s}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},e.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},e.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},e.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||xh(this),Sh(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},e.prototype.createPath=function(t,e){},e.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),r=n.fill,i=n.fillStyle,a=n.stroke,o=n.strokeStyle,s=n.fillOpacity,l=n.strokeOpacity,c=n.lineWidth,u=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",r):"fillStyle"in n&&this._setColor(t,"fill",i):this._setColor(t,"fill",r||i),s&&u.setAttribute(yh.fillOpacity,s)),this.canStroke&&c>0&&(e?"stroke"in n?this._setColor(t,"stroke",a):"strokeStyle"in n&&this._setColor(t,"stroke",o):this._setColor(t,"stroke",a||o),l&&u.setAttribute(yh.strokeOpacity,l),c&&u.setAttribute(yh.lineWidth,c))},e.prototype._setColor=function(t,e,n){var r=this.get("el");if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n))(i=t.find("gradient",n))||(i=t.addGradient(n)),r.setAttribute(yh[e],"url(#"+i+")");else if(/^[p,P]{1}[\s]*\(/.test(n)){var i;(i=t.find("pattern",n))||(i=t.addPattern(n)),r.setAttribute(yh[e],"url(#"+i+")")}else r.setAttribute(yh[e],n);else r.setAttribute(yh[e],"none")},e.prototype.shadow=function(t,e){var n=this.attr(),r=e||n,i=r.shadowOffsetX,a=r.shadowOffsetY,o=r.shadowBlur,s=r.shadowColor;(i||a||o||s)&&function(t,e){var n=t.cfg.el,r=t.attr(),i={dx:r.shadowOffsetX,dy:r.shadowOffsetY,blur:r.shadowBlur,color:r.shadowColor};if(i.dx||i.dy||i.blur||i.color){var a=e.find("filter",i);a||(a=e.addShadow(i)),n.setAttribute("filter","url(#"+a+")")}else n.removeAttribute("filter")}(this,t)},e.prototype.transform=function(t){var e=this.attr();(t||e).matrix&&wh(this)},e.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},e.prototype.isPointInPath=function(t,e){var n=this.get("el"),r=this.get("canvas").get("el").getBoundingClientRect(),i=t+r.left,a=e+r.top,o=document.elementFromPoint(i,a);return!(!o||!o.isEqualNode(n))},e.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},e}(J.AbstractShape),Ah=Mh,Oh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle",e.canFill=!0,e.canStroke=!0,e}return dh(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return gh(gh({},e),{x:0,y:0,r:0})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,O.S6)(e||n,(function(t,e){"x"===e||"y"===e?r.setAttribute("c"+e,t):yh[e]&&r.setAttribute(yh[e],t)}))},e}(Ah),Fh=Oh,Ih=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dom",e.canFill=!1,e.canStroke=!1,e}return dh(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");if((0,O.S6)(e||n,(function(t,e){yh[e]&&r.setAttribute(yh[e],t)})),"function"===typeof n.html){var i=n.html.call(this,n);if(i instanceof Element||i instanceof HTMLDocument){for(var a=r.childNodes,o=a.length-1;o>=0;o--)r.removeChild(a[o]);r.appendChild(i)}else r.innerHTML=i}else r.innerHTML=n.html},e}(Ah),Ph=Ih,Dh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ellipse",e.canFill=!0,e.canStroke=!0,e}return dh(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return gh(gh({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,O.S6)(e||n,(function(t,e){"x"===e||"y"===e?r.setAttribute("c"+e,t):yh[e]&&r.setAttribute(yh[e],t)}))},e}(Ah),Lh=Dh,Rh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="image",e.canFill=!1,e.canStroke=!1,e}return dh(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return gh(gh({},e),{x:0,y:0,width:0,height:0})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el");(0,O.S6)(e||r,(function(t,e){"img"===e?n._setImage(r.img):yh[e]&&i.setAttribute(yh[e],t)}))},e.prototype.setAttr=function(t,e){this.attrs[t]=e,"img"===t&&this._setImage(e)},e.prototype._setImage=function(t){var e=this.attr(),n=this.get("el");if((0,O.HD)(t))n.setAttribute("href",t);else if(t instanceof window.Image)e.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,O.HD)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase())n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var r=document.createElement("canvas");r.setAttribute("width",""+t.width),r.setAttribute("height",""+t.height),r.getContext("2d").putImageData(t,0,0),e.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",r.toDataURL())}},e}(Ah),Bh=Rh,_h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="line",e.canFill=!1,e.canStroke=!0,e}return dh(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return gh(gh({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,O.S6)(e||n,(function(e,i){if("startArrow"===i||"endArrow"===i)if(e){var a=(0,O.Kn)(e)?t.addArrow(n,yh[i]):t.getDefaultArrow(n,yh[i]);r.setAttribute(yh[i],"url(#"+a+")")}else r.removeAttribute(yh[i]);else yh[i]&&r.setAttribute(yh[i],e)}))},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2;return Lu.x1.length(e,n,r,i)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,a=e.y2;return Lu.x1.pointAt(n,r,i,a,t)},e}(Ah),Nh=_h,Uh={circle:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["z"]]},triangleDown:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},zh={get:function(t){return Uh[t]},register:function(t,e){Uh[t]=e},remove:function(t){delete Uh[t]},getAll:function(){return Uh}},Hh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="marker",e.canFill=!0,e.canStroke=!0,e}return dh(e,t),e.prototype.createPath=function(t){this.get("el").setAttribute("d",this._assembleMarker())},e.prototype._assembleMarker=function(){var t=this._getPath();return(0,O.kJ)(t)?t.map((function(t){return t.join(" ")})).join(""):t},e.prototype._getPath=function(){var t,e=this.attr(),n=e.x,r=e.y,i=e.r||e.radius,a=e.symbol||"circle";return(t=(0,O.mf)(a)?a:zh.get(a))?t(n,r,i):(console.warn(t+" symbol is not exist."),null)},e.symbolsFactory=zh,e}(Ah),Vh=Hh,Gh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="path",e.canFill=!0,e.canStroke=!0,e}return dh(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return gh(gh({},e),{startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el");(0,O.S6)(e||r,(function(e,a){if("path"===a&&(0,O.kJ)(e))i.setAttribute("d",n._formatPath(e));else if("startArrow"===a||"endArrow"===a)if(e){var o=(0,O.Kn)(e)?t.addArrow(r,yh[a]):t.getDefaultArrow(r,yh[a]);i.setAttribute(yh[a],"url(#"+o+")")}else i.removeAttribute(yh[a]);else yh[a]&&i.setAttribute(yh[a],e)}))},e.prototype._formatPath=function(t){var e=t.map((function(t){return t.join(" ")})).join("");return~e.indexOf("NaN")?"":e},e.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},e.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength();if(0===n)return null;var r=e?e.getPointAtLength(t*n):null;return r?{x:r.x,y:r.y}:null},e}(Ah),Wh=Gh,Yh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polygon",e.canFill=!0,e.canStroke=!0,e}return dh(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,O.S6)(e||n,(function(t,e){"points"===e&&(0,O.kJ)(t)&&t.length>=2?r.setAttribute("points",t.map((function(t){return t[0]+","+t[1]})).join(" ")):yh[e]&&r.setAttribute(yh[e],t)}))},e}(Ah),jh=Yh,Xh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polyline",e.canFill=!0,e.canStroke=!0,e}return dh(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return gh(gh({},e),{startArrow:!1,endArrow:!1})},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,O.S6)(e||n,(function(t,e){"points"===e&&(0,O.kJ)(t)&&t.length>=2?r.setAttribute("points",t.map((function(t){return t[0]+","+t[1]})).join(" ")):yh[e]&&r.setAttribute(yh[e],t)}))},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,O.UM)(e)?(this.set("totalLength",Lu.aH.length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),(0,O.S6)(i,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)})),Lu.x1.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,r,i=0,a=[];(0,O.S6)(t,(function(o,s){t[s+1]&&((n=[])[0]=i/e,r=Lu.x1.length(o[0],o[1],t[s+1][0],t[s+1][1]),i+=r,n[1]=i/e,a.push(n))})),this.set("tCache",a)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(Ah),$h=Xh;var qh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rect",e.canFill=!0,e.canStroke=!0,e}return dh(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return gh(gh({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el"),a=!1,o=["x","y","width","height","radius"];(0,O.S6)(e||r,(function(t,e){-1===o.indexOf(e)||a?-1===o.indexOf(e)&&yh[e]&&i.setAttribute(yh[e],t):(i.setAttribute("d",n._assembleRect(r)),a=!0)}))},e.prototype._assembleRect=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,a=t.radius;if(!a)return"M "+e+","+n+" l "+r+",0 l 0,"+i+" l"+-r+" 0 z";var o=function(t){var e=0,n=0,r=0,i=0;return(0,O.kJ)(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,{r1:e,r2:n,r3:r,r4:i}}(a);return(0,O.kJ)(a)?1===a.length?o.r1=o.r2=o.r3=o.r4=a[0]:2===a.length?(o.r1=o.r3=a[0],o.r2=o.r4=a[1]):3===a.length?(o.r1=a[0],o.r2=o.r4=a[1],o.r3=a[2]):(o.r1=a[0],o.r2=a[1],o.r3=a[2],o.r4=a[3]):o.r1=o.r2=o.r3=o.r4=a,[["M "+(e+o.r1)+","+n],["l "+(r-o.r1-o.r2)+",0"],["a "+o.r2+","+o.r2+",0,0,1,"+o.r2+","+o.r2],["l 0,"+(i-o.r2-o.r3)],["a "+o.r3+","+o.r3+",0,0,1,"+-o.r3+","+o.r3],["l "+(o.r3+o.r4-r)+",0"],["a "+o.r4+","+o.r4+",0,0,1,"+-o.r4+","+-o.r4],["l 0,"+(o.r4+o.r1-i)],["a "+o.r1+","+o.r1+",0,0,1,"+o.r1+","+-o.r1],["z"]].join(" ")},e}(Ah),Zh=qh,Kh=n(9761),Jh={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},Qh={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},tf={left:"left",start:"left",center:"middle",right:"end",end:"end"},ef=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="text",e.canFill=!0,e.canStroke=!0,e}return dh(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return gh(gh({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el");this._setFont(),(0,O.S6)(e||r,(function(t,e){"text"===e?n._setText(""+t):"matrix"===e&&t?wh(n):yh[e]&&i.setAttribute(yh[e],t)})),i.setAttribute("paint-order","stroke"),i.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},e.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,r=e.textAlign,i=(0,Kh.qY)();i&&"firefox"===i.name?t.setAttribute("dominant-baseline",Qh[n]||"alphabetic"):t.setAttribute("alignment-baseline",Jh[n]||"baseline"),t.setAttribute("text-anchor",tf[r]||"left")},e.prototype._setText=function(t){var e=this.get("el"),n=this.attr(),r=n.x,i=n.textBaseline,a=void 0===i?"bottom":i;if(t)if(~t.indexOf("\n")){var o=t.split("\n"),s=o.length-1,l="";(0,O.S6)(o,(function(t,e){0===e?"alphabetic"===a?l+='<tspan x="'+r+'" dy="'+-s+'em">'+t+"</tspan>":"top"===a?l+='<tspan x="'+r+'" dy="0.9em">'+t+"</tspan>":"middle"===a?l+='<tspan x="'+r+'" dy="'+-(s-1)/2+'em">'+t+"</tspan>":"bottom"===a?l+='<tspan x="'+r+'" dy="-'+(s+.3)+'em">'+t+"</tspan>":"hanging"===a&&(l+='<tspan x="'+r+'" dy="'+(-(s-1)-.3)+'em">'+t+"</tspan>"):l+='<tspan x="'+r+'" dy="1em">'+t+"</tspan>"})),e.innerHTML=l}else e.innerHTML=t;else e.innerHTML=""},e}(Ah),nf=ef,rf=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,af=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,of=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function sf(t){var e=t.match(of);if(!e)return"";var n="";return e.sort((function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])})),(0,O.S6)(e,(function(t){t=t.split(":"),n+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'})),n}var lf=function(){function t(t){this.cfg={};var e=null,n=(0,O.EL)("gradient_");return"l"===t.toLowerCase()[0]?function(t,e){var n,r,i=rf.exec(t),a=(0,O.wQ)((0,O.c$)(parseFloat(i[1])),2*Math.PI),o=i[2];a>=0&&a<.5*Math.PI?(n={x:0,y:0},r={x:1,y:1}):.5*Math.PI<=a&&a<Math.PI?(n={x:1,y:0},r={x:0,y:1}):Math.PI<=a&&a<1.5*Math.PI?(n={x:1,y:1},r={x:0,y:0}):(n={x:0,y:1},r={x:1,y:0});var s=Math.tan(a),l=s*s,c=(r.x-n.x+s*(r.y-n.y))/(l+1)+n.x,u=s*(r.x-n.x+s*(r.y-n.y))/(l+1)+n.y;e.setAttribute("x1",n.x),e.setAttribute("y1",n.y),e.setAttribute("x2",c),e.setAttribute("y2",u),e.innerHTML=sf(o)}(t,e=mh("linearGradient")):function(t,e){var n=af.exec(t),r=parseFloat(n[1]),i=parseFloat(n[2]),a=parseFloat(n[3]),o=n[4];e.setAttribute("cx",r),e.setAttribute("cy",i),e.setAttribute("r",a),e.innerHTML=sf(o)}(t,e=mh("radialGradient")),e.setAttribute("id",n),this.el=e,this.id=n,this.cfg=t,this}return t.prototype.match=function(t,e){return this.cfg===e},t}(),cf=lf,uf={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},hf={x:"-40%",y:"-40%",width:"200%",height:"200%"},ff=function(){function t(t){this.type="filter",this.cfg={},this.type="filter";var e=mh("filter");return(0,O.S6)(hf,(function(t,n){e.setAttribute(n,t)})),this.el=e,this.id=(0,O.EL)("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,e),this}return t.prototype.match=function(t,e){if(this.type!==t)return!1;var n=!0,r=this.cfg;return(0,O.S6)(Object.keys(r),(function(t){if(r[t]!==e[t])return n=!1,!1})),n},t.prototype.update=function(t,e){var n=this.cfg;return n[uf[t]]=e,this._parseShadow(n,this.el),this},t.prototype._parseShadow=function(t,e){var n='<feDropShadow\n      dx="'+(t.dx||0)+'"\n      dy="'+(t.dy||0)+'"\n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=n},t}(),pf=ff,df=function(){function t(t,e){this.cfg={};var n=mh("marker"),r=(0,O.EL)("marker_");n.setAttribute("id",r);var i=mh("path");i.setAttribute("stroke",t.stroke||"none"),i.setAttribute("fill",t.fill||"none"),n.appendChild(i),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=i,this.id=r;var a=t["marker-start"===e?"startArrow":"endArrow"];return this.stroke=t.stroke||"#000",!0===a?this._setDefaultPath(e,i):(this.cfg=a,this._setMarker(t.lineWidth,i)),this}return t.prototype.match=function(){return!1},t.prototype._setDefaultPath=function(t,e){var n=this.el;e.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},t.prototype._setMarker=function(t,e){var n=this.el,r=this.cfg.path,i=this.cfg.d;(0,O.kJ)(r)&&(r=r.map((function(t){return t.join(" ")})).join("")),e.setAttribute("d",r),n.appendChild(e),i&&n.setAttribute("refX",""+i/t)},t.prototype.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},t}(),gf=df,vf=function(){function t(t){this.type="clip",this.cfg={};var e=mh("clipPath");this.el=e,this.id=(0,O.EL)("clip_"),e.id=this.id;var n=t.cfg.el;return e.appendChild(n),this.cfg=t,this}return t.prototype.match=function(){return!1},t.prototype.remove=function(){var t=this.el;t.parentNode.removeChild(t)},t}(),yf=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,mf=function(){function t(t){this.cfg={};var e=mh("pattern");e.setAttribute("patternUnits","userSpaceOnUse");var n=mh("image");e.appendChild(n);var r=(0,O.EL)("pattern_");e.id=r,this.el=e,this.id=r,this.cfg=t;var i=yf.exec(t)[2];n.setAttribute("href",i);var a=new Image;function o(){e.setAttribute("width",""+a.width),e.setAttribute("height",""+a.height)}return i.match(/^data:/i)||(a.crossOrigin="Anonymous"),a.src=i,a.complete?o():(a.onload=o,a.src=a.src),this}return t.prototype.match=function(t,e){return this.cfg===e},t}(),xf=function(){function t(t){var e=mh("defs"),n=(0,O.EL)("defs_");e.id=n,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}return t.prototype.find=function(t,e){for(var n=this.children,r=null,i=0;i<n.length;i++)if(n[i].match(t,e)){r=n[i].id;break}return r},t.prototype.findById=function(t){for(var e=this.children,n=null,r=0;r<e.length;r++)if(e[r].id===t){n=e[r];break}return n},t.prototype.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},t.prototype.getDefaultArrow=function(t,e){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var r=new gf(t,e);return this.defaultArrow[n]=r,this.el.appendChild(r.el),this.add(r),r.id},t.prototype.addGradient=function(t){var e=new cf(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addArrow=function(t,e){var n=new gf(t,e);return this.el.appendChild(n.el),this.add(n),n.id},t.prototype.addShadow=function(t){var e=new pf(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addPattern=function(t){var e=new mf(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addClip=function(t){var e=new vf(t);return this.el.appendChild(e.el),this.add(e),e.id},t}(),bf=xf,wf=function(t){function e(e){return t.call(this,gh(gh({},e),{autoDraw:!0,renderer:"svg"}))||this}return dh(e,t),e.prototype.getShapeBase=function(){return p},e.prototype.getGroupBase=function(){return kh},e.prototype.getShape=function(t,e,n){var r=n.target||n.srcElement;if(!vh[r.tagName]){for(var i=r.parentNode;i&&!vh[i.tagName];)i=i.parentNode;r=i}return this.find((function(t){return t.get("el")===r}))},e.prototype.createDom=function(){var t=mh("svg"),e=new bf(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},e.prototype.onCanvasChange=function(t){var e=this.get("context"),n=this.get("el");if("sort"===t){var r=this.get("children");r&&r.length&&bh(this,(function(t,e){return r.indexOf(t)-r.indexOf(e)?1:0}))}else if("clear"===t){if(n){n.innerHTML="";var i=e.el;i.innerHTML="",n.appendChild(i)}}else"matrix"===t?wh(this):"clip"===t?Sh(this,e):"changeSize"===t&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},e.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();Sh(this,t),e.length&&Ch(t,e)},e}(J.AbstractCanvas),Sf=wf,Cf="0.5.6",Tf=function(t){function e(e){var n=t.call(this,e)||this;n.type="path",n.shapeType="line";var r=e.connectNulls,i=void 0!==r&&r,a=e.showSinglePoint,o=void 0===a||a;return n.connectNulls=i,n.showSinglePoint=o,n}return m(e,t),e.prototype.updateElements=function(t,e){var n,r,i,a,o,s;void 0===e&&(e=!1);for(var l=new Map,c=new Map,u=[],h=0,f=0;f<t.length;f++){var p=t[f],d=this.getElementId(p);u.push(d),l.set(d,p),c.set(d,h),h++}this.elements=new Array(h);var g=Wl(this.lastElementsMap,u),v=g.added,y=g.updated,m=g.removed;try{for(var x=C(v),b=x.next();!b.done;b=x.next()){d=b.value,p=l.get(d);var w=this.getShapeFactory(),S=this.getShapeInfo(p);f=c.get(d);(k=new Il({shapeFactory:w,container:this.container,offscreenGroup:this.getOffscreenGroup(),elementIndex:f})).geometry=this,k.animate=this.animateOption,k.draw(S,e),this.elementsMap[d]=k,this.elements[f]=k}}catch(F){n={error:F}}finally{try{b&&!b.done&&(r=x.return)&&r.call(x)}finally{if(n)throw n.error}}try{for(var T=C(y),E=T.next();!E.done;E=T.next()){d=E.value,p=l.get(d);var k=this.lastElementsMap[d],M=(f=c.get(d),S=this.getShapeInfo(p),k.getModel());(this.isCoordinateChanged||Vl(M,S))&&(k.animate=this.animateOption,k.update(S)),this.elementsMap[d]=k,this.elements[f]=k}}catch(I){i={error:I}}finally{try{E&&!E.done&&(a=T.return)&&a.call(T)}finally{if(i)throw i.error}}try{for(var A=C(m),O=A.next();!O.done;O=A.next()){d=O.value;(k=this.lastElementsMap[d]).animate=this.animateOption,k.destroy()}}catch(P){o={error:P}}finally{try{O&&!O.done&&(s=A.return)&&s.call(A)}finally{if(o)throw o.error}}},e.prototype.getPointsAndData=function(t){for(var e=[],n=[],r=0,i=t.length;r<i;r++){var a=t[r];e.push({x:a.x,y:a.y}),n.push(a[V])}return{points:e,data:n}},e.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=this.getPointsAndData(t),r=n.points,i=n.data;return e.mappingData=t,e.data=i,e.isStack=!!this.getAdjust("stack"),e.points=r,e.connectNulls=this.connectNulls,e.showSinglePoint=this.showSinglePoint,e},e}(jl),Ef=Tf;function kf(t,e,n,r,i){var a=[];if(t.length){for(var o=[],s=[],l=0,c=t.length;l<c;l++){var u=t[l];o.push(u[1]),s.push(u[0])}s=s.reverse(),(0,O.S6)([o,s],(function(t,l){var c=[],u=r.parsePoints(t),h=u[0];1===o.length&&1===s.length?c=0===l?[["M",h.x-.5,h.y],["L",h.x+.5,h.y]]:[["L",h.x+.5,h.y],["L",h.x-.5,h.y]]:(e&&u.push({x:h.x,y:h.y}),c=n?zo(u,!1,i):Uo(u,!1),l>0&&(c[0][0]="L")),a=a.concat(c)})),a.push(["Z"])}return a}function Mf(t,e,n,r,i){for(var a=yc(t,e,!e,"lineWidth"),o=t.connectNulls,s=t.isInCircle,l=dc(t.points,o,t.showSinglePoint),c=[],u=0,h=l.length;u<h;u++){var f=l[u];c=c.concat(kf(f,s,n,r,i))}return a.path=c,a}function Af(t){var e=t.start,n=t.end;return[[e.x,n.y],[n.x,e.y]]}Ul("area",{defaultShapeType:"area",getDefaultPoints:function(t){var e=t.x,n=t.y0;return((0,O.kJ)(t.y)?t.y:[n,t.y]).map((function(t){return{x:e,y:t}}))}});zl("area","area",{draw:function(t,e){var n=Mf(t,!1,!1,this);return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:t.color,fillOpacity:1}}}});var Of=function(t){function e(e){var n=t.call(this,e)||this;n.type="area",n.shapeType="area",n.generatePoints=!0,n.startOnZero=!0;var r=e.startOnZero,i=void 0===r||r,a=e.sortable,o=void 0!==a&&a,s=e.showSinglePoint,l=void 0!==s&&s;return n.startOnZero=i,n.sortable=o,n.showSinglePoint=l,n}return m(e,t),e.prototype.getPointsAndData=function(t){for(var e=[],n=[],r=0,i=t.length;r<i;r++){var a=t[r];e.push(a.points),n.push(a[V])}return{points:e,data:n}},e.prototype.getYMinValue=function(){return this.startOnZero?t.prototype.getYMinValue.call(this):this.getYScale().min},e}(Ef),Ff=Of;Ul("edge",{defaultShapeType:"line",getDefaultPoints:function(t){return xc(t)}});zl("edge","line",{draw:function(t,e){var n=yc(t,!0,!1,"lineWidth"),r=Uo(this.parsePoints(t.points),this.coordinate.isPolar);return e.addShape("path",{attrs:x(x({},n),{path:r})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}});var If=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="edge",e.shapeType="edge",e.generatePoints=!0,e}return m(e,t),e}(jl),Pf=If,Df=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="heatmap",e.paletteCache={},e}return m(e,t),e.prototype.updateElements=function(t,e){void 0===e&&(e=!1);for(var n=0;n<t.length;n++){var r=t[n],i=this.prepareRange(r),a=this.prepareSize(),o=(0,O.U2)(this.styleOption,["cfg","shadowBlur"]);(0,O.hj)(o)||(o=a/2),this.prepareGreyScaleBlurredCircle(a,o),this.drawWithRange(r,i,a,o)}},e.prototype.color=function(t,e){return this.createAttrOption("color",t,"function"!==typeof e?e:""),this},e.prototype.clear=function(){t.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},e.prototype.prepareRange=function(t){var e=this.getAttribute("color").getFields()[0],n=1/0,r=-1/0;return t.forEach((function(t){var i=t[V][e];i>r&&(r=i),i<n&&(n=i)})),n===r&&(n=r-1),[n,r]},e.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,O.hj)(t)||(t=this.getDefaultSize()),t},e.prototype.prepareGreyScaleBlurredCircle=function(t,e){var n=this.getGrayScaleBlurredCanvas(),r=t+e,i=n.getContext("2d");n.width=n.height=2*r,i.clearRect(0,0,n.width,n.height),i.shadowOffsetX=i.shadowOffsetY=2*r,i.shadowBlur=e,i.shadowColor="black",i.beginPath(),i.arc(-r,-r,t,0,2*Math.PI,!0),i.closePath(),i.fill()},e.prototype.drawWithRange=function(t,e,n,r){var i,a,o=this.coordinate,s=o.start,l=o.end,c=this.coordinate.getWidth(),u=this.coordinate.getHeight(),h=this.getAttribute("color").getFields()[0];this.clearShadowCanvasCtx();var f=this.getShadowCanvasCtx();e&&(t=t.filter((function(t){return t[V][h]<=e[1]&&t[V][h]>=e[0]})));var p=this.scales[h];try{for(var d=C(t),g=d.next();!g.done;g=d.next()){var v=g.value,y=this.getDrawCfg(v),m=y.x,x=y.y,b=p.scale(v[V][h]);this.drawGrayScaleBlurredCircle(m-s.x,x-l.y,n+r,b,f)}}catch(T){i={error:T}}finally{try{g&&!g.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}var w=f.getImageData(0,0,c,u);this.clearShadowCanvasCtx(),this.colorize(w),f.putImageData(w,0,0);var S=this.getImageShape();S.attr("x",s.x),S.attr("y",l.y),S.attr("width",c),S.attr("height",u),S.attr("img",f.canvas),S.set("origin",this.getShapeInfo(t))},e.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(4*t.scales[0].ticks.length),e.getHeight()/(4*t.scales[1].ticks.length))},e.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},e.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},e.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},e.prototype.drawGrayScaleBlurredCircle=function(t,e,n,r,i){var a=this.getGrayScaleBlurredCanvas();i.globalAlpha=r,i.drawImage(a,t-n,e-n)},e.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,r=this.paletteCache,i=3;i<n.length;i+=4){var a=n[i];if((0,O.hj)(a)){var o=r[a]?r[a]:It.rgb2arr(e.gradient(a/256));n[i-3]=o[0],n[i-2]=o[1],n[i-1]=o[2],n[i]=a}}},e.prototype.getImageShape=function(){var t=this.imageShape;return t||(t=this.container.addShape({type:"image",attrs:{}}),this.imageShape=t,t)},e.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=t.map((function(t){return t[V]}));return x(x({},e),{mappingData:t,data:n})},e}(jl),Lf=Df;function Rf(t){var e,n,r,i,a,o,s=t.x,l=t.y,c=t.y0,u=t.size;(0,O.kJ)(l)?(r=(e=T(l,2))[0],i=e[1]):(r=c,i=l),(0,O.kJ)(s)?(a=(n=T(s,2))[0],o=n[1]):(a=s-u/2,o=s+u/2);var h=[{x:a,y:r},{x:a,y:i}];return h.push({x:o,y:i},{x:o,y:r}),h}function Bf(t,e){void 0===e&&(e=!0);var n=[],r=t[0];n.push(["M",r.x,r.y]);for(var i=1,a=t.length;i<a;i++)n.push(["L",t[i].x,t[i].y]);return e&&(n.push(["L",r.x,r.y]),n.push(["z"])),n}function _f(t,e){var n=0,r=0,i=0,a=0;return(0,O.kJ)(t)?1===t.length?n=r=i=a=t[0]:2===t.length?(n=i=t[0],r=a=t[1]):3===t.length?(n=t[0],r=a=t[1],i=t[2]):(n=t[0],r=t[1],i=t[2],a=t[3]):n=r=i=a=t,n+r>e&&(r=e-(n=n?e/(1+r/n):0)),i+a>e&&(a=e-(i=i?e/(1+a/i):0)),[n||0,r||0,i||0,a||0]}function Nf(t,e,n){var r=[];if(n.isRect){var i=n.isTransposed?{x:n.start.x,y:e[0].y}:{x:e[0].x,y:n.start.y},a=n.isTransposed?{x:n.end.x,y:e[2].y}:{x:e[3].x,y:n.end.y},o=(0,O.U2)(t,["background","style","radius"]);if(o){var s=n.isTransposed?Math.abs(e[0].y-e[2].y):e[2].x-e[1].x,l=n.isTransposed?n.getWidth():n.getHeight(),c=T(_f(o,Math.min(s,l)),4),u=c[0],h=c[1],f=c[2],p=c[3],d=n.isTransposed&&n.isReflect("y"),g=d?0:1,v=function(t){return d?-t:t};r.push(["M",i.x,a.y+v(u)]),0!==u&&r.push(["A",u,u,0,0,g,i.x+u,a.y]),r.push(["L",a.x-h,a.y]),0!==h&&r.push(["A",h,h,0,0,g,a.x,a.y+v(h)]),r.push(["L",a.x,i.y-v(f)]),0!==f&&r.push(["A",f,f,0,0,g,a.x-f,i.y]),r.push(["L",i.x+p,i.y]),0!==p&&r.push(["A",p,p,0,0,g,i.x,i.y-v(p)])}else r.push(["M",i.x,i.y]),r.push(["L",a.x,i.y]),r.push(["L",a.x,a.y]),r.push(["L",i.x,a.y]),r.push(["L",i.x,i.y]);r.push(["z"])}if(n.isPolar){var y=n.getCenter(),m=Qa(t,n),x=m.startAngle,b=m.endAngle;if("theta"===n.type||n.isTransposed){var w=function(t){return Math.pow(t,2)};u=Math.sqrt(w(y.x-e[0].x)+w(y.y-e[0].y)),h=Math.sqrt(w(y.x-e[2].x)+w(y.y-e[2].y));r=Ka(y.x,y.y,u,n.startAngle,n.endAngle,h)}else r=Ka(y.x,y.y,n.getRadius(),x,b)}return r}function Uf(t,e,n){var r=[];return(0,O.UM)(e)?n?r.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",(t[2].x+t[3].x)/2,(t[2].y+t[3].y)/2],["Z"]):r.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]):r.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",e[1].x,e[1].y],["L",e[0].x,e[0].y],["Z"]),r}function zf(t,e){return[e,t]}Ul("interval",{defaultShapeType:"rect",getDefaultPoints:function(t){return Rf(t)}});zl("interval","rect",{draw:function(t,e){var n,r=yc(t,!1,!0),i=e,a=null===t||void 0===t?void 0:t.background;if(a){i=e.addGroup({name:"interval-group"});var o=mc(t),s=Nf(t,this.parsePoints(t.points),this.coordinate);i.addShape("path",{attrs:x(x({},o),{path:s}),capture:!1,zIndex:-1,name:Ol})}n=r.radius&&this.coordinate.isRect?function(t,e,n){var r,i,a,o,s,l,c,u=T(E([],T(t),!1),4),h=u[0],f=u[1],p=u[2],d=u[3],g=T("number"===typeof n?Array(4).fill(n):n,4),v=g[0],y=g[1],m=g[2],x=g[3];e.isTransposed&&(f=(r=T(zf(f,d),2))[0],d=r[1]),e.isReflect("y")&&(h=(i=T(zf(h,f),2))[0],f=i[1],p=(a=T(zf(p,d),2))[0],d=a[1]),e.isReflect("x")&&(h=(o=T(zf(h,d),2))[0],d=o[1],f=(s=T(zf(f,p),2))[0],p=s[1]);var b=[],w=function(t){return Math.abs(t)};return v=(l=T(_f([v,y,m,x],Math.min(w(d.x-h.x),w(f.y-h.y))).map((function(t){return w(t)})),4))[0],y=l[1],m=l[2],x=l[3],e.isTransposed&&(v=(c=T([x,v,y,m],4))[0],y=c[1],m=c[2],x=c[3]),h.y<f.y?(b.push(["M",d.x,d.y+m]),0!==m&&b.push(["A",m,m,0,0,0,d.x-m,d.y]),b.push(["L",h.x+x,h.y]),0!==x&&b.push(["A",x,x,0,0,0,h.x,h.y+x]),b.push(["L",f.x,f.y-v]),0!==v&&b.push(["A",v,v,0,0,0,f.x+v,f.y]),b.push(["L",p.x-y,p.y]),0!==y&&b.push(["A",y,y,0,0,0,p.x,p.y-y]),b.push(["L",d.x,d.y+m]),b.push(["z"])):d.x<h.x?(b.push(["M",p.x+y,p.y]),0!==y&&b.push(["A",y,y,0,0,0,p.x,p.y+y]),b.push(["L",d.x,d.y-m]),0!==m&&b.push(["A",m,m,0,0,0,d.x+m,d.y]),b.push(["L",h.x-x,h.y]),0!==x&&b.push(["A",x,x,0,0,0,h.x,h.y-x]),b.push(["L",f.x,f.y+v]),0!==v&&b.push(["A",v,v,0,0,0,f.x-v,f.y]),b.push(["L",p.x+y,p.y]),b.push(["z"])):(b.push(["M",f.x,f.y+v]),0!==v&&b.push(["A",v,v,0,0,1,f.x+v,f.y]),b.push(["L",p.x-y,p.y]),0!==y&&b.push(["A",y,y,0,0,1,p.x,p.y+y]),b.push(["L",d.x,d.y-m]),0!==m&&b.push(["A",m,m,0,0,1,d.x-m,d.y]),b.push(["L",h.x+x,h.y]),0!==x&&b.push(["A",x,x,0,0,1,h.x,h.y-x]),b.push(["L",f.x,f.y+v]),b.push(["z"])),b}(this.parsePoints(t.points),this.coordinate,r.radius):this.parsePath(function(t,e,n){var r=n.getWidth(),i=n.getHeight(),a="rect"===n.type,o=[],s=(t[2].x-t[1].x)/2,l=n.isTransposed?s*i/r:s*r/i;return"round"===e?(a?(o.push(["M",t[0].x,t[0].y+l]),o.push(["L",t[1].x,t[1].y-l]),o.push(["A",s,s,0,0,1,t[2].x,t[2].y-l]),o.push(["L",t[3].x,t[3].y+l]),o.push(["A",s,s,0,0,1,t[0].x,t[0].y+l])):(o.push(["M",t[0].x,t[0].y]),o.push(["L",t[1].x,t[1].y]),o.push(["A",s,s,0,0,1,t[2].x,t[2].y]),o.push(["L",t[3].x,t[3].y]),o.push(["A",s,s,0,0,1,t[0].x,t[0].y])),o.push(["z"])):o=Bf(t),o}(t.points,r.lineCap,this.coordinate));var l=i.addShape("path",{attrs:x(x({},r),{path:n}),name:"interval"});return a?i:l},getMarker:function(t){var e=t.color;return t.isInPolar?{symbol:"circle",style:{r:4.5,fill:e}}:{symbol:"square",style:{r:4,fill:e}}}});function Hf(t){var e=t.theme,n=t.coordinate,r=t.getXScale(),i=r.values,a=t.beforeMappingData,o=i.length,s=ao(t.coordinate),l=t.intervalPadding,c=t.dodgePadding,u=t.maxColumnWidth||e.maxColumnWidth,h=t.minColumnWidth||e.minColumnWidth,f=t.columnWidthRatio||e.columnWidthRatio,p=t.multiplePieWidthRatio||e.multiplePieWidthRatio,d=t.roseWidthRatio||e.roseWidthRatio;if(r.isLinear&&i.length>1){i.sort();var g=function(t,e){var n=t.length,r=t;(0,O.HD)(r[0])&&(r=t.map((function(t){return e.translate(t)})));for(var i=r[1]-r[0],a=2;a<n;a++){var o=r[a]-r[a-1];i>o&&(i=o)}return i}(i,r);o=(r.max-r.min)/g,i.length>o&&(o=i.length)}var v=r.range,y=1/o,m=1;(n.isPolar?m=n.isTransposed&&o>1?p:d:(r.isLinear&&(y*=v[1]-v[0]),m=f),!(0,O.UM)(l)&&l>=0)?y=(1-(o-1)*(l/s))/o:y*=m;if(t.getAdjust("dodge")){var x=function(t,e){if(e){var n=(0,O.xH)(t);return(0,O.I)(n,e).length}return t.length}(a,t.getAdjust("dodge").dodgeBy);if(!(0,O.UM)(c)&&c>=0)y=(y-c/s*(x-1))/x;else!(0,O.UM)(l)&&l>=0?(y*=m,y/=x):y/=x;y=y>=0?y:0}if(!(0,O.UM)(u)&&u>=0){var b=u/s;y>b&&(y=b)}if(!(0,O.UM)(h)&&h>=0){var w=h/s;y<w&&(y=w)}return y}var Vf=function(t){function e(e){var n=t.call(this,e)||this;n.type="interval",n.shapeType="interval",n.generatePoints=!0;var r=e.background;return n.background=r,n}return m(e,t),e.prototype.createShapePointsCfg=function(e){var n,r=t.prototype.createShapePointsCfg.call(this,e),i=this.getAttribute("size");i?(n=this.getAttributeValues(i,e)[0],n/=ao(this.coordinate)):(this.defaultSize||(this.defaultSize=Hf(this)),n=this.defaultSize);return r.size=n,r},e.prototype.adjustScale=function(){t.prototype.adjustScale.call(this);var e=this.getYScale();if("theta"===this.coordinate.type)e.change({nice:!1,min:0,max:go(e)});else{var n=this.scaleDefs,r=e.field,i=e.min,a=e.max;"time"!==e.type&&(i>0&&!(0,O.U2)(n,[r,"min"])&&e.change({min:0}),a<=0&&!(0,O.U2)(n,[r,"max"])&&e.change({max:0}))}},e.prototype.getDrawCfg=function(e){var n=t.prototype.getDrawCfg.call(this,e);return n.background=this.background,n},e}(jl),Gf=Vf,Wf=function(t){function e(e){var n=t.call(this,e)||this;n.type="line";var r=e.sortable,i=void 0!==r&&r;return n.sortable=i,n}return m(e,t),e}(Ef),Yf=Wf,jf=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"];function Xf(t,e,n,r,i){var a,o,s=yc(e,i,!i,"r"),l=t.parsePoints(e.points),c=l[0];if(e.isStack)c=l[1];else if(l.length>1){var u=n.addGroup();try{for(var h=C(l),f=h.next();!f.done;f=h.next()){var p=f.value;u.addShape({type:"marker",attrs:x(x(x({},s),{symbol:oc[r]||r}),p)})}}catch(d){a={error:d}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(a)throw a.error}}return u}return n.addShape({type:"marker",attrs:x(x(x({},s),{symbol:oc[r]||r}),c)})}Ul("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(t){return xc(t)}});(0,O.S6)(jf,(function(t){zl("point","hollow-".concat(t),{draw:function(e,n){return Xf(this,e,n,t,!0)},getMarker:function(e){var n=e.color;return{symbol:oc[t]||t,style:{r:4.5,stroke:n,fill:null}}}})}));var $f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="point",e.shapeType="point",e.generatePoints=!0,e}return m(e,t),e.prototype.getDrawCfg=function(e){var n=t.prototype.getDrawCfg.call(this,e);return x(x({},n),{isStack:!!this.getAdjust("stack")})},e}(jl),qf=$f;Ul("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(t){var e=[];return(0,O.S6)(t.x,(function(n,r){var i=t.y[r];e.push({x:n,y:i})})),e}});zl("polygon","polygon",{draw:function(t,e){if(!(0,O.xb)(t.points)){var n=yc(t,!0,!0),r=this.parsePath(function(t){for(var e=t[0],n=1,r=[["M",e.x,e.y]];n<t.length;){var i=t[n];i.x===t[n-1].x&&i.y===t[n-1].y||(r.push(["L",i.x,i.y]),i.x===e.x&&i.y===e.y&&n<t.length-1&&(e=t[n+1],r.push(["Z"]),r.push(["M",e.x,e.y]),n++)),n++}return(0,O.Xy)((0,O.Z$)(r),e)||r.push(["L",e.x,e.y]),r.push(["Z"]),r}(t.points));return e.addShape("path",{attrs:x(x({},n),{path:r}),name:"polygon"})}},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}});var Zf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polygon",e.shapeType="polygon",e.generatePoints=!0,e}return m(e,t),e.prototype.createShapePointsCfg=function(e){var n,r=t.prototype.createShapePointsCfg.call(this,e),i=r.x,a=r.y;if(!(0,O.kJ)(i)||!(0,O.kJ)(a)){var o=this.getXScale(),s=this.getYScale(),l=.5/o.values.length,c=.5/s.values.length;o.isCategory&&s.isCategory?(i=[i-l,i-l,i+l,i+l],a=[a-c,a+c,a+c,a-c]):(0,O.kJ)(i)?(i=[(n=i)[0],n[0],n[1],n[1]],a=[a-c/2,a+c/2,a+c/2,a-c/2]):(0,O.kJ)(a)&&(a=[(n=a)[0],n[1],n[1],n[0]],i=[i-l/2,i-l/2,i+l/2,i+l/2]),r.x=i,r.y=a}return r},e}(jl),Kf=Zf,Jf=(Ul("schema",{defaultShapeType:""}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="schema",e.shapeType="schema",e.generatePoints=!0,e}return m(e,t),e.prototype.createShapePointsCfg=function(e){var n,r=t.prototype.createShapePointsCfg.call(this,e),i=this.getAttribute("size");i?(n=this.getAttributeValues(i,e)[0],n/=ao(this.coordinate)):(this.defaultSize||(this.defaultSize=Hf(this)),n=this.defaultSize);return r.size=n,r},e}(jl)),Qf=Jf;Ul("violin",{defaultShapeType:"violin",getDefaultPoints:function(t){var e=t.size/2,n=[],r=function(t){if(!(0,O.kJ)(t))return[];var e=(0,O.Fp)(t);return(0,O.UI)(t,(function(t){return t/e}))}(t._size);return(0,O.S6)(t.y,(function(i,a){var o=r[a]*e,s=0===a,l=a===t.y.length-1;n.push({isMin:s,isMax:l,x:t.x-o,y:i}),n.unshift({isMin:s,isMax:l,x:t.x+o,y:i})})),n}});zl("violin","violin",{draw:function(t,e){var n=yc(t,!0,!0),r=this.parsePath(gc(t.points));return e.addShape("path",{attrs:x(x({},n),{path:r}),name:"violin"})},getMarker:function(t){return{symbol:"circle",style:{r:4,fill:t.color}}}});var tp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="violin",e.shapeType="violin",e.generatePoints=!0,e}return m(e,t),e.prototype.createShapePointsCfg=function(e){var n,r=t.prototype.createShapePointsCfg.call(this,e),i=this.getAttribute("size");i?(n=this.getAttributeValues(i,e)[0],n/=ao(this.coordinate)):(this.defaultSize||(this.defaultSize=Hf(this)),n=this.defaultSize);return r.size=n,r._size=(0,O.U2)(e[V],[this._sizeField]),r},e.prototype.initAttributes=function(){var e=this.attributeOption,n=e.size?e.size.fields[0]:this._sizeField?this._sizeField:"size";this._sizeField=n,delete e.size,t.prototype.initAttributes.call(this)},e}(jl),ep=tp;function np(t,e){return["C",1*t.x/2+1*e.x/2,t.y,1*t.x/2+1*e.x/2,e.y,e.x,e.y]}function rp(t,e){var n=[];n.push({x:e.x,y:e.y}),n.push(t);var r=["Q"];return(0,O.S6)(n,(function(t){r.push(t.x,t.y)})),r}zl("area","line",{draw:function(t,e){var n=Mf(t,!0,!1,this);return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:t.color,fill:null}}}}),zl("area","smooth",{draw:function(t,e){var n=Mf(t,!1,!0,this,Af(this.coordinate));return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:t.color,fillOpacity:1}}}}),zl("area","smooth-line",{draw:function(t,e){var n=Mf(t,!0,!0,this,Af(this.coordinate));return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:t.color,fill:null}}}}),zl("edge","arc",{draw:function(t,e){var n,r=yc(t,!0,!1,"lineWidth"),i=t.points,a=i.length>2?"weight":"normal";if(t.isInCircle){var o={x:0,y:1};return"normal"===a?n=function(t,e,n){var r=rp(e,n),i=[["M",t.x,t.y]];return i.push(r),i}(i[0],i[1],o):(r.fill=r.stroke,n=function(t,e){var n=rp(t[1],e),r=rp(t[3],e),i=[["M",t[0].x,t[0].y]];return i.push(r),i.push(["L",t[3].x,t[3].y]),i.push(["L",t[2].x,t[2].y]),i.push(n),i.push(["L",t[1].x,t[1].y]),i.push(["L",t[0].x,t[0].y]),i.push(["Z"]),i}(i,o)),n=this.parsePath(n),e.addShape("path",{attrs:x(x({},r),{path:n})})}if("normal"===a)return n=Ja(((i=this.parsePoints(i))[1].x+i[0].x)/2,i[0].y,Math.abs(i[1].x-i[0].x)/2,Math.PI,2*Math.PI),e.addShape("path",{attrs:x(x({},r),{path:n})});var s=np(i[1],i[3]),l=np(i[2],i[0]);return n=[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],s,["L",i[3].x,i[3].y],["L",i[2].x,i[2].y],l,["Z"]],n=this.parsePath(n),r.fill=r.stroke,e.addShape("path",{attrs:x(x({},r),{path:n})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),zl("edge","smooth",{draw:function(t,e){var n=yc(t,!0,!1,"lineWidth"),r=t.points,i=this.parsePath(function(t,e){var n=np(t,e),r=[["M",t.x,t.y]];return r.push(n),r}(r[0],r[1]));return e.addShape("path",{attrs:x(x({},n),{path:i})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}});var ip=1/3;zl("edge","vhv",{draw:function(t,e){var n=yc(t,!0,!1,"lineWidth"),r=t.points,i=this.parsePath(function(t,e){var n=[];n.push({x:t.x,y:t.y*(1-ip)+e.y*ip}),n.push({x:e.x,y:t.y*(1-ip)+e.y*ip}),n.push(e);var r=[["M",t.x,t.y]];return(0,O.S6)(n,(function(t){r.push(["L",t.x,t.y])})),r}(r[0],r[1]));return e.addShape("path",{attrs:x(x({},n),{path:i})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),zl("interval","funnel",{getPoints:function(t){return t.size=2*t.size,Rf(t)},draw:function(t,e){var n=yc(t,!1,!0),r=this.parsePath(Uf(t.points,t.nextPoints,!1));return e.addShape("path",{attrs:x(x({},n),{path:r}),name:"interval"})},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),zl("interval","hollow-rect",{draw:function(t,e){var n=yc(t,!0,!1),r=e,i=null===t||void 0===t?void 0:t.background;if(i){r=e.addGroup();var a=mc(t),o=Nf(t,this.parsePoints(t.points),this.coordinate);r.addShape("path",{attrs:x(x({},a),{path:o}),capture:!1,zIndex:-1,name:Ol})}var s=this.parsePath(Bf(t.points)),l=r.addShape("path",{attrs:x(x({},n),{path:s}),name:"interval"});return i?r:l},getMarker:function(t){var e=t.color;return t.isInPolar?{symbol:"circle",style:{r:4.5,stroke:e,fill:null}}:{symbol:"square",style:{r:4,stroke:e,fill:null}}}}),zl("interval","line",{getPoints:function(t){return function(t){var e=t.x,n=t.y,r=t.y0;return(0,O.kJ)(n)?n.map((function(t,n){return{x:(0,O.kJ)(e)?e[n]:e,y:t}})):[{x:e,y:r},{x:e,y:n}]}(t)},draw:function(t,e){var n=yc(t,!0,!1,"lineWidth"),r=no(x({},n),["fill"]),i=this.parsePath(Bf(t.points,!1));return e.addShape("path",{attrs:x(x({},r),{path:i}),name:"interval"})},getMarker:function(t){return{symbol:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]},style:{r:5,stroke:t.color}}}}),zl("interval","pyramid",{getPoints:function(t){return t.size=2*t.size,Rf(t)},draw:function(t,e){var n=yc(t,!1,!0),r=this.parsePath(Uf(t.points,t.nextPoints,!0));return e.addShape("path",{attrs:x(x({},n),{path:r}),name:"interval"})},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),zl("interval","tick",{getPoints:function(t){return function(t){var e,n,r,i=t.x,a=t.y,o=t.y0,s=t.size;(0,O.kJ)(a)?(n=(e=T(a,2))[0],r=e[1]):(n=o,r=a);var l=i+s/2,c=i-s/2;return[{x:i,y:n},{x:i,y:r},{x:c,y:n},{x:l,y:n},{x:c,y:r},{x:l,y:r}]}(t)},draw:function(t,e){var n,r=yc(t,!0,!1),i=this.parsePath([["M",(n=t.points)[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["M",n[4].x,n[4].y],["L",n[5].x,n[5].y]]);return e.addShape("path",{attrs:x(x({},r),{path:i}),name:"interval"})},getMarker:function(t){return{symbol:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},style:{r:5,stroke:t.color}}}});var ap=function(t,e,n){var r,i=t.x,a=t.y,o=e.x,s=e.y;switch(n){case"hv":r=[{x:o,y:a}];break;case"vh":r=[{x:i,y:s}];break;case"hvh":var l=(o+i)/2;r=[{x:l,y:a},{x:l,y:s}];break;case"vhv":var c=(a+s)/2;r=[{x:i,y:c},{x:o,y:c}]}return r};function op(t,e){var n=dc(t.points,t.connectNulls,t.showSinglePoint),r=[];return(0,O.S6)(n,(function(t){var n=function(t,e){var n=[];return(0,O.S6)(t,(function(r,i){var a=t[i+1];if(n.push(r),a){var o=ap(r,a,e);n=n.concat(o)}})),n}(t,e);r=r.concat(function(t){return t.map((function(t,e){return 0===e?["M",t.x,t.y]:["L",t.x,t.y]}))}(n))})),x(x({},yc(t,!0,!1,"lineWidth")),{path:r})}function sp(t){var e=(0,O.kJ)(t)?t:[t],n=e[0],r=e[e.length-1],i=e.length>1?e[1]:n;return{min:n,max:r,min1:i,max1:e.length>3?e[3]:r,median:e.length>2?e[2]:i}}function lp(t,e,n){var r,i=n/2;if((0,O.kJ)(e)){var a=sp(e),o=a.min,s=a.max,l=a.median,c=a.min1,u=t-i,h=t+i;r=[[u,s],[h,s],[t,s],[t,f=a.max1],[u,c],[u,f],[h,f],[h,c],[t,c],[t,o],[u,o],[h,o],[u,l],[h,l]]}else{e=(0,O.UM)(e)?.5:e;var f,p=sp(t),d=(o=p.min,s=p.max,l=p.median,e-i),g=e+i;r=[[o,d],[o,g],[o,e],[c=p.min1,e],[c,d],[c,g],[f=p.max1,g],[f,d],[f,e],[s,e],[s,d],[s,g],[l,d],[l,g]]}return r.map((function(t){return{x:t[0],y:t[1]}}))}function cp(t){var e=((0,O.kJ)(t)?t:[t]).sort((function(t,e){return e-t}));return function(t,e,n){if((0,O.HD)(t))return t.padEnd(e,n);if((0,O.kJ)(t)){var r=t.length;if(r<e)for(var i=e-r,a=0;a<i;a++)t.push(n)}return t}(e,4,e[e.length-1])}function up(t,e,n){var r=cp(e);return[{x:t,y:r[0]},{x:t,y:r[1]},{x:t-n/2,y:r[2]},{x:t-n/2,y:r[1]},{x:t+n/2,y:r[1]},{x:t+n/2,y:r[2]},{x:t,y:r[2]},{x:t,y:r[3]}]}function hp(t,e){var n=Math.abs(t[0].x-t[2].x),r=Math.abs(t[0].y-t[2].y),i=Math.min(n,r);return e&&(i=(0,O.uZ)(e,0,Math.min(n,r))),i/=2,{x:(t[0].x+t[2].x)/2-i,y:(t[0].y+t[2].y)/2-i,width:2*i,height:2*i}}(0,O.S6)(["hv","vh","hvh","vhv"],(function(t){zl("line",t,{draw:function(e,n){var r=op(e,t);return n.addShape({type:"path",attrs:r,name:"line"})},getMarker:function(e){return wc(e,t)}})})),(0,O.S6)(["cross","tick","plus","hyphen","line"],(function(t){zl("point",t,{draw:function(e,n){return Xf(this,e,n,t,!0)},getMarker:function(e){var n=e.color;return{symbol:oc[t],style:{r:4.5,stroke:n,fill:null}}}})})),zl("point","image",{draw:function(t,e){var n,r,i=yc(t,!1,!1,"r").r,a=this.parsePoints(t.points),o=a[0];if(t.isStack)o=a[1];else if(a.length>1){var s=e.addGroup();try{for(var l=C(a),c=l.next();!c.done;c=l.next()){var u=c.value;s.addShape("image",{attrs:{x:u.x-i/2,y:u.y-i,width:i,height:i,img:t.shape[1]}})}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return s}return e.addShape("image",{attrs:{x:o.x-i/2,y:o.y-i,width:i,height:i,img:t.shape[1]}})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),(0,O.S6)(jf,(function(t){zl("point",t,{draw:function(e,n){return Xf(this,e,n,t,!1)},getMarker:function(e){var n=e.color;return{symbol:oc[t]||t,style:{r:4.5,fill:n}}}})})),zl("schema","box",{getPoints:function(t){return lp(t.x,t.y,t.size)},draw:function(t,e){var n,r=yc(t,!0,!1),i=this.parsePath([["M",(n=t.points)[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["M",n[4].x,n[4].y],["L",n[5].x,n[5].y],["L",n[6].x,n[6].y],["L",n[7].x,n[7].y],["L",n[4].x,n[4].y],["Z"],["M",n[8].x,n[8].y],["L",n[9].x,n[9].y],["M",n[10].x,n[10].y],["L",n[11].x,n[11].y],["M",n[12].x,n[12].y],["L",n[13].x,n[13].y]]);return e.addShape("path",{attrs:x(x({},r),{path:i,name:"schema"})})},getMarker:function(t){return{symbol:function(t,e,n){var r=lp(t,[e-6,e-3,e,e+3,e+6],n);return[["M",r[0].x+1,r[0].y],["L",r[1].x-1,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["M",r[4].x,r[4].y],["L",r[5].x,r[5].y],["L",r[6].x,r[6].y],["L",r[7].x,r[7].y],["L",r[4].x,r[4].y],["Z"],["M",r[8].x,r[8].y],["L",r[9].x,r[9].y],["M",r[10].x+1,r[10].y],["L",r[11].x-1,r[11].y],["M",r[12].x,r[12].y],["L",r[13].x,r[13].y]]},style:{r:6,lineWidth:1,stroke:t.color}}}}),zl("schema","candle",{getPoints:function(t){return up(t.x,t.y,t.size)},draw:function(t,e){var n,r=yc(t,!0,!0),i=this.parsePath([["M",(n=t.points)[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["L",n[4].x,n[4].y],["L",n[5].x,n[5].y],["Z"],["M",n[6].x,n[6].y],["L",n[7].x,n[7].y]]);return e.addShape("path",{attrs:x(x({},r),{path:i,name:"schema"})})},getMarker:function(t){var e=t.color;return{symbol:function(t,e,n){var r=up(t,[e+7.5,e+3,e-3,e-7.5],n);return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["L",r[4].x,r[4].y],["L",r[5].x,r[5].y],["Z"],["M",r[6].x,r[6].y],["L",r[7].x,r[7].y]]},style:{lineWidth:1,stroke:e,fill:e,r:6}}}}),zl("polygon","square",{draw:function(t,e){if(!(0,O.xb)(t.points)){var n=yc(t,!0,!0),r=this.parsePoints(t.points);return e.addShape("rect",{attrs:x(x({},n),hp(r,t.size)),name:"polygon"})}},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),zl("violin","smooth",{draw:function(t,e){var n=yc(t,!0,!0),r=this.parsePath(vc(t.points));return e.addShape("path",{attrs:x(x({},n),{path:r})})},getMarker:function(t){return{symbol:"circle",style:{stroke:null,r:4,fill:t.color}}}}),zl("violin","hollow",{draw:function(t,e){var n=yc(t,!0,!1),r=this.parsePath(gc(t.points));return e.addShape("path",{attrs:x(x({},n),{path:r})})},getMarker:function(t){return{symbol:"circle",style:{r:4,fill:null,stroke:t.color}}}}),zl("violin","hollow-smooth",{draw:function(t,e){var n=yc(t,!0,!1),r=this.parsePath(vc(t.points));return e.addShape("path",{attrs:x(x({},n),{path:r})})},getMarker:function(t){return{symbol:"circle",style:{r:4,fill:null,stroke:t.color}}}});var fp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.getLabelValueDir=function(t){var e=t.points;return e[0].y<=e[2].y?1:-1},e.prototype.getLabelOffsetPoint=function(e,n,r,i){var a,o=t.prototype.getLabelOffsetPoint.call(this,e,n,r),s=this.getCoordinate(),l=s.isTransposed?"x":"y",c=this.getLabelValueDir(e.mappingData);return o=x(x({},o),((a={})[l]=o[l]*c,a)),s.isReflect("x")&&(o=x(x({},o),{x:-1*o.x})),s.isReflect("y")&&(o=x(x({},o),{y:-1*o.y})),o},e.prototype.getThemedLabelCfg=function(t){var e=this.geometry,n=this.getDefaultLabelCfg(),r=e.theme;return(0,O.b$)({},n,r.labels,"middle"===t.position?{offset:0}:{},t)},e.prototype.setLabelPosition=function(t,e,n,r){var i,a,o,s,l=this.getCoordinate(),c=l.isTransposed,u=e.points,h=l.convert(u[0]),f=l.convert(u[2]),p=this.getLabelValueDir(e),d=(0,O.kJ)(e.shape)?e.shape[0]:e.shape;if("funnel"===d||"pyramid"===d){var g=(0,O.U2)(e,"nextPoints"),v=(0,O.U2)(e,"points");if(g){var y=l.convert(v[0]),m=l.convert(v[1]),x=l.convert(g[0]),b=l.convert(g[1]);c?(i=Math.min(x.y,y.y),o=Math.max(x.y,y.y),a=(m.x+b.x)/2,s=(y.x+x.x)/2):(i=Math.min((m.y+b.y)/2,(y.y+x.y)/2),o=Math.max((m.y+b.y)/2,(y.y+x.y)/2),a=b.x,s=y.x)}else i=Math.min(f.y,h.y),o=Math.max(f.y,h.y),a=f.x,s=h.x}else i=Math.min(f.y,h.y),o=Math.max(f.y,h.y),a=f.x,s=h.x;switch(r){case"right":t.x=a,t.y=(i+o)/2,t.textAlign=(0,O.U2)(t,"textAlign",p>0?"left":"right");break;case"left":t.x=s,t.y=(i+o)/2,t.textAlign=(0,O.U2)(t,"textAlign",p>0?"left":"right");break;case"bottom":c&&(t.x=(a+s)/2),t.y=o,t.textAlign=(0,O.U2)(t,"textAlign","center"),t.textBaseline=(0,O.U2)(t,"textBaseline",p>0?"bottom":"top");break;case"middle":c&&(t.x=(a+s)/2),t.y=(i+o)/2,t.textAlign=(0,O.U2)(t,"textAlign","center"),t.textBaseline=(0,O.U2)(t,"textBaseline","middle");break;case"top":c&&(t.x=(a+s)/2),t.y=i,t.textAlign=(0,O.U2)(t,"textAlign","center"),t.textBaseline=(0,O.U2)(t,"textBaseline",p>0?"bottom":"top")}},e}(ic),pp=fp,dp=Math.PI/2,gp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.getLabelOffset=function(t){var e=this.getCoordinate(),n=0;if((0,O.hj)(t))n=t;else if((0,O.HD)(t)&&-1!==t.indexOf("%")){var r=e.getRadius();e.innerRadius>0&&(r*=1-e.innerRadius),n=.01*parseFloat(t)*r}return n},e.prototype.getLabelItems=function(e){var n=t.prototype.getLabelItems.call(this,e),r=this.geometry.getYScale();return(0,O.UI)(n,(function(t){if(t&&r){var e=r.scale((0,O.U2)(t.data,r.field));return x(x({},t),{percent:e})}return t}))},e.prototype.getLabelAlign=function(t){var e,n=this.getCoordinate();if(t.labelEmit)e=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(n.isTransposed){var r=n.getCenter(),i=t.offset;e=Math.abs(t.x-r.x)<1?"center":t.angle>Math.PI||t.angle<=0?i>0?"left":"right":i>0?"right":"left"}else e="center";return e},e.prototype.getLabelPoint=function(t,e,n){var r,i=1,a=t.content[n];this.isToMiddle(e)?r=this.getMiddlePoint(e.points):(1===t.content.length&&0===n?n=1:0===n&&(i=-1),r=this.getArcPoint(e,n));var o=t.offset*i,s=this.getPointAngle(r),l=t.labelEmit,c=this.getCirclePoint(s,o,r,l);return 0===c.r?c.content="":(c.content=a,c.angle=s,c.color=e.color),c.rotate=t.autoRotate?this.getLabelRotate(s,o,l):t.rotate,c.start={x:r.x,y:r.y},c},e.prototype.getArcPoint=function(t,e){return void 0===e&&(e=0),(0,O.kJ)(t.x)||(0,O.kJ)(t.y)?{x:(0,O.kJ)(t.x)?t.x[e]:t.x,y:(0,O.kJ)(t.y)?t.y[e]:t.y}:{x:t.x,y:t.y}},e.prototype.getPointAngle=function(t){return so(this.getCoordinate(),t)},e.prototype.getCirclePoint=function(t,e,n,r){var i=this.getCoordinate(),a=i.getCenter(),o=oo(i,n);if(0===o)return x(x({},a),{r:o});var s=t;i.isTransposed&&o>e&&!r?s=t+2*Math.asin(e/(2*o)):o+=e;return{x:a.x+o*Math.cos(s),y:a.y+o*Math.sin(s),r:o}},e.prototype.getLabelRotate=function(t,e,n){var r=t+dp;return n&&(r-=dp),r&&(r>dp?r-=Math.PI:r<-dp&&(r+=Math.PI)),r},e.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),n=t.length,r={x:0,y:0};return(0,O.S6)(t,(function(t){r.x+=t.x,r.y+=t.y})),r.x/=n,r.y/=n,r=e.convert(r)},e.prototype.isToMiddle=function(t){return t.x.length>2},e}(ic),vp=gp,yp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultLayout="distribute",e}return m(e,t),e.prototype.getDefaultLabelCfg=function(e,n){var r=t.prototype.getDefaultLabelCfg.call(this,e,n);return(0,O.b$)({},r,(0,O.U2)(this.geometry.theme,"pieLabels",{}))},e.prototype.getLabelOffset=function(e){return t.prototype.getLabelOffset.call(this,e)||0},e.prototype.getLabelRotate=function(t,e,n){var r;return e<0&&((r=t)>Math.PI/2&&(r-=Math.PI),r<-Math.PI/2&&(r+=Math.PI)),r},e.prototype.getLabelAlign=function(t){var e,n=this.getCoordinate().getCenter();return e=t.angle<=Math.PI/2&&t.x>=n.x?"left":"right",t.offset<=0&&(e="right"===e?"left":"right"),e},e.prototype.getArcPoint=function(t){return t},e.prototype.getPointAngle=function(t){var e,n=this.getCoordinate(),r={x:(0,O.kJ)(t.x)?t.x[0]:t.x,y:t.y[0]},i={x:(0,O.kJ)(t.x)?t.x[1]:t.x,y:t.y[1]},a=so(n,r);if(t.points&&t.points[0].y===t.points[1].y)e=a;else{var o=so(n,i);a>=o&&(o+=2*Math.PI),e=a+(o-a)/2}return e},e.prototype.getCirclePoint=function(t,e){var n=this.getCoordinate(),r=n.getCenter(),i=n.getRadius()+e;return x(x({},Za(r.x,r.y,i,t)),{angle:t,r:i})},e}(vp),mp=yp;function xp(t,e,n){var r=t.filter((function(t){return!t.invisible}));r.sort((function(t,e){return t.y-e.y}));var i,a=!0,o=n.minY,s=n.maxY,l=Math.abs(o-s),c=0,u=Number.MIN_VALUE,h=r.map((function(t){return t.y>c&&(c=t.y),t.y<u&&(u=t.y),{content:t.content,size:e,targets:[t.y-o],pos:null}}));for(u-=o,c-o>l&&(l=c-o);a;)for(h.forEach((function(t){var e=(Math.min.apply(u,t.targets)+Math.max.apply(u,t.targets))/2;t.pos=Math.min(Math.max(u,e-t.size/2),l-t.size),t.pos=Math.max(0,t.pos)})),a=!1,i=h.length;i--;)if(i>0){var f=h[i-1],p=h[i];f.pos+f.size>p.pos&&(f.size+=p.size,f.targets=f.targets.concat(p.targets),f.pos+f.size>l&&(f.pos=l-f.size),h.splice(i,1),a=!0)}i=0,h.forEach((function(t){var n=o+e/2;t.targets.forEach((function(){r[i].y=t.pos+n,n+=e,i++}))}))}var bp=4;var wp=4,Sp=4;var Cp=100,Tp=function(){function t(t){void 0===t&&(t={}),this.bitmap={};var e=t.xGap,n=void 0===e?1:e,r=t.yGap,i=void 0===r?8:r;this.xGap=n,this.yGap=i}return t.prototype.hasGap=function(t){for(var e=!0,n=this.bitmap,r=Math.round(t.minX),i=Math.round(t.maxX),a=Math.round(t.minY),o=Math.round(t.maxY),s=r;s<=i;s+=1)if(n[s]){if(s===r||s===i){for(var l=a;l<=o;l++)if(n[s][l]){e=!1;break}}else if(n[s][a]||n[s][o]){e=!1;break}}else n[s]={};return e},t.prototype.fillGap=function(t){for(var e=this.bitmap,n=Math.round(t.minX),r=Math.round(t.maxX),i=Math.round(t.minY),a=Math.round(t.maxY),o=n;o<=r;o+=1)e[o]||(e[o]={});for(o=n;o<=r;o+=this.xGap){for(var s=i;s<=a;s+=this.yGap)e[o][s]=!0;e[o][a]=!0}if(1!==this.yGap)for(o=i;o<=a;o+=1)e[n][o]=!0,e[r][o]=!0;if(1!==this.xGap)for(o=n;o<=r;o+=1)e[o][i]=!0,e[o][a]=!0},t.prototype.destroy=function(){this.bitmap={}},t}();function Ep(t,e,n,r){var i=t.getCanvasBBox(),a=i.width,o=i.height,s={x:e,y:n,textAlign:"center"};switch(r){case 0:s.y-=o+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=o+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=o+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=o+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=2*o+2;break;case 6:s.y+=2*o+2;break;case 7:s.x+=a+1,s.textAlign="left";break;case 8:s.x-=a+1,s.textAlign="right"}return t.attr(s),t.getCanvasBBox()}function kp(t){if(t.length>4)return[];var e=function(t,e){return[e.x-t.x,e.y-t.y]};return[e(t[0],t[1]),e(t[1],t[2])]}function Mp(t,e,n){void 0===e&&(e=0),void 0===n&&(n={x:0,y:0});var r=t.x,i=t.y;return{x:(r-n.x)*Math.cos(-e)+(i-n.y)*Math.sin(-e)+n.x,y:(n.x-r)*Math.sin(-e)+(i-n.y)*Math.cos(-e)+n.y}}function Ap(t){var e=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],n=t.rotation;return n?[Mp(e[0],n,e[0]),Mp(e[1],n,e[0]),Mp(e[2],n,e[0]),Mp(e[3],n,e[0])]:e}function Op(t,e){if(t.length>4)return{min:0,max:0};var n=[];return t.forEach((function(t){var r,i;n.push((r=[t.x,t.y],i=e,(r[0]||0)*(i[0]||0)+(r[1]||0)*(i[1]||0)+(r[2]||0)*(i[2]||0)))})),{min:Math.min.apply(Math,E([],T(n),!1)),max:Math.max.apply(Math,E([],T(n),!1))}}function Fp(t,e){return t.max>e.min&&t.min<e.max}function Ip(t){return["x","y","width","height"].every((function(e){return"number"===typeof(n=t[e])&&!Number.isNaN(n)&&n!==1/0&&n!==-1/0;var n}))}function Pp(t,e,n){if(void 0===n&&(n=0),!Ip(t)||!Ip(e))return!1;if(!t.rotation&&!e.rotation)return function(t,e,n){return void 0===n&&(n=0),!(e.x>t.x+t.width+n||e.x+e.width<t.x-n||e.y>t.y+t.height+n||e.y+e.height<t.y-n)}(t,e,n);for(var r=Ap(t),i=Ap(e),a=kp(r).concat(kp(i)),o=0;o<a.length;o++){var s=a[o];if(!Fp(Op(r,s),Op(i,s)))return!1}return!0}var Dp=function(){function t(t){var e=this;this.queue=[],this.worker=new Worker(t),this.worker.onmessage=function(t){var n;null===(n=e.queue.shift())||void 0===n||n.resolve(t)},this.worker.onmessageerror=function(t){var n;console.warn("[AntV G2] Web worker is not available"),null===(n=e.queue.shift())||void 0===n||n.reject(t)}}return t.prototype.post=function(t,e){var n=this;return new Promise((function(r,i){n.queue.push({resolve:r,reject:i});try{n.worker.postMessage(t)}catch(a){console.warn("[AntV G2] Web worker is not available"),(0,O.mf)(e)&&e()}}))},t.prototype.destroy=function(){this.worker.terminate()},t}();var Lp="\n   self.onmessage = ".concat(function(t){var e=function(){function t(t){if(t.length>4)return[];var e=function(t,e){return[e.x-t.x,e.y-t.y]};return[e(t[0],t[1]),e(t[1],t[2])]}function e(t,e,n){void 0===e&&(e=0),void 0===n&&(n={x:0,y:0});var r=t.x,i=t.y;return{x:(r-n.x)*Math.cos(-e)+(i-n.y)*Math.sin(-e)+n.x,y:(n.x-r)*Math.sin(-e)+(i-n.y)*Math.cos(-e)+n.y}}function n(t){var n=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],r=t.rotation;return r?[e(n[0],r,n[0]),e(n[1],r,n[0]),e(n[2],r,n[0]),e(n[3],r,n[0])]:n}function r(t,e){if(t.length>4)return{min:0,max:0};var n=[];return t.forEach((function(t){var r,i;n.push((r=[t.x,t.y],i=e,(r[0]||0)*(i[0]||0)+(r[1]||0)*(i[1]||0)+(r[2]||0)*(i[2]||0)))})),{min:Math.min.apply(null,n),max:Math.max.apply(null,n)}}function i(t,e){return t.max>e.min&&t.min<e.max}function a(t){return["x","y","width","height"].every((function(e){return"number"===typeof(n=t[e])&&!Number.isNaN(n)&&n!==1/0&&n!==-1/0;var n}))}return{intersect:function(e,o,s){if(void 0===s&&(s=0),!a(e)||!a(o))return!1;if(!e.rotation&&!o.rotation)return function(t,e,n){return void 0===n&&(n=0),!(e.x>t.x+t.width+n||e.x+e.width<t.x-n||e.y>t.y+t.height+n||e.y+e.height<t.y-n)}(e,o,s);for(var l=n(e),c=n(o),u=t(l).concat(t(c)),h=0;h<u.length;h++){var f=u[h];if(!i(r(l,f),r(c,f)))return!1}return!0}}}().intersect;var n={"hide-overlap":function(t){for(var n=t.slice(),r=0;r<n.length;r++){var i=n[r];if(i.visible)for(var a=r+1;a<n.length;a++){var o=n[a];i!==o&&o.visible&&e(i,o)&&(o.visible=!1)}}return n}};try{var r=JSON.parse(t.data);if(!r||!r.type||!n[r.type])return;var i=r.type,a=r.items,o=n[i](a);self.postMessage(o)}catch(t){throw t}}.toString(),"\n"),Rp=function(t){for(var e=t.slice(),n=0;n<e.length;n++){var r=e[n];if(r.visible)for(var i=n+1;i<e.length;i++){var a=e[i];r!==a&&a.visible&&Pp(r,a)&&(a.visible=!1)}}return e},Bp=new Map,_p=function(t){if("undefined"!==typeof window){var e;try{e=new Blob([t.toString()],{type:"application/javascript"})}catch(n){(e=new window.BlobBuilder).append(t.toString()),e=e.getBlob()}return new Dp(URL.createObjectURL(e))}}(Lp);var Np,Up={"#5B8FF9":!0};function zp(t,e,n){return!!t.getAdjust("stack")||e.every((function(e,r){var i=n[r];return function(t,e,n){var r=t.coordinate,i=Zl(e),a=io.fromObject(i.getCanvasBBox()),o=io.fromObject(n.getBBox());return r.isTransposed?o.height>=a.height:o.width>=a.width}(t,e,i)}))}function Hp(t,e,n){return t.some((function(t){return n(t,e)}))}function Vp(t,e){return Hp(t,e,(function(t,e){var n,r,i,a=Zl(t),o=Zl(e);return n=a.getCanvasBBox(),r=o.getCanvasBBox(),void 0===(i=2)&&(i=0),Math.max(0,Math.min(n.x+n.width+i,r.x+r.width+i)-Math.max(n.x-i,r.x-i))*Math.max(0,Math.min(n.y+n.height+i,r.y+r.height+i)-Math.max(n.y-i,r.y-i))>0}))}function Gp(t,e,n){return t.some((function(t){return n(t,e)}))}function Wp(t,e){return Gp(t,e,(function(t,e){var n,r,i,a=Zl(t),o=Zl(e);return n=a.getCanvasBBox(),r=o.getCanvasBBox(),void 0===(i=2)&&(i=0),Math.max(0,Math.min(n.x+n.width+i,r.x+r.width+i)-Math.max(n.x-i,r.x-i))*Math.max(0,Math.min(n.y+n.height+i,r.y+r.height+i)-Math.max(n.y-i,r.y-i))>0}))}function Yp(){return Np||(Np=document.createElement("canvas").getContext("2d")),Np}var jp=(0,O.HP)((function(t,e){void 0===e&&(e={});var n=e.fontSize,r=e.fontFamily,i=e.fontWeight,a=e.fontStyle,o=e.fontVariant,s=Yp();return s.font=[a,o,i,"".concat(n,"px"),r].join(" "),s.measureText((0,O.HD)(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),E([t],T((0,O.VO)(e)),!1).join("")}));function Xp(t,e,n,r,i){var a,o,s=n.start,l=n.end,c=n.getWidth(),u=n.getHeight();"y"===i?(a=s.x+c/2,o=r.y<s.y?r.y:s.y):"x"===i?(a=r.x>s.x?r.x:s.x,o=s.y+u/2):"xy"===i&&(n.isPolar?(a=n.getCenter().x,o=n.getCenter().y):(a=(s.x+l.x)/2,o=(s.y+l.y)/2));var h=function(t,e,n){var r,i=T(e,2),a=i[0],o=i[1];return t.applyToMatrix([a,o,1]),"x"===n?(t.setMatrix(zn.vs(t.getMatrix(),[["t",-a,-o],["s",.01,1],["t",a,o]])),r=zn.vs(t.getMatrix(),[["t",-a,-o],["s",100,1],["t",a,o]])):"y"===n?(t.setMatrix(zn.vs(t.getMatrix(),[["t",-a,-o],["s",1,.01],["t",a,o]])),r=zn.vs(t.getMatrix(),[["t",-a,-o],["s",1,100],["t",a,o]])):"xy"===n&&(t.setMatrix(zn.vs(t.getMatrix(),[["t",-a,-o],["s",.01,.01],["t",a,o]])),r=zn.vs(t.getMatrix(),[["t",-a,-o],["s",100,100],["t",a,o]])),r}(t,[a,o],i);t.animate({matrix:h},e)}function $p(t,e){var n,r=eu(t,e),i=r.startAngle,a=r.endAngle;return!(0,O.vQ)(i,.5*-Math.PI)&&i<.5*-Math.PI&&(i+=2*Math.PI),!(0,O.vQ)(a,.5*-Math.PI)&&a<.5*-Math.PI&&(a+=2*Math.PI),0===e[5]&&(i=(n=T([a,i],2))[0],a=n[1]),(0,O.vQ)(i,1.5*Math.PI)&&(i=-.5*Math.PI),(0,O.vQ)(a,-.5*Math.PI)&&!(0,O.vQ)(i,a)&&(a=1.5*Math.PI),{startAngle:i,endAngle:a}}function qp(t){var e;return"M"===t[0]||"L"===t[0]?e=[t[1],t[2]]:"a"!==t[0]&&"A"!==t[0]&&"C"!==t[0]||(e=[t[t.length-2],t[t.length-1]]),e}function Zp(t){var e,n,r,i=t.filter((function(t){return"A"===t[0]||"a"===t[0]}));if(0===i.length)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var a=i[0],o=i.length>1?i[1]:i[0],s=t.indexOf(a),l=t.indexOf(o),c=qp(t[s-1]),u=qp(t[l-1]),h=$p(c,a),f=h.startAngle,p=h.endAngle,d=$p(u,o),g=d.startAngle,v=d.endAngle;(0,O.vQ)(f,g)&&(0,O.vQ)(p,v)?(n=f,r=p):(n=Math.min(f,g),r=Math.max(p,v));var y=a[1],m=i[i.length-1][1];return y<m?(y=(e=T([m,y],2))[0],m=e[1]):y===m&&(m=0),{startAngle:n,endAngle:r,radius:y,innerRadius:m}}function Kp(t,e,n){if(t.isGroup())(0,O.S6)(t.getChildren(),(function(t){Kp(t,e,n)}));else{var r=t.getBBox(),i=(r.minX+r.maxX)/2,a=(r.minY+r.maxY)/2;if(t.applyToMatrix([i,a,1]),"zoomIn"===n){var o=zn.vs(t.getMatrix(),[["t",-i,-a],["s",.01,.01],["t",i,a]]);t.setMatrix(o),t.animate({matrix:zn.vs(t.getMatrix(),[["t",-i,-a],["s",100,100],["t",i,a]])},e)}else t.animate({matrix:zn.vs(t.getMatrix(),[["t",-i,-a],["s",.01,.01],["t",i,a]])},x(x({},e),{callback:function(){t.remove(!0),(0,O.mf)(e.callback)&&e.callback()}}))}}function Jp(t){return[M.TOP,M.BOTTOM].includes(t)?{offsetX:0,offsetY:t===M.TOP?-8:8,style:{textAlign:"center",textBaseline:t===M.TOP?"bottom":"top"}}:[M.LEFT,M.RIGHT].includes(t)?{offsetX:t===M.LEFT?-8:8,offsetY:0,style:{textAlign:t===M.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function Qp(t,e,n){return{x:t.x+e*Math.cos(n),y:t.y+e*Math.sin(n)}}var td=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.getDefaultCfg=function(){return(0,O.b$)({},t.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.getRegion=function(t,e){var n=2*Math.PI/t,r=-1*Math.PI/2+n*e,i=.5/(1+1/Math.sin(n/2)),a=Qp({x:.5,y:.5},.5-i,r),o=5*Math.PI/4,s=1*Math.PI/4;return{start:Qp(a,i,o),end:Qp(a,i,s)}},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.generateFacets=function(t){var e=this,n=this.cfg,r=n.fields,i=n.type,a=T(r,1)[0];if(!a)throw new Error("No `fields` specified!");var o=this.getFieldValues(t,a),s=o.length,l=[];return o.forEach((function(n,r){var c=[{field:a,value:n,values:o}],u=(0,O.hX)(t,e.getFacetDataFilter(c)),h={type:i,data:u,region:e.getRegion(s,r),columnValue:n,columnField:a,columnIndex:r,columnValuesLength:s,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};l.push(h)})),l},e.prototype.getXAxisOption=function(t,e,n,r){return n},e.prototype.getYAxisOption=function(t,e,n,r){return n},e.prototype.renderTitle=function(){var t=this;(0,O.S6)(this.facets,(function(e){var n=e.columnValue,r=e.view,i=(0,O.U2)(t.cfg.title,"formatter"),a=(0,O.b$)({position:["50%","0%"],content:i?i(n):n},Jp(M.TOP),t.cfg.title);r.annotation().text(a)}))},e}(Eo),ed=td,nd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.getDefaultCfg=function(){return(0,O.b$)({},t.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,r=this.cfg.cols,i=T(n,1)[0];if(!i)throw new Error("No `fields` specified!");var a=this.getFieldValues(t,i),o=a.length;r=r||o;var s=this.getPageCount(o,r),l=[];return a.forEach((function(n,c){var u=e.getRowCol(c,r),h=u.row,f=u.col,p=[{field:i,value:n,values:a}],d=(0,O.hX)(t,e.getFacetDataFilter(p)),g={type:e.cfg.type,data:d,region:e.getRegion(s,r,f,h),columnValue:n,rowValue:n,columnField:i,rowField:null,columnIndex:f,rowIndex:h,columnValuesLength:r,rowValuesLength:s,total:o};l.push(g)})),l},e.prototype.getXAxisOption=function(t,e,n,r){return r.rowIndex!==r.rowValuesLength-1&&r.columnValuesLength*r.rowIndex+r.columnIndex+1+r.columnValuesLength<=r.total?x(x({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,e,n,r){return 0!==r.columnIndex?x(x({},n),{title:null,label:null}):n},e.prototype.renderTitle=function(){var t=this;(0,O.S6)(this.facets,(function(e){var n=e.columnValue,r=e.view,i=(0,O.U2)(t.cfg.title,"formatter"),a=(0,O.b$)({position:["50%","0%"],content:i?i(n):n},Jp(M.TOP),t.cfg.title);r.annotation().text(a)}))},e.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},e.prototype.getRowCol=function(t,e){return{row:Math.floor(t/e),col:t%e}},e}(Eo),rd=nd,id=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.getDefaultCfg=function(){return(0,O.b$)({},t.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:x({},t.prototype.getDefaultTitleCfg.call(this)),rowTitle:x({},t.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.generateFacets=function(t){for(var e=this.cfg,n=e.fields,r=e.type,i=n.length,a=i,o=[],s=0;s<a;s++)for(var l=n[s],c=0;c<i;c++){var u=n[c],h={type:r,data:t,region:this.getRegion(i,a,s,c),columnValue:l,rowValue:u,columnField:l,rowField:u,columnIndex:s,rowIndex:c,columnValuesLength:a,rowValuesLength:i};o.push(h)}return o},e.prototype.getXAxisOption=function(t,e,n,r){return r.rowIndex!==r.rowValuesLength-1?x(x({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,e,n,r){return 0!==r.columnIndex?x(x({},n),{title:null,label:null}):n},e.prototype.renderTitle=function(){var t=this;(0,O.S6)(this.facets,(function(e,n){var r=e.columnIndex,i=e.rowIndex,a=e.columnValuesLength,o=(e.rowValuesLength,e.columnValue),s=e.rowValue,l=e.view;if(0===i){var c=(0,O.U2)(t.cfg.columnTitle,"formatter"),u=(0,O.b$)({position:["50%","0%"],content:c?c(o):o},Jp(M.TOP),t.cfg.columnTitle);l.annotation().text(u)}if(r===a-1){c=(0,O.U2)(t.cfg.rowTitle,"formatter"),u=(0,O.b$)({position:["100%","50%"],content:c?c(s):s},Jp(M.RIGHT),t.cfg.rowTitle);l.annotation().text(u)}}))},e}(Eo),ad=id,od=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.getDefaultCfg=function(){return(0,O.b$)({},t.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this),transpose:!1})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2===0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!==0&&t.coordinate().reflect("y")},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.generateFacets=function(t){var e,n,r=this,i=T(this.cfg.fields,1)[0],a=[],o=1,s=1,l=[""],c=[""];return this.cfg.transpose?(e=i,l=this.getFieldValues(t,e).slice(0,2),o=l.length):(n=i,c=this.getFieldValues(t,n).slice(0,2),s=c.length),l.forEach((function(i,u){c.forEach((function(h,f){var p=[{field:e,value:i,values:l},{field:n,value:h,values:c}],d=(0,O.hX)(t,r.getFacetDataFilter(p)),g={type:r.cfg.type,data:d,region:r.getRegion(s,o,u,f),columnValue:i,rowValue:h,columnField:e,rowField:n,columnIndex:u,rowIndex:f,columnValuesLength:o,rowValuesLength:s};a.push(g)}))})),a},e.prototype.getXAxisOption=function(t,e,n,r){return 1===r.columnIndex||1===r.rowIndex?x(x({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,e,n,r){return n},e.prototype.renderTitle=function(){var t=this;(0,O.S6)(this.facets,(function(e,n){var r=e.columnValue,i=e.rowValue,a=e.view,o=(0,O.U2)(t.cfg.title,"formatter");if(t.cfg.transpose){var s=(0,O.b$)({position:["50%","0%"],content:o?o(r):r},Jp(M.TOP),t.cfg.title);a.annotation().text(s)}else{s=(0,O.b$)({position:["100%","50%"],content:o?o(i):i},Jp(M.RIGHT),t.cfg.title);a.annotation().text(s)}}))},e}(Eo),sd=od,ld=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.getDefaultCfg=function(){return(0,O.b$)({},t.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:x({},t.prototype.getDefaultTitleCfg.call(this)),rowTitle:x({},t.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.generateFacets=function(t){var e=this,n=T(this.cfg.fields,2),r=n[0],i=n[1],a=[],o=1,s=1,l=[""],c=[""];return r&&(l=this.getFieldValues(t,r),o=l.length),i&&(c=this.getFieldValues(t,i),s=c.length),l.forEach((function(n,u){c.forEach((function(h,f){var p=[{field:r,value:n,values:l},{field:i,value:h,values:c}],d=(0,O.hX)(t,e.getFacetDataFilter(p)),g={type:e.cfg.type,data:d,region:e.getRegion(s,o,u,f),columnValue:n,rowValue:h,columnField:r,rowField:i,columnIndex:u,rowIndex:f,columnValuesLength:o,rowValuesLength:s};a.push(g)}))})),a},e.prototype.renderTitle=function(){var t=this;(0,O.S6)(this.facets,(function(e,n){var r=e.columnIndex,i=e.rowIndex,a=e.columnValuesLength,o=e.columnValue,s=e.rowValue,l=e.view;if(0===i){var c=(0,O.U2)(t.cfg.columnTitle,"formatter"),u=(0,O.b$)({position:["50%","0%"],content:c?c(o):o},Jp(M.TOP),t.cfg.columnTitle);l.annotation().text(u)}if(r===a-1){c=(0,O.U2)(t.cfg.rowTitle,"formatter"),u=(0,O.b$)({position:["100%","50%"],content:c?c(s):s},Jp(M.RIGHT),t.cfg.rowTitle);l.annotation().text(u)}}))},e.prototype.getXAxisOption=function(t,e,n,r){return r.rowIndex!==r.rowValuesLength-1?x(x({},n),{title:null,label:null}):r.columnIndex!==Math.floor((r.columnValuesLength-1)/2)?x(x({},n),{title:null}):n},e.prototype.getYAxisOption=function(t,e,n,r){return 0!==r.columnIndex?x(x({},n),{title:null,label:null}):r.rowIndex!==Math.floor((r.rowValuesLength-1)/2)?x(x({},n),{title:null}):n},e}(Eo),cd=ld,ud=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.afterChartRender=function(){e.facets&&e.cfg.line&&(e.container.clear(),e.drawLines(e.facets))},e}return m(e,t),e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.init=function(){t.prototype.init.call(this),this.view.on(F.AFTER_RENDER,this.afterChartRender)},e.prototype.getDefaultCfg=function(){return(0,O.b$)({},t.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.generateFacets=function(t){if(!this.cfg.fields.length)throw new Error("Please specify for the fields for rootFacet!");var e=[],n={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return e.push(n),n.children=this.getChildFacets(t,1,e),this.setRegion(e),e},e.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach((function(t){t.region=e.getRegion(t.rowValuesLength,t.columnValuesLength,t.columnIndex,t.rowIndex)}))},e.prototype.getRegion=function(t,e,n,r){var i=1/e,a=1/t,o={x:i*n,y:a*r};return{start:o,end:{x:o.x+i,y:o.y+2*a/3}}},e.prototype.forceColIndex=function(t){var e,n,r=this,i=[],a=0;t.forEach((function(t){r.isLeaf(t)&&(i.push(t),t.columnIndex=a,a++)})),i.forEach((function(t){t.columnValuesLength=i.length}));for(var o=this.cfg.fields.length-1;o>=0;o--){var s=this.getFacetsByLevel(t,o);try{for(var l=(e=void 0,C(s)),c=l.next();!c.done;c=l.next()){var u=c.value;this.isLeaf(u)||(u.originColIndex=u.columnIndex,u.columnIndex=this.getRegionIndex(u.children),u.columnValuesLength=i.length)}}catch(h){e={error:h}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}}},e.prototype.getFacetsByLevel=function(t,e){var n=[];return t.forEach((function(t){t.rowIndex===e&&n.push(t)})),n},e.prototype.getRegionIndex=function(t){var e=t[0];return(t[t.length-1].columnIndex-e.columnIndex)/2+e.columnIndex},e.prototype.isLeaf=function(t){return!t.children||!t.children.length},e.prototype.getRows=function(){return this.cfg.fields.length+1},e.prototype.getChildFacets=function(t,e,n){var r=this,i=this.cfg.fields;if(!(i.length<e)){var a=[],o=i[e-1],s=this.getFieldValues(t,o);return s.forEach((function(i,l){var c=[{field:o,value:i,values:s}],u=t.filter(r.getFacetDataFilter(c));if(u.length){var h={type:r.cfg.type,data:u,region:null,columnValue:i,rowValue:"",columnField:o,rowField:"",columnIndex:l,rowValuesLength:r.getRows(),columnValuesLength:1,rowIndex:e,children:r.getChildFacets(u,e+1,n)};a.push(h),n.push(h)}})),a}},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.renderTitle=function(){var t=this;(0,O.S6)(this.facets,(function(e){var n=e.columnValue,r=e.view,i=(0,O.U2)(t.cfg.title,"formatter"),a=(0,O.b$)({position:["50%","0%"],content:i?i(n):n},Jp(M.TOP),t.cfg.title);r.annotation().text(a)}))},e.prototype.drawLines=function(t){var e=this;t.forEach((function(t){if(!e.isLeaf(t)){var n=t.children;e.addFacetLines(t,n)}}))},e.prototype.addFacetLines=function(t,e){var n=this,r=t.view.coordinateBBox,i={x:r.x+r.width/2,y:r.y+r.height};e.forEach((function(t){var e=t.view.coordinateBBox,r={x:e.bl.x+(e.tr.x-e.bl.x)/2,y:e.tr.y},a={x:i.x,y:i.y+(r.y-i.y)/2},o={x:r.x,y:a.y};n.drawLine([i,a,o,r])}))},e.prototype.getPath=function(t){var e=[];return this.cfg.line.smooth?(e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach((function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e},e.prototype.drawLine=function(t){var e=this.getPath(t),n=this.cfg.line.style;this.container.addShape("path",{attrs:(0,O.f0)({path:e},n)})},e.prototype.getXAxisOption=function(t,e,n,r){return r.rowIndex!==r.rowValuesLength-1?x(x({},n),{title:null,label:null}):n},e.prototype.getYAxisOption=function(t,e,n,r){return 0!==r.originColIndex&&0!==r.columnIndex?x(x({},n),{title:null,label:null}):n},e}(Eo),hd=ud;function fd(t){var e=E([],T(t),!1);e.sort((function(t,e){return t-e}));var n=e.length;return 0===n?0:n%2===1?e[(n-1)/2]:(e[n/2]+e[n/2-1])/2}function pd(t,e){if(!e)return null;var n;switch(t){case"start":return 0;case"center":return.5;case"end":return 1;case"median":n=e.isCategory?fd(e.values.map((function(t,e){return e}))):fd(e.values);break;case"mean":n=e.isCategory?(e.values.length-1)/2:function(t){var e=(0,O.u4)(t,(function(t,e){return t+(isNaN(e)||!(0,O.hj)(e)?0:e)}),0);return 0===t.length?0:e/t.length}(e.values);break;case"min":n=e.isCategory?0:e[t];break;case"max":n=e.isCategory?e.values.length-1:e[t];break;default:n=t}return e.scale(n)}var dd=["regionFilter","shape"],gd=function(t){function e(e){var n=t.call(this,e)||this;return n.cache=new Map,n.foregroundContainer=n.view.getLayer(k.FORE).addGroup(),n.backgroundContainer=n.view.getLayer(k.BG).addGroup(),n.option=[],n}return m(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.layout=function(){this.update()},e.prototype.render=function(){},e.prototype.update=function(){var t=this;this.onAfterRender((function(){var e=new Map;(0,O.S6)(t.option,(function(n){if((0,O.q9)(dd,n.type)){var r=t.updateOrCreate(n);r&&e.set(t.getCacheKey(n),r)}})),t.cache=t.syncCache(e)}));var e=new Map;(0,O.S6)(this.option,(function(n){if(!(0,O.q9)(dd,n.type)){var r=t.updateOrCreate(n);r&&e.set(t.getCacheKey(n),r)}})),this.cache=this.syncCache(e)},e.prototype.clear=function(e){void 0===e&&(e=!1),t.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),e&&(this.option=[])},e.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach((function(e){t.push(e)})),t},e.prototype.clearComponents=function(){this.getComponents().forEach((function(t){t.component.destroy()})),this.cache.clear()},e.prototype.onAfterRender=function(t){var e=!1;this.view.getOptions().animate&&this.view.geometries.forEach((function(n){n.animateOption&&(n.once(I.AFTER_DRAW_ANIMATE,(function(){t()})),e=!0)})),e||this.view.getRootView().once(F.AFTER_RENDER,(function(){t()}))},e.prototype.createAnnotation=function(t){var e=t.type,n=i[(0,O.jC)(e)];if(n){var r=this.getAnnotationTheme(e),a=this.getAnnotationCfg(e,t,r);return a?{component:new n(a),layer:this.isTop(a)?k.FORE:k.BG,direction:M.NONE,type:A.ANNOTATION,extra:t}:null}},e.prototype.annotation=function(t){this.option.push(t)},e.prototype.arc=function(t){return this.annotation(x({type:"arc"},t)),this},e.prototype.image=function(t){return this.annotation(x({type:"image"},t)),this},e.prototype.line=function(t){return this.annotation(x({type:"line"},t)),this},e.prototype.region=function(t){return this.annotation(x({type:"region"},t)),this},e.prototype.text=function(t){return this.annotation(x({type:"text"},t)),this},e.prototype.dataMarker=function(t){return this.annotation(x({type:"dataMarker"},t)),this},e.prototype.dataRegion=function(t){this.annotation(x({type:"dataRegion"},t))},e.prototype.regionFilter=function(t){this.annotation(x({type:"regionFilter"},t))},e.prototype.shape=function(t){this.annotation(x({type:"shape"},t))},e.prototype.html=function(t){this.annotation(x({type:"html"},t))},e.prototype.parsePosition=function(t){var e,n,r=this.view.getXScale(),i=this.view.getScalesByDim("y"),a=(0,O.mf)(t)?t.call(null,r,i):t,o=0,s=0;if((0,O.kJ)(a)){var l=T(a,2),c=l[0],u=l[1];if((0,O.HD)(c)&&-1!==c.indexOf("%")&&!isNaN(c.slice(0,-1)))return this.parsePercentPosition(a);o=pd(c,r),s=pd(u,Object.values(i)[0])}else if(!(0,O.UM)(a))try{for(var h=C((0,O.XP)(a)),f=h.next();!f.done;f=h.next()){var p=f.value,d=a[p];p===r.field&&(o=pd(d,r)),i[p]&&(s=pd(d,i[p]))}}catch(g){e={error:g}}finally{try{f&&!f.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}return isNaN(o)||isNaN(s)?null:this.view.getCoordinate().convert({x:o,y:s})},e.prototype.getRegionPoints=function(t,e){var n,r=this,i=this.view.getXScale(),a=this.view.getScalesByDim("y"),o=Object.values(a)[0],s=i.field,l=this.view.getData(),c=(0,O.kJ)(t)?t[0]:t[s],u=(0,O.kJ)(e)?e[0]:e[s],h=[];return(0,O.S6)(l,(function(t,e){if(t[s]===c&&(n=e),e>=n){var i=r.parsePosition([t[s],t[o.field]]);i&&h.push(i)}if(t[s]===u)return!1})),h},e.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,n=parseFloat(t[1])/100,r=this.view.getCoordinate(),i=r.start,a=r.end,o=Math.min(i.x,a.x),s=Math.min(i.y,a.y);return{x:r.getWidth()*e+o,y:r.getHeight()*n+s}},e.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,n=t.end,r=t.getWidth(),i=t.getHeight(),a={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y)};return{x:a.x,y:a.y,minX:a.x,minY:a.y,maxX:a.x+r,maxY:a.y+i,width:r,height:i}},e.prototype.getAnnotationCfg=function(t,e,n){var r=this,i=this.view.getCoordinate(),a=this.view.getCanvas(),o={};if((0,O.UM)(e))return null;var s=e.start,l=e.end,c=e.position,u=this.parsePosition(s),h=this.parsePosition(l),f=this.parsePosition(c);if(!(!["arc","image","line","region","regionFilter"].includes(t)||u&&h))return null;if(["text","dataMarker","html"].includes(t)&&!f)return null;if("arc"===t){var p=e,d=(p.start,p.end,b(p,["start","end"])),g=so(i,u),v=so(i,h);g>v&&(v=2*Math.PI+v),o=x(x({},d),{center:i.getCenter(),radius:oo(i,u),startAngle:g,endAngle:v})}else if("image"===t){var y=e;y.start,y.end,d=b(y,["start","end"]);o=x(x({},d),{start:u,end:h,src:e.src})}else if("line"===t){var m=e;m.start,m.end,d=b(m,["start","end"]);o=x(x({},d),{start:u,end:h,text:(0,O.U2)(e,"text",null)})}else if("region"===t){var w=e;w.start,w.end,d=b(w,["start","end"]);o=x(x({},d),{start:u,end:h})}else if("text"===t){var S=this.view.getData(),C=e,T=(C.position,C.content),E=(d=b(C,["position","content"]),T);(0,O.mf)(T)&&(E=T(S)),o=x(x(x({},f),d),{content:E})}else if("dataMarker"===t){var k=e,M=(k.position,k.point),A=k.line,F=k.text,I=k.autoAdjust,P=k.direction;d=b(k,["position","point","line","text","autoAdjust","direction"]);o=x(x(x({},d),f),{coordinateBBox:this.getCoordinateBBox(),point:M,line:A,text:F,autoAdjust:I,direction:P})}else if("dataRegion"===t){var D=e,L=D.start,R=D.end,B=D.region,_=(F=D.text,D.lineLength);d=b(D,["start","end","region","text","lineLength"]);o=x(x({},d),{points:this.getRegionPoints(L,R),region:B,text:F,lineLength:_})}else if("regionFilter"===t){var N=e,U=(N.start,N.end,N.apply),z=N.color,H=(d=b(N,["start","end","apply","color"]),this.view.geometries),V=[],G=function t(e){e&&(e.isGroup()?e.getChildren().forEach((function(e){return t(e)})):V.push(e))};(0,O.S6)(H,(function(t){U?(0,O.FX)(U,t.type)&&(0,O.S6)(t.elements,(function(t){G(t.shape)})):(0,O.S6)(t.elements,(function(t){G(t.shape)}))})),o=x(x({},d),{color:z,shapes:V,start:u,end:h})}else if("shape"===t){var W=e,Y=W.render,j=b(W,["render"]);o=x(x({},j),{render:function(t){if((0,O.mf)(e.render))return Y(t,r.view,{parsePosition:r.parsePosition.bind(r)})}})}else if("html"===t){var X=e,$=X.html;X.position,j=b(X,["html","position"]);o=x(x(x({},j),f),{parent:a.get("el").parentNode,html:function(t){return(0,O.mf)($)?$(t,r.view):$}})}var q=(0,O.b$)({},n,x(x({},o),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return"html"!==t&&(q.container=this.getComponentContainer(q)),q.animate=this.view.getOptions().animate&&q.animate&&(0,O.U2)(e,"animate",q.animate),q.animateOption=(0,O.b$)({},Tl,q.animateOption,e.animateOption),q},e.prototype.isTop=function(t){return(0,O.U2)(t,"top",!0)},e.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},e.prototype.getAnnotationTheme=function(t){return(0,O.U2)(this.view.getTheme(),["components","annotation",t],{})},e.prototype.updateOrCreate=function(t){var e=this.cache.get(this.getCacheKey(t));if(e){var n=t.type,r=this.getAnnotationTheme(n),i=this.getAnnotationCfg(n,t,r);i&&no(i,["container"]),e.component.update(x(x({},i||{}),{visible:!!i})),(0,O.q9)(dd,t.type)&&e.component.render()}else(e=this.createAnnotation(t))&&(e.component.init(),(0,O.q9)(dd,t.type)&&e.component.render());return e},e.prototype.syncCache=function(t){var e=this,n=new Map(this.cache);return t.forEach((function(t,e){n.set(e,t)})),n.forEach((function(t,r){(0,O.sE)(e.option,(function(t){return r===e.getCacheKey(t)}))||(t.component.destroy(),n.delete(r))})),n},e.prototype.getCacheKey=function(t){return t},e}(ml),vd=gd;function yd(t,e){var n=(0,O.b$)({},(0,O.U2)(t,["components","axis","common"]),(0,O.U2)(t,["components","axis",e]));return(0,O.U2)(n,["grid"],{})}function md(t,e,n,r){var i=[],a=e.getTicks();return t.isPolar&&a.push({value:1,text:"",tickValue:""}),a.reduce((function(e,a,o){var s=a.value;if(r)i.push({points:[t.convert("y"===n?{x:0,y:s}:{x:s,y:0}),t.convert("y"===n?{x:1,y:s}:{x:s,y:1})]});else if(o){var l=(e.value+s)/2;i.push({points:[t.convert("y"===n?{x:0,y:l}:{x:l,y:0}),t.convert("y"===n?{x:1,y:l}:{x:l,y:1})]})}return a}),a[0]),i}function xd(t,e,n,r,i){var a=e.values.length,o=[],s=n.getTicks();return s.reduce((function(e,n){var s=e?e.value:n.value,l=n.value,c=(s+l)/2;return"x"===i?o.push({points:[t.convert({x:r?l:c,y:0}),t.convert({x:r?l:c,y:1})]}):o.push({points:(0,O.UI)(Array(a+1),(function(e,n){return t.convert({x:n/a,y:r?l:c})}))}),n}),s[0]),o}function bd(t,e){var n=(0,O.U2)(e,"grid");if(null===n)return!1;var r=(0,O.U2)(t,"grid");return!(void 0===n&&null===r)}var wd=["container"],Sd=x(x({},Tl),{appear:null}),Cd=function(t){function e(e){var n=t.call(this,e)||this;return n.cache=new Map,n.gridContainer=n.view.getLayer(k.BG).addGroup(),n.gridForeContainer=n.view.getLayer(k.FORE).addGroup(),n.axisContainer=n.view.getLayer(k.BG).addGroup(),n.axisForeContainer=n.view.getLayer(k.FORE).addGroup(),n}return m(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var t=this,e=this.view.getCoordinate();(0,O.S6)(this.getComponents(),(function(n){var r,i=n.component,a=n.direction,o=n.type,s=n.extra,l=s.dim,c=s.scale,u=s.alignTick;if(o===A.AXIS)e.isPolar?"x"===l?r=e.isTransposed?vo(e,a):wo(e):"y"===l&&(r=e.isTransposed?wo(e):vo(e,a)):r=vo(e,a);else if(o===A.GRID)if(e.isPolar){r={items:e.isTransposed?"x"===l?xd(e,t.view.getYScales()[0],c,u,l):md(e,c,l,u):"x"===l?md(e,c,l,u):xd(e,t.view.getXScale(),c,u,l),center:t.view.getCoordinate().getCenter()}}else r={items:md(e,c,l,u)};i.update(r)}))},e.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var e=new Map;this.cache.forEach((function(n,r){t.has(r)?e.set(r,n):n.component.destroy()})),this.cache=e},e.prototype.clear=function(){t.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach((function(e){t.push(e)})),t},e.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(e&&!e.isIdentity){var n=So(this.option,e.field);if(!1!==n){var r=Co(n,M.BOTTOM),i=k.BG,a="x",o=this.view.getCoordinate(),s=this.getId("axis",e.field),l=this.getId("grid",e.field);if(o.isRect){if(c=this.cache.get(s))no(h=this.getLineAxisCfg(e,n,r),wd),c.component.update(h),t.set(s,c);else c=this.createLineAxis(e,n,i,r,a),this.cache.set(s,c),t.set(s,c);if(u=this.cache.get(l))no(h=this.getLineGridCfg(e,n,r,a),wd),u.component.update(h),t.set(l,u);else(u=this.createLineGrid(e,n,i,r,a))&&(this.cache.set(l,u),t.set(l,u))}else if(o.isPolar){var c,u;if(c=this.cache.get(s)){no(h=o.isTransposed?this.getLineAxisCfg(e,n,M.RADIUS):this.getCircleAxisCfg(e,n,r),wd),c.component.update(h),t.set(s,c)}else{if(o.isTransposed){if((0,O.o8)(n))return;c=this.createLineAxis(e,n,i,M.RADIUS,a)}else c=this.createCircleAxis(e,n,i,r,a);this.cache.set(s,c),t.set(s,c)}if(u=this.cache.get(l)){var h;no(h=o.isTransposed?this.getCircleGridCfg(e,n,M.RADIUS,a):this.getLineGridCfg(e,n,M.CIRCLE,a),wd),u.component.update(h),t.set(l,u)}else{if(o.isTransposed){if((0,O.o8)(n))return;u=this.createCircleGrid(e,n,i,M.RADIUS,a)}else u=this.createLineGrid(e,n,i,M.CIRCLE,a);u&&(this.cache.set(l,u),t.set(l,u))}}}}},e.prototype.updateYAxes=function(t){var e=this,n=this.view.getYScales();(0,O.S6)(n,(function(n,r){if(n&&!n.isIdentity){var i=n.field,a=So(e.option,i);if(!1!==a){var o=k.BG,s="y",l=e.getId("axis",i),c=e.getId("grid",i),u=e.view.getCoordinate();if(u.isRect){var h=Co(a,0===r?M.LEFT:M.RIGHT);if(f=e.cache.get(l))no(d=e.getLineAxisCfg(n,a,h),wd),f.component.update(d),t.set(l,f);else f=e.createLineAxis(n,a,o,h,s),e.cache.set(l,f),t.set(l,f);if(p=e.cache.get(c))no(d=e.getLineGridCfg(n,a,h,s),wd),p.component.update(d),t.set(c,p);else(p=e.createLineGrid(n,a,o,h,s))&&(e.cache.set(c,p),t.set(c,p))}else if(u.isPolar){var f,p;if(f=e.cache.get(l)){no(d=u.isTransposed?e.getCircleAxisCfg(n,a,M.CIRCLE):e.getLineAxisCfg(n,a,M.RADIUS),wd),f.component.update(d),t.set(l,f)}else{if(u.isTransposed){if((0,O.o8)(a))return;f=e.createCircleAxis(n,a,o,M.CIRCLE,s)}else f=e.createLineAxis(n,a,o,M.RADIUS,s);e.cache.set(l,f),t.set(l,f)}if(p=e.cache.get(c)){var d;no(d=u.isTransposed?e.getLineGridCfg(n,a,M.CIRCLE,s):e.getCircleGridCfg(n,a,M.RADIUS,s),wd),p.component.update(d),t.set(c,p)}else{if(u.isTransposed){if((0,O.o8)(a))return;p=e.createLineGrid(n,a,o,M.CIRCLE,s)}else p=e.createCircleGrid(n,a,o,M.RADIUS,s);p&&(e.cache.set(c,p),t.set(c,p))}}}}}))},e.prototype.createLineAxis=function(t,e,n,r,i){var a={component:new Ha(this.getLineAxisCfg(t,e,r)),layer:n,direction:r===M.RADIUS?M.NONE:r,type:A.AXIS,extra:{dim:i,scale:t}};return a.component.set("field",t.field),a.component.init(),a},e.prototype.createLineGrid=function(t,e,n,r,i){var a=this.getLineGridCfg(t,e,r,i);if(a){var o={component:new Ga(a),layer:n,direction:M.NONE,type:A.GRID,extra:{dim:i,scale:t,alignTick:(0,O.U2)(a,"alignTick",!0)}};return o.component.init(),o}},e.prototype.createCircleAxis=function(t,e,n,r,i){var a={component:new Va(this.getCircleAxisCfg(t,e,r)),layer:n,direction:r,type:A.AXIS,extra:{dim:i,scale:t}};return a.component.set("field",t.field),a.component.init(),a},e.prototype.createCircleGrid=function(t,e,n,r,i){var a=this.getCircleGridCfg(t,e,r,i);if(a){var o={component:new Wa(a),layer:n,direction:M.NONE,type:A.GRID,extra:{dim:i,scale:t,alignTick:(0,O.U2)(a,"alignTick",!0)}};return o.component.init(),o}},e.prototype.getLineAxisCfg=function(t,e,n){var r=(0,O.U2)(e,["top"])?this.axisForeContainer:this.axisContainer,i=this.view.getCoordinate(),a=vo(i,n),o=To(t,e),s=xo(this.view.getTheme(),n),l=(0,O.U2)(e,["title"])?(0,O.b$)({title:{style:{text:o}}},{title:bo(this.view.getTheme(),n,e.title)},e):e,c=(0,O.b$)(x(x({container:r},a),{ticks:t.getTicks().map((function(t){return{id:"".concat(t.tickValue),name:t.text,value:t.value}})),verticalFactor:i.isPolar?-1*mo(a,i.getCenter()):mo(a,i.getCenter()),theme:s}),s,l),u=this.getAnimateCfg(c),h=u.animate,f=u.animateOption;c.animateOption=f,c.animate=h;var p=yo(a),d=(0,O.U2)(c,"verticalLimitLength",p?1/3:.5);if(d<=1){var g=this.view.getCanvas().get("width"),v=this.view.getCanvas().get("height");c.verticalLimitLength=d*(p?g:v)}return c},e.prototype.getLineGridCfg=function(t,e,n,r){if(bd(xo(this.view.getTheme(),n),e)){var i=yd(this.view.getTheme(),n),a=(0,O.b$)({container:(0,O.U2)(e,["top"])?this.gridForeContainer:this.gridContainer},i,(0,O.U2)(e,"grid"),this.getAnimateCfg(e));return a.items=md(this.view.getCoordinate(),t,r,(0,O.U2)(a,"alignTick",!0)),a}},e.prototype.getCircleAxisCfg=function(t,e,n){var r=(0,O.U2)(e,["top"])?this.axisForeContainer:this.axisContainer,i=this.view.getCoordinate(),a=t.getTicks().map((function(t){return{id:"".concat(t.tickValue),name:t.text,value:t.value}}));t.isCategory||Math.abs(i.endAngle-i.startAngle)!==2*Math.PI||a.length&&(a[a.length-1].name="");var o=To(t,e),s=xo(this.view.getTheme(),M.CIRCLE),l=(0,O.U2)(e,["title"])?(0,O.b$)({title:{style:{text:o}}},{title:bo(this.view.getTheme(),n,e.title)},e):e,c=(0,O.b$)(x(x({container:r},wo(this.view.getCoordinate())),{ticks:a,verticalFactor:1,theme:s}),s,l),u=this.getAnimateCfg(c),h=u.animate,f=u.animateOption;return c.animate=h,c.animateOption=f,c},e.prototype.getCircleGridCfg=function(t,e,n,r){if(bd(xo(this.view.getTheme(),n),e)){var i=yd(this.view.getTheme(),M.RADIUS),a=(0,O.b$)({container:(0,O.U2)(e,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},i,(0,O.U2)(e,"grid"),this.getAnimateCfg(e)),o=(0,O.U2)(a,"alignTick",!0),s="x"===r?this.view.getYScales()[0]:this.view.getXScale();return a.items=xd(this.view.getCoordinate(),s,t,o,r),a}},e.prototype.getId=function(t,e){var n=this.view.getCoordinate();return"".concat(t,"-").concat(e,"-").concat(n.type)},e.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,O.U2)(t,"animate"),animateOption:t&&t.animateOption?(0,O.b$)({},Sd,t.animateOption):Sd}},e}(ml),Td=Cd;function Ed(t,e,n){return n===M.TOP?[t.minX+t.width/2-e.width/2,t.minY]:n===M.BOTTOM?[t.minX+t.width/2-e.width/2,t.maxY-e.height]:n===M.LEFT?[t.minX,t.minY+t.height/2-e.height/2]:n===M.RIGHT?[t.maxX-e.width,t.minY+t.height/2-e.height/2]:n===M.TOP_LEFT||n===M.LEFT_TOP?[t.tl.x,t.tl.y]:n===M.TOP_RIGHT||n===M.RIGHT_TOP?[t.tr.x-e.width,t.tr.y]:n===M.BOTTOM_LEFT||n===M.LEFT_BOTTOM?[t.bl.x,t.bl.y-e.height]:n===M.BOTTOM_RIGHT||n===M.RIGHT_BOTTOM?[t.br.x-e.width,t.br.y-e.height]:[0,0]}function kd(t,e){return(0,O.jn)(t)?!1!==t&&{}:(0,O.U2)(t,[e],t)}function Md(t){return(0,O.U2)(t,"position",M.BOTTOM)}var Ad=function(t){function e(e){var n=t.call(this,e)||this;return n.container=n.view.getLayer(k.FORE).addGroup(),n}return m(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox,(0,O.S6)(this.components,(function(e){var n=e.component,r=e.direction,i=cc(r),a=n.get("maxWidthRatio"),o=n.get("maxHeightRatio"),s=t.getCategoryLegendSizeCfg(i,a,o),l=n.get("maxWidth"),c=n.get("maxHeight");n.update({maxWidth:Math.min(s.maxWidth,l||0),maxHeight:Math.min(s.maxHeight,c||0)});var u=n.get("padding"),h=n.getLayoutBBox(),f=new io(h.x,h.y,h.width,h.height).expand(u),p=T(Ed(t.view.viewBBox,f,r),2),d=p[0],g=p[1],v=T(Ed(t.layoutBBox,f,r),2),y=v[0],m=v[1],x=0,b=0;r.startsWith("top")||r.startsWith("bottom")?(x=d,b=m):(x=y,b=g),n.setLocation({x:x+u[3],y:b+u[0]}),t.layoutBBox=t.layoutBBox.cut(f,r)}))},e.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var e={};if((0,O.U2)(this.option,"custom")){var n="global-custom",r=this.getComponentById(n);if(r){var i=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);no(i,["container"]),r.component.update(i),e[n]=!0}else{var a=this.createCustomLegend(void 0,void 0,void 0,this.option);if(a){a.init();var o=k.FORE,s=Md(this.option);this.components.push({id:n,component:a,layer:o,direction:s,type:A.LEGEND,extra:void 0}),e[n]=!0}}}else this.loopLegends((function(n,r,i){var a=t.getId(i.field),o=t.getComponentById(a);if(o){var s=void 0,l=kd(t.option,i.field);!1!==l&&((0,O.U2)(l,"custom")?s=t.getCategoryCfg(n,r,i,l,!0):i.isLinear?s=t.getContinuousCfg(n,r,i,l):i.isCategory&&(s=t.getCategoryCfg(n,r,i,l))),s&&(no(s,["container"]),o.direction=Md(l),o.component.update(s),e[a]=!0)}else{var c=t.createFieldLegend(n,r,i);c&&(c.component.init(),t.components.push(c),e[a]=!0)}}));var l=[];(0,O.S6)(this.getComponents(),(function(t){e[t.id]?l.push(t):t.component.destroy()})),this.components=l},e.prototype.clear=function(){t.prototype.clear.call(this),this.container.clear()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.container.remove(!0)},e.prototype.getGeometries=function(t){var e=this,n=t.geometries;return(0,O.S6)(t.views,(function(t){n=n.concat(e.getGeometries(t))})),n},e.prototype.loopLegends=function(t){if(this.view.getRootView()===this.view){var e=this.getGeometries(this.view),n={};(0,O.S6)(e,(function(e){var r=e.getGroupAttributes();(0,O.S6)(r,(function(r){var i=r.getScale(r.type);i&&"identity"!==i.type&&!n[i.field]&&(t(e,r,i),n[i.field]=!0)}))}))}},e.prototype.createFieldLegend=function(t,e,n){var r,i=kd(this.option,n.field),a=k.FORE,o=Md(i);if(!1!==i&&((0,O.U2)(i,"custom")?r=this.createCustomLegend(t,e,n,i):n.isLinear?r=this.createContinuousLegend(t,e,n,i):n.isCategory&&(r=this.createCategoryLegend(t,e,n,i))),r)return r.set("field",n.field),{id:this.getId(n.field),component:r,layer:a,direction:o,type:A.LEGEND,extra:{scale:n}}},e.prototype.createCustomLegend=function(t,e,n,r){var i=this.getCategoryCfg(t,e,n,r,!0);return new Ya(i)},e.prototype.createContinuousLegend=function(t,e,n,r){var i=this.getContinuousCfg(t,e,n,no(r,["value"]));return new ja(i)},e.prototype.createCategoryLegend=function(t,e,n,r){var i=this.getCategoryCfg(t,e,n,r);return new Ya(i)},e.prototype.getContinuousCfg=function(t,e,n,r){var i=n.getTicks(),a=(0,O.sE)(i,(function(t){return 0===t.value})),o=(0,O.sE)(i,(function(t){return 1===t.value})),s=i.map((function(t){var r=t.value,i=t.tickValue,a=e.mapping(n.invert(r)).join("");return{value:i,attrValue:a,color:a,scaleValue:r}}));a||s.push({value:n.min,attrValue:e.mapping(n.invert(0)).join(""),color:e.mapping(n.invert(0)).join(""),scaleValue:0}),o||s.push({value:n.max,attrValue:e.mapping(n.invert(1)).join(""),color:e.mapping(n.invert(1)).join(""),scaleValue:1}),s.sort((function(t,e){return t.value-e.value}));var l={min:(0,O.YM)(s).value,max:(0,O.Z$)(s).value,colors:[],rail:{type:e.type},track:{}};"size"===e.type&&(l.track={style:{fill:"size"===e.type?this.view.getTheme().defaultColor:void 0}}),"color"===e.type&&(l.colors=s.map((function(t){return t.attrValue})));var c=this.container,u=cc(Md(r)),h=(0,O.U2)(r,"title");return h&&(h=(0,O.b$)({text:fo(n)},h)),l.container=c,l.layout=u,l.title=h,l.animateOption=Tl,this.mergeLegendCfg(l,r,"continuous")},e.prototype.getCategoryCfg=function(t,e,n,r,i){var a=this.container,o=(0,O.U2)(r,"position",M.BOTTOM),s=hc(this.view.getTheme(),o),l=(0,O.U2)(s,["marker"]),c=(0,O.U2)(r,"marker"),u=cc(o),h=(0,O.U2)(s,["pageNavigator"]),f=(0,O.U2)(r,"pageNavigator"),p=i?function(t,e,n){return n.map((function(n,r){var i=e;(0,O.mf)(i)&&(i=i(n.name,r,(0,O.b$)({},t,n)));var a=(0,O.mf)(n.marker)?n.marker(n.name,r,(0,O.b$)({},t,n)):n.marker,o=(0,O.b$)({},t,i,a);return lc(o),n.marker=o,n}))}(l,c,r.items):uc(this.view,t,e,l,c),d=(0,O.U2)(r,"title");d&&(d=(0,O.b$)({text:n?fo(n):""},d));var g=(0,O.U2)(r,"maxWidthRatio"),v=(0,O.U2)(r,"maxHeightRatio"),y=this.getCategoryLegendSizeCfg(u,g,v);y.container=a,y.layout=u,y.items=p,y.title=d,y.animateOption=Tl,y.pageNavigator=(0,O.b$)({},h,f);var m=this.mergeLegendCfg(y,r,o);m.reversed&&m.items.reverse();var x=(0,O.U2)(m,"maxItemWidth");return x&&x<=1&&(m.maxItemWidth=this.view.viewBBox.width*x),m},e.prototype.mergeLegendCfg=function(t,e,n){var r=n.split("-")[0],i=hc(this.view.getTheme(),r);return(0,O.b$)({},i,t,e)},e.prototype.getId=function(t){return"".concat(this.name,"-").concat(t)},e.prototype.getComponentById=function(t){return(0,O.sE)(this.components,(function(e){return e.id===t}))},e.prototype.getCategoryLegendSizeCfg=function(t,e,n){void 0===e&&(e=.25),void 0===n&&(n=.25);var r=this.view.viewBBox,i=r.width,a=r.height;return"vertical"===t?{maxWidth:i*e,maxHeight:a}:{maxWidth:i,maxHeight:a*n}},e}(ml),Od=Ad,Fd=function(t){function e(e){var n=t.call(this,e)||this;return n.onChangeFn=O.ZT,n.resetMeasure=function(){n.clear()},n.onValueChange=function(t){var e=T(t,2),r=e[0],i=e[1];n.start=r,n.end=i,n.changeViewData(r,i)},n.container=n.view.getLayer(k.FORE).addGroup(),n.onChangeFn=(0,O.P2)(n.onValueChange,20,{leading:!0}),n.width=0,n.view.on(F.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(F.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return m(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.view.off(F.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(F.BEFORE_CHANGE_SIZE,this.resetMeasure)},e.prototype.init=function(){},e.prototype.render=function(){this.option=this.view.getOptions().slider;var t=this.getSliderCfg(),e=t.start,n=t.end;(0,O.UM)(this.start)&&(this.start=e,this.end=n);var r=this.view.getOptions().data;this.option&&!(0,O.xb)(r)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},e.prototype.layout=function(){var t=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout((function(){t.view.destroyed||t.changeViewData(t.start,t.end)}),0)),this.slider){var e=this.view.coordinateBBox.width,n=this.slider.component.get("padding"),r=T(n,4),i=r[0],a=(r[1],r[2],r[3]),o=this.slider.component.getLayoutBBox(),s=new io(o.x,o.y,Math.min(o.width,e),o.height).expand(n),l=this.getMinMaxText(this.start,this.end),c=l.minText,u=l.maxText,h=T(Ed(this.view.viewBBox,s,M.BOTTOM),2),f=(h[0],h[1]),p=T(Ed(this.view.coordinateBBox,s,M.BOTTOM),2),d=p[0];p[1];this.slider.component.update(x(x({},this.getSliderCfg()),{x:d+a,y:f+i,width:this.width,start:this.start,end:this.end,minText:c,maxText:u})),this.view.viewBBox=this.view.viewBBox.cut(s,M.BOTTOM)}},e.prototype.update=function(){this.render()},e.prototype.createSlider=function(){var t=this.getSliderCfg(),e=new _a(x({container:this.container},t));return e.init(),{component:e,layer:k.FORE,direction:M.BOTTOM,type:A.SLIDER}},e.prototype.updateSlider=function(){var t=this.getSliderCfg();if(this.width){var e=this.getMinMaxText(this.start,this.end),n=e.minText,r=e.maxText;t=x(x({},t),{width:this.width,start:this.start,end:this.end,minText:n,maxText:r})}return this.slider.component.update(t),this.slider},e.prototype.measureSlider=function(){var t=this.getSliderCfg().width;this.width=t},e.prototype.getSliderCfg=function(){var t={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if((0,O.Kn)(this.option)){var e=x({data:this.getData()},(0,O.U2)(this.option,"trendCfg",{}));t=(0,O.b$)({},t,this.getThemeOptions(),this.option),t=x(x({},t),{trendCfg:e})}return t.start=(0,O.uZ)(Math.min((0,O.UM)(t.start)?0:t.start,(0,O.UM)(t.end)?1:t.end),0,1),t.end=(0,O.uZ)(Math.max((0,O.UM)(t.start)?0:t.start,(0,O.UM)(t.end)?1:t.end),0,1),t},e.prototype.getData=function(){var t=this.view.getOptions().data,e=T(this.view.getYScales(),1)[0],n=this.view.getGroupScales();if(n.length){var r=n[0],i=r.field,a=r.ticks;return t.reduce((function(t,n){return n[i]===a[0]&&t.push(n[e.field]),t}),[])}return t.map((function(t){return t[e.field]||0}))},e.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,O.U2)(t,["components","slider","common"],{})},e.prototype.getMinMaxText=function(t,e){var n=this.view.getOptions().data,r=this.view.getXScale(),i=(0,O.I)(n,r.field);r.isLinear&&(i=i.sort());var a=i,o=(0,O.dp)(n);if(!r||!o)return{};var s=(0,O.dp)(a),l=Math.round(t*(s-1)),c=Math.round(e*(s-1)),u=(0,O.U2)(a,[l]),h=(0,O.U2)(a,[c]),f=this.getSliderCfg().formatter;return f&&(u=f(u,n[l],l),h=f(h,n[c],c)),{minText:u,maxText:h}},e.prototype.changeViewData=function(t,e){var n=this.view.getOptions().data,r=this.view.getXScale(),i=(0,O.dp)(n);if(r&&i){var a=(0,O.I)(n,r.field),o=this.view.getXScale().isLinear?a.sort((function(t,e){return Number(t)-Number(e)})):a,s=o,l=(0,O.dp)(s),c=Math.round(t*(l-1)),u=Math.round(e*(l-1));this.view.filter(r.field,(function(t,e){var n=s.indexOf(t);return!(n>-1)||eo(n,c,u)})),this.view.render(!0)}},e.prototype.getComponents=function(){return this.slider?[this.slider]:[]},e.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},e}(ml),Id=Fd,Pd=function(t){function e(e){var n=t.call(this,e)||this;return n.onChangeFn=O.ZT,n.resetMeasure=function(){n.clear()},n.onValueChange=function(t){var e=t.ratio,r=n.getValidScrollbarCfg().animate;n.ratio=(0,O.uZ)(e,0,1);var i=n.view.getOptions().animate;r||n.view.animate(!1),n.changeViewData(n.getScrollRange(),!0),n.view.animate(i)},n.container=n.view.getLayer(k.FORE).addGroup(),n.onChangeFn=(0,O.P2)(n.onValueChange,20,{leading:!0}),n.trackLen=0,n.thumbLen=0,n.ratio=0,n.view.on(F.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(F.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return m(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.view.off(F.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(F.BEFORE_CHANGE_SIZE,this.resetMeasure)},e.prototype.init=function(){},e.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},e.prototype.layout=function(){var t=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout((function(){t.view.destroyed||t.changeViewData(t.getScrollRange(),!0)}))),this.scrollbar){var e=this.view.coordinateBBox.width,n=this.scrollbar.component.get("padding"),r=this.scrollbar.component.getLayoutBBox(),i=new io(r.x,r.y,Math.min(r.width,e),r.height).expand(n),a=this.getScrollbarComponentCfg(),o=void 0,s=void 0;if(a.isHorizontal){var l=T(Ed(this.view.viewBBox,i,M.BOTTOM),2),c=(l[0],l[1]),u=T(Ed(this.view.coordinateBBox,i,M.BOTTOM),2),h=u[0];u[1];o=h,s=c}else{var f=T(Ed(this.view.viewBBox,i,M.RIGHT),2),p=(f[0],c=f[1],T(Ed(this.view.viewBBox,i,M.RIGHT),2));h=p[0],p[1];o=h,s=c}o+=n[3],s+=n[0],this.trackLen?this.scrollbar.component.update(x(x({},a),{x:o,y:s,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update(x(x({},a),{x:o,y:s})),this.view.viewBBox=this.view.viewBBox.cut(i,a.isHorizontal?M.BOTTOM:M.RIGHT)}},e.prototype.update=function(){this.render()},e.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},e.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},e.prototype.setValue=function(t){this.onValueChange({ratio:t})},e.prototype.getValue=function(){return this.ratio},e.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,O.U2)(t,["components","scrollbar","common"],{})},e.prototype.getScrollbarTheme=function(t){var e=(0,O.U2)(this.view.getTheme(),["components","scrollbar"]),n=t||{},r=n.thumbHighlightColor,i=b(n,["thumbHighlightColor"]);return{default:(0,O.b$)({},(0,O.U2)(e,["default","style"],{}),i),hover:(0,O.b$)({},(0,O.U2)(e,["hover","style"],{}),{thumbColor:r})}},e.prototype.measureScrollbar=function(){var t=this.view.getXScale(),e=this.view.getYScales().slice();this.data=this.getScrollbarData(),this.step=this.getStep(),this.cnt=this.getCnt();var n=this.getScrollbarComponentCfg(),r=n.trackLen,i=n.thumbLen;this.trackLen=r,this.thumbLen=i,this.xScaleCfg={field:t.field,values:t.values||[]},this.yScalesCfg=e},e.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,O.uZ)(this.ratio,0,1));return[t,Math.min(t+this.step-1,this.cnt-1)]},e.prototype.changeViewData=function(t,e){var n=this,r=T(t,2),i=r[0],a=r[1],o="vertical"!==this.getValidScrollbarCfg().type,s=(0,O.I)(this.data,this.xScaleCfg.field),l=this.view.getXScale().isLinear?s.sort((function(t,e){return Number(t)-Number(e)})):s,c=o?l:l.reverse();this.yScalesCfg.forEach((function(t){n.view.scale(t.field,{formatter:t.formatter,type:t.type,min:t.min,max:t.max,tickMethod:t.tickMethod})})),this.view.filter(this.xScaleCfg.field,(function(t){var e=c.indexOf(t);return!(e>-1)||eo(e,i,a)})),this.view.render(!0)},e.prototype.createScrollbar=function(){var t="vertical"!==this.getValidScrollbarCfg().type,e=new za(x(x({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return e.init(),{component:e,layer:k.FORE,direction:t?M.BOTTOM:M.RIGHT,type:A.SCROLLBAR}},e.prototype.updateScrollbar=function(){var t=this.getScrollbarComponentCfg(),e=this.trackLen?x(x({},t),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):x({},t);return this.scrollbar.component.update(e),this.scrollbar},e.prototype.getStep=function(){if(this.step)return this.step;var t=this.view.coordinateBBox,e=this.getValidScrollbarCfg(),n=e.type,r=e.categorySize,i="vertical"!==n;return Math.floor((i?t.width:t.height)/r)},e.prototype.getCnt=function(){if(this.cnt)return this.cnt;var t=this.view.getXScale(),e=this.getScrollbarData(),n=(0,O.I)(e,t.field);return(0,O.dp)(n)},e.prototype.getScrollbarComponentCfg=function(){var t=this.view,e=t.coordinateBBox,n=t.viewBBox,r=this.getValidScrollbarCfg(),i=r.type,a=r.padding,o=r.width,s=r.height,l=r.style,c="vertical"!==i,u=T(a,4),h=u[0],f=u[1],p=u[2],d=u[3],g=c?{x:e.minX+d,y:n.maxY-s-p}:{x:n.maxX-o-f,y:e.minY+h},v=this.getStep(),y=this.getCnt(),m=c?e.width-d-f:e.height-h-p,b=Math.max(m*(0,O.uZ)(v/y,0,1),20);return x(x({},this.getThemeOptions()),{x:g.x,y:g.y,size:c?s:o,isHorizontal:c,trackLen:m,thumbLen:b,thumbOffset:0,theme:this.getScrollbarTheme(l)})},e.prototype.getValidScrollbarCfg=function(){var t={type:"horizontal",categorySize:32,width:8,height:8,padding:[0,0,0,0],animate:!0,style:{}};return(0,O.Kn)(this.option)&&(t=x(x({},t),this.option)),(0,O.Kn)(this.option)&&this.option.padding||(t.padding=(t.type,[0,0,0,0])),t},e.prototype.getScrollbarData=function(){var t=this.view.getCoordinate(),e=this.getValidScrollbarCfg(),n=this.view.getOptions().data||[];return t.isReflect("y")&&"vertical"===e.type&&(n=E([],T(n),!1).reverse()),n},e}(ml),Dd=Pd,Ld={fill:"#CCD6EC",opacity:.3};function Rd(t,e,n){var r,i,a,o,s,l,c=function(t,e,n){var r,i,a=el(t,e,n);try{for(var o=C(t.views),s=o.next();!s.done;s=o.next()){var l=s.value;a=a.concat(el(l,e,n))}}catch(c){r={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return a}(t,e,n);if(c.length){c=(0,O.xH)(c);try{for(var u=C(c),h=u.next();!h.done;h=u.next()){var f=h.value;try{for(var p=(a=void 0,C(f)),d=p.next();!d.done;d=p.next()){var g=d.value,v=g.mappingData,y=v.x,m=v.y;g.x=(0,O.kJ)(y)?y[y.length-1]:y,g.y=(0,O.kJ)(m)?m[m.length-1]:m}}catch(k){a={error:k}}finally{try{d&&!d.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}}}catch(M){r={error:M}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}if(!1===n.shared&&c.length>1){var x=c[0],b=Math.abs(e.y-x[0].y);try{for(var w=C(c),S=w.next();!S.done;S=w.next()){var T=S.value,E=Math.abs(e.y-T[0].y);E<=b&&(x=T,b=E)}}catch(A){s={error:A}}finally{try{S&&!S.done&&(l=w.return)&&l.call(w)}finally{if(s)throw s.error}}c=[x]}return(0,O.jj)((0,O.xH)(c))}return[]}var Bd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.show=function(t){var e=this.context.view,n=this.context.event,r=e.getController("tooltip").getTooltipCfg(),i=Rd(e,{x:n.x,y:n.y},r);if(!(0,O.Xy)(i,this.items)&&(this.items=i,i.length)){var a=e.getXScale().field,o=i[0].data[a],s=[],l=e.geometries;if((0,O.S6)(l,(function(t){if("interval"===t.type||"schema"===t.type){var e=t.getElementsBy((function(t){return t.getData()[a]===o}));s=s.concat(e)}})),s.length){var c=e.getCoordinate(),u=s[0].shape.getCanvasBBox(),h=s[0].shape.getCanvasBBox(),f=u;(0,O.S6)(s,(function(t){var e=t.shape.getCanvasBBox();c.isTransposed?(e.minY<u.minY&&(u=e),e.maxY>h.maxY&&(h=e)):(e.minX<u.minX&&(u=e),e.maxX>h.maxX&&(h=e)),f.x=Math.min(e.minX,f.minX),f.y=Math.min(e.minY,f.minY),f.width=Math.max(e.maxX,f.maxX)-f.x,f.height=Math.max(e.maxY,f.maxY)-f.y}));var p=e.backgroundGroup,d=e.coordinateBBox,g=void 0;if(c.isRect){var v=e.getXScale(),y=t||{},m=y.appendRatio,b=y.appendWidth;(0,O.UM)(b)&&(m=(0,O.UM)(m)?v.isLinear?0:.25:m,b=c.isTransposed?m*h.height:m*u.width);var w=void 0,S=void 0,C=void 0,T=void 0;c.isTransposed?(w=d.minX,S=Math.min(h.minY,u.minY)-b,C=d.width,T=f.height+2*b):(w=Math.min(u.minX,h.minX)-b,S=d.minY,C=f.width+2*b,T=d.height),g=[["M",w,S],["L",w+C,S],["L",w+C,S+T],["L",w,S+T],["Z"]]}else{var E=(0,O.YM)(s),k=(0,O.Z$)(s),M=Qa(E.getModel(),c).startAngle,A=Qa(k.getModel(),c).endAngle,F=c.getCenter(),I=c.getRadius(),P=c.innerRadius*I;g=Ka(F.x,F.y,I,M,A,P)}if(this.regionPath)this.regionPath.attr("path",g),this.regionPath.show();else{var D=(0,O.U2)(t,"style",Ld);this.regionPath=p.addShape({type:"path",name:"active-region",capture:!1,attrs:x(x({},D),{path:g})})}}}},e.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},e.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),t.prototype.destroy.call(this)},e}(Ao),_d=Bd,Nd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeStamp=0,e}return m(e,t),e.prototype.show=function(){var t=this.context,e=t.event,n=t.view;if(!n.isTooltipLocked()){var r=this.timeStamp,i=+new Date;if(i-r>(0,O.U2)(t.view.getOptions(),"tooltip.showDelay",16)){var a=this.location,o={x:e.x,y:e.y};a&&(0,O.Xy)(a,o)||this.showTooltip(n,o),this.timeStamp=i,this.location=o}}},e.prototype.hide=function(){var t=this.context.view,e=t.getController("tooltip"),n=this.context.event,r=n.clientX,i=n.clientY;e.isCursorEntered({x:r,y:i})||t.isTooltipLocked()||(this.hideTooltip(t),this.location=null)},e.prototype.showTooltip=function(t,e){t.showTooltip(e)},e.prototype.hideTooltip=function(t){t.hideTooltip()},e}(Ao),Ud=Nd,zd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.showTooltip=function(t,e){var n=fs(t);(0,O.S6)(n,(function(n){var r=ps(t,n,e);n.showTooltip(r)}))},e.prototype.hideTooltip=function(t){var e=fs(t);(0,O.S6)(e,(function(t){t.hideTooltip()}))},e}(Ud),Hd=zd,Vd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeStamp=0,e}return m(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.show=function(){var t=this.context.event,e=this.timeStamp,n=+new Date;if(n-e>16){var r=this.location,i={x:t.x,y:t.y};r&&(0,O.Xy)(r,i)||this.showTooltip(i),this.timeStamp=n,this.location=i}},e.prototype.hide=function(){this.hideTooltip(),this.location=null},e.prototype.showTooltip=function(t){var e=this.context.event.target;if(e&&e.get("tip")){this.tooltip||this.renderTooltip();var n=e.get("tip");this.tooltip.update(x({title:n},t)),this.tooltip.show()}},e.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,e=this.context.view,n=e.canvas,r={start:{x:0,y:0},end:{x:n.get("width"),y:n.get("height")}},i=e.getTheme(),a=(0,O.U2)(i,["components","tooltip","domStyles"],{}),o=new Xa({parent:n.get("el").parentNode,region:r,visible:!1,crosshairs:null,domStyles:x({},(0,O.b$)({},a,(t={},t[ha]={"max-width":"50%"},t[fa]={"word-break":"break-all"},t)))});o.init(),o.setCapture(!1),this.tooltip=o},e}(Ao),Gd=Vd,Wd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="",e}return m(e,t),e.prototype.hasState=function(t){return t.hasState(this.stateName)},e.prototype.setElementState=function(t,e){t.setState(this.stateName,e)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},e.prototype.clearViewState=function(t){var e=this,n=is(t,this.stateName);(0,O.S6)(n,(function(t){e.setElementState(t,!1)}))},e}(Ao),Yd=Wd;function jd(t){return(0,O.U2)(t.get("delegateObject"),"item")}var Xd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ignoreListItemStates=["unchecked"],e}return m(e,t),e.prototype.isItemIgnore=function(t,e){var n=this.ignoreListItemStates.filter((function(n){return e.hasState(t,n)}));return!!n.length},e.prototype.setStateByComponent=function(t,e,n){var r=this.context.view,i=t.get("field"),a=rs(r);this.setElementsStateByItem(a,i,e,n)},e.prototype.setStateByElement=function(t,e){this.setElementState(t,e)},e.prototype.isMathItem=function(t,e,n){var r=gs(this.context.view,e),i=as(t,e);return!(0,O.UM)(i)&&n.name===r.getText(i)},e.prototype.setElementsStateByItem=function(t,e,n,r){var i=this;(0,O.S6)(t,(function(t){i.isMathItem(t,e,n)&&t.setState(i.stateName,r)}))},e.prototype.setStateEnable=function(t){var e=Xo(this.context);if(e)qo(this.context)&&this.setStateByElement(e,t);else{var n=$o(this.context);if(Zo(n)){var r=n.item,i=n.component;if(r&&i&&!this.isItemIgnore(r,i)){var a=this.context.event.gEvent;if(a&&a.fromShape&&a.toShape&&jd(a.fromShape)===jd(a.toShape))return;this.setStateByComponent(i,r,t)}}}},e.prototype.toggle=function(){var t=Xo(this.context);if(t){var e=t.hasState(this.stateName);this.setElementState(t,!e)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}(Yd),$d=Xd,qd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return m(e,t),e.prototype.active=function(){this.setState()},e}($d),Zd=qd,Kd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cache={},e}return m(e,t),e.prototype.getColorScale=function(t,e){var n=e.geometry.getAttribute("color");return n?t.getScaleByField(n.getFields()[0]):null},e.prototype.getLinkPath=function(t,e){var n=this.context.view.getCoordinate().isTransposed,r=t.shape.getCanvasBBox(),i=e.shape.getCanvasBBox();return n?[["M",r.minX,r.minY],["L",i.minX,i.maxY],["L",i.maxX,i.maxY],["L",r.maxX,r.minY],["Z"]]:[["M",r.maxX,r.minY],["L",i.minX,i.minY],["L",i.minX,i.maxY],["L",r.maxX,r.maxY],["Z"]]},e.prototype.addLinkShape=function(t,e,n,r){var i={opacity:.4,fill:e.shape.attr("fill")};t.addShape({type:"path",attrs:x(x({},(0,O.b$)({},i,(0,O.mf)(r)?r(i,e):r)),{path:this.getLinkPath(e,n)})})},e.prototype.linkByElement=function(t,e){var n=this,r=this.context.view,i=this.getColorScale(r,t);if(i){var a=as(t,i.field);if(!this.cache[a]){var o=function(t,e,n){return rs(t).filter((function(t){return as(t,e)===n}))}(r,i.field,a),s=this.linkGroup.addGroup();this.cache[a]=s;var l=o.length;(0,O.S6)(o,(function(t,r){if(r<l-1){var i=o[r+1];n.addLinkShape(s,t,i,e)}}))}}},e.prototype.removeLink=function(t){var e=this.getColorScale(this.context.view,t);if(e){var n=as(t,e.field);this.cache[n]&&(this.cache[n].remove(),this.cache[n]=null)}},e.prototype.link=function(t){var e=this.context;this.linkGroup||(this.linkGroup=e.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var n=Xo(e);n&&this.linkByElement(n,null===t||void 0===t?void 0:t.style)},e.prototype.unlink=function(){var t=Xo(this.context);t&&this.removeLink(t)},e.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},e}(Ao),Jd=Kd,Qd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startPoint=null,e.endPoint=null,e.isStarted=!1,e.effectSiblings=!1,e.effectByRecord=!1,e}return m(e,t),e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},e.prototype.getIntersectElements=function(){var t=null;if(Jo(this.context))t=ts(this.context,10);else{var e=this.startPoint,n=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!n)return;var r={minX:Math.min(e.x,n.x),minY:Math.min(e.y,n.y),maxX:Math.max(e.x,n.x),maxY:Math.max(e.y,n.y)};t=os(this.context.view,r)}return t},e.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var e=rs(this.context.view),n=this.getIntersectElements();n&&n.length?this.effectByRecord?this.setSiblingsStateByRecord(n,t):this.setElementsState(n,t,e):this.clear()}},e.prototype.setSiblingsStateByRecord=function(t,e){var n=this,r=this.context.view,i=fs(r),a=t.map((function(t){return t.getModel().data})),o=r.getXScale().field,s=r.getYScales()[0].field;(0,O.S6)(i,(function(t){var r=rs(t),i=r.filter((function(t){var e=t.getModel().data;return ds(a,e,o,s)}));n.setElementsState(i,e,r)}))},e.prototype.setSiblingsState=function(t){var e=this,n=fs(this.context.view);Jo(this.context)&&(0,O.S6)(n,(function(n){var r=rs(n),i=es(e.context,n,10);i&&i.length?e.setElementsState(i,t,r):e.clearViewState(n)}))},e.prototype.setElementsState=function(t,e,n){var r=this;(0,O.S6)(n,(function(n){t.includes(n)?r.setElementState(n,e):r.setElementState(n,!1)}))},e.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},e.prototype.clear=function(){var t=this,e=this.context.view;if(this.effectSiblings){var n=fs(e);(0,O.S6)(n,(function(e){t.clearViewState(e)}))}else this.clearViewState(e)},e}(Yd),tg=Qd,eg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return m(e,t),e.prototype.active=function(){this.setState()},e}(tg),ng=eg,rg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.setStateEnable=function(t){var e=Xo(this.context);if(e){if(!qo(this.context))return;t?(this.clear(),this.setElementState(e,!0)):this.hasState(e)&&this.setElementState(e,!1)}},e.prototype.toggle=function(){var t=Xo(this.context);if(t){var e=this.hasState(t);e||this.clear(),this.setElementState(t,!e)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}(Yd),ig=rg,ag=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return m(e,t),e.prototype.active=function(){this.setState()},e}(ig),og=ag,sg="inactive",lg="active";function cg(t){var e=rs(t);(0,O.S6)(e,(function(t){t.hasState(lg)&&t.setState(lg,!1),t.hasState(sg)&&t.setState(sg,!1)}))}function ug(t,e,n){(0,O.S6)(t,(function(t){e(t)?(t.hasState(sg)&&t.setState(sg,!1),t.setState(lg,n)):(t.hasState(lg)&&t.setState(lg,!1),t.setState(sg,n))}))}var hg,fg=D.INACTIVE,pg=D.ACTIVE,dg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName=pg,e}return m(e,t),e.prototype.setElementsStateByItem=function(t,e,n,r){var i=this;this.setHighlightBy(t,(function(t){return i.isMathItem(t,e,n)}),r)},e.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(fg)&&t.setState(fg,!1),t.setState(pg,!0)):t.hasState(pg)||t.setState(fg,!0)},e.prototype.setHighlightBy=function(t,e,n){var r=this;if(n)(0,O.S6)(t,(function(t){r.setElementHighlight(t,e)}));else{var i=is(this.context.view,pg),a=!0;(0,O.S6)(i,(function(t){if(!e(t))return a=!1,!1})),a?this.clear():(0,O.S6)(t,(function(t){e(t)&&(t.hasState(pg)&&t.setState(pg,!1),t.setState(fg,!0))}))}},e.prototype.setElementState=function(t,e){var n=rs(this.context.view);this.setHighlightBy(n,(function(e){return t===e}),e)},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){cg(this.context.view)},e}($d),gg=dg,vg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.setStateByElement=function(t,e){var n=this.context.view,r=t.geometry.getAttribute("color");if(r){var i=n.getScaleByField(r.getFields()[0]),a=as(t,i.field),o=rs(n),s=o.filter((function(t){return as(t,i.field)===a}));this.setHighlightBy(o,(function(t){return s.includes(t)}),e)}},e}(gg),yg=vg,mg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(fg)&&t.setState(fg,!1),t.setState(pg,!0)):(t.setState(fg,!0),t.hasState(pg)&&t.setState(pg,!1))},e.prototype.setStateByElement=function(t,e){var n=this.context.view,r=n.getXScale(),i=as(t,r.field),a=rs(n),o=a.filter((function(t){return as(t,r.field)===i}));this.setHighlightBy(a,(function(t){return o.includes(t)}),e)},e.prototype.toggle=function(){var t=Xo(this.context);if(t){var e=t.hasState(this.stateName);this.setStateByElement(t,!e)}},e}(gg),xg=mg;!function(t){t.BEFORE_HIGHLIGHT="element-range-highlight:beforehighlight",t.AFTER_HIGHLIGHT="element-range-highlight:afterhighlight",t.BEFORE_CLEAR="element-range-highlight:beforeclear",t.AFTER_CLEAR="element-range-highlight:afterclear"}(hg||(hg={}));var bg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return m(e,t),e.prototype.clearViewState=function(t){cg(t)},e.prototype.highlight=function(){var t=this.context,e=t.view,n={view:e,event:t.event,highlightElements:this.getIntersectElements()};e.emit(hg.BEFORE_HIGHLIGHT,ll.fromData(e,hg.BEFORE_HIGHLIGHT,n)),this.setState(),e.emit(hg.AFTER_HIGHLIGHT,ll.fromData(e,hg.AFTER_HIGHLIGHT,n))},e.prototype.clear=function(){var e=this.context.view;e.emit(hg.BEFORE_CLEAR,ll.fromData(e,hg.BEFORE_CLEAR,{})),t.prototype.clear.call(this),e.emit(hg.AFTER_CLEAR,ll.fromData(e,hg.AFTER_CLEAR,{}))},e.prototype.setElementsState=function(t,e,n){ug(n,(function(e){return t.indexOf(e)>=0}),e)},e}(tg),wg=bg,Sg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return m(e,t),e.prototype.highlight=function(){this.setState()},e.prototype.setElementState=function(t,e){ug(rs(this.context.view),(function(e){return t===e}),e)},e.prototype.clear=function(){cg(this.context.view)},e}(ig),Cg=Sg,Tg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return m(e,t),e.prototype.selected=function(){this.setState()},e}(tg),Eg=Tg,kg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return m(e,t),e.prototype.selected=function(){this.setState()},e}($d),Mg=kg,Ag=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return m(e,t),e.prototype.selected=function(){this.setState()},e}(ig),Og=Ag,Fg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="",e.ignoreItemStates=[],e}return m(e,t),e.prototype.getTriggerListInfo=function(){var t=$o(this.context),e=null;return Zo(t)&&(e={item:t.item,list:t.component}),e},e.prototype.getAllowComponents=function(){var t=this,e=cs(this.context.view),n=[];return(0,O.S6)(e,(function(e){e.isList()&&t.allowSetStateByElement(e)&&n.push(e)})),n},e.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},e.prototype.clearAllComponentsState=function(){var t=this,e=this.getAllowComponents();(0,O.S6)(e,(function(e){e.clearItemsState(t.stateName)}))},e.prototype.allowSetStateByElement=function(t){var e=t.get("field");if(!e)return!1;if(this.cfg&&this.cfg.componentNames){var n=t.get("name");if(-1===this.cfg.componentNames.indexOf(n))return!1}var r=gs(this.context.view,e);return r&&r.isCategory},e.prototype.allowSetStateByItem=function(t,e){var n=this.ignoreItemStates;if(n.length){var r=n.filter((function(n){return e.hasState(t,n)}));return 0===r.length}return!0},e.prototype.setStateByElement=function(t,e,n){var r=t.get("field"),i=gs(this.context.view,r),a=as(e,r),o=i.getText(a);this.setItemsState(t,o,n)},e.prototype.setStateEnable=function(t){var e=this,n=Xo(this.context);if(n){var r=this.getAllowComponents();(0,O.S6)(r,(function(r){e.setStateByElement(r,n,t)}))}else{var i=$o(this.context);if(Zo(i)){var a=i.item,o=i.component;this.allowSetStateByElement(o)&&this.allowSetStateByItem(a,o)&&this.setItemState(o,a,t)}}},e.prototype.setItemsState=function(t,e,n){var r=this,i=t.getItems();(0,O.S6)(i,(function(i){i.name===e&&r.setItemState(t,i,n)}))},e.prototype.setItemState=function(t,e,n){t.setItemState(e,this.stateName,n)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.reset=function(){this.setStateEnable(!1)},e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item,r=this.hasState(e,n);this.setItemState(e,n,!r)}},e.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},e}(Ao),Ig=Fg,Pg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return m(e,t),e.prototype.active=function(){this.setState()},e}(Ig),Dg=Pg,Lg="inactive",Rg="active";var Bg="inactive",_g="active",Ng=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName=_g,e.ignoreItemStates=["unchecked"],e}return m(e,t),e.prototype.setItemsState=function(t,e,n){this.setHighlightBy(t,(function(t){return t.name===e}),n)},e.prototype.setItemState=function(t,e,n){t.getItems();this.setHighlightBy(t,(function(t){return t===e}),n)},e.prototype.setHighlightBy=function(t,e,n){var r=t.getItems();if(n)(0,O.S6)(r,(function(n){e(n)?(t.hasState(n,Bg)&&t.setItemState(n,Bg,!1),t.setItemState(n,_g,!0)):t.hasState(n,_g)||t.setItemState(n,Bg,!0)}));else{var i=t.getItemsByState(_g),a=!0;(0,O.S6)(i,(function(t){if(!e(t))return a=!1,!1})),a?this.clear():(0,O.S6)(r,(function(n){e(n)&&(t.hasState(n,_g)&&t.setItemState(n,_g,!1),t.setItemState(n,Bg,!0))}))}},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)!function(t){var e=t.getItems();(0,O.S6)(e,(function(e){t.hasState(e,Rg)&&t.setItemState(e,Rg,!1),t.hasState(e,Lg)&&t.setItemState(e,Lg,!1)}))}(t.list);else{var e=this.getAllowComponents();(0,O.S6)(e,(function(t){t.clearItemsState(_g),t.clearItemsState(Bg)}))}},e}(Ig),Ug=Ng,zg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return m(e,t),e.prototype.selected=function(){this.setState()},e}(Ig),Hg=zg,Vg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="unchecked",e}return m(e,t),e.prototype.unchecked=function(){this.setState()},e}(Ig),Gg=Vg,Wg="unchecked",Yg="checked",jg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName=Yg,e}return m(e,t),e.prototype.setItemState=function(t,e,n){this.setCheckedBy(t,(function(t){return t===e}),n)},e.prototype.setCheckedBy=function(t,e,n){var r=t.getItems();n&&(0,O.S6)(r,(function(n){e(n)?(t.hasState(n,Wg)&&t.setItemState(n,Wg,!1),t.setItemState(n,Yg,!0)):t.hasState(n,Yg)||t.setItemState(n,Wg,!0)}))},e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item;!(0,O.G)(e.getItems(),(function(t){return e.hasState(t,Wg)}))||e.hasState(n,Wg)?this.setItemState(e,n,!0):this.reset()}},e.prototype.checked=function(){this.setState()},e.prototype.reset=function(){var t=this.getAllowComponents();(0,O.S6)(t,(function(t){t.clearItemsState(Yg),t.clearItemsState(Wg)}))},e}(Ig),Xg=jg,$g="unchecked",qg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.toggle=function(){var t,e,n,r,i,a,o,s,l=this.getTriggerListInfo();if(null===l||void 0===l?void 0:l.item){var c=l.list,u=l.item,h=c.getItems(),f=h.filter((function(t){return!c.hasState(t,$g)})),p=h.filter((function(t){return c.hasState(t,$g)})),d=f[0];if(h.length===f.length)try{for(var g=C(h),v=g.next();!v.done;v=g.next()){var y=v.value;c.setItemState(y,$g,y.id!==u.id)}}catch(E){t={error:E}}finally{try{v&&!v.done&&(e=g.return)&&e.call(g)}finally{if(t)throw t.error}}else if(h.length-p.length===1)if(d.id===u.id)try{for(var m=C(h),x=m.next();!x.done;x=m.next()){y=x.value;c.setItemState(y,$g,!1)}}catch(k){n={error:k}}finally{try{x&&!x.done&&(r=m.return)&&r.call(m)}finally{if(n)throw n.error}}else try{for(var b=C(h),w=b.next();!w.done;w=b.next()){y=w.value;c.setItemState(y,$g,y.id!==u.id)}}catch(M){i={error:M}}finally{try{w&&!w.done&&(a=b.return)&&a.call(b)}finally{if(i)throw i.error}}else try{for(var S=C(h),T=S.next();!T.done;T=S.next()){y=T.value;c.setItemState(y,$g,y.id!==u.id)}}catch(A){o={error:A}}finally{try{T&&!T.done&&(s=S.return)&&s.call(S)}finally{if(o)throw o.error}}}},e}(Ig),Zg=qg,Kg="showRadio",Jg="legend-radio-tip",Qg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeStamp=0,e}return m(e,t),e.prototype.show=function(){var t=this.getTriggerListInfo();if(null===t||void 0===t?void 0:t.item){var e=t.list,n=t.item;e.setItemState(n,Kg,!0)}},e.prototype.hide=function(){var t=this.getTriggerListInfo();if(null===t||void 0===t?void 0:t.item){var e=t.list,n=t.item;e.setItemState(n,Kg,!1)}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.showTip=function(){var t=this.context.event,e=this.timeStamp,n=+new Date,r=this.context.event.target;if(n-e>16&&"legend-item-radio"===r.get("name")){var i=this.location,a={x:t.x,y:t.y};this.timeStamp=n,this.location=a,i&&(0,O.Xy)(i,a)||this.showTooltip(a)}},e.prototype.hideTip=function(){this.hideTooltip(),this.location=null},e.prototype.showTooltip=function(t){var e=this.context,n=e.event.target;if(n&&n.get("tip")){this.tooltip||this.renderTooltip();var r=e.view.getCanvas().get("el").getBoundingClientRect(),i=r.x,a=r.y;this.tooltip.update(x(x({title:n.get("tip")},t),{x:t.x+i,y:t.y+a})),this.tooltip.show()}},e.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,e=((t={})[ha]={padding:"6px 8px",transform:"translate(-50%, -80%)",background:"rgba(0,0,0,0.75)",color:"#fff","border-radius":"2px","z-index":100},t[fa]={"font-size":"12px","line-height":"14px","margin-bottom":0,"word-break":"break-all"},t);document.getElementById(Jg)&&document.body.removeChild(document.getElementById(Jg));var n=new Xa({parent:document.body,region:null,visible:!1,crosshairs:null,domStyles:e,containerId:Jg});n.init(),n.setCapture(!1),this.tooltip=n},e}(Ig),tv=Qg,ev=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maskShape=null,e.points=[],e.starting=!1,e.moving=!1,e.preMovePoint=null,e.shapeType="path",e}return m(e,t),e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.emitEvent=function(t){var e="mask:".concat(t),n=this.context.view,r=this.context.event;n.emit(e,{target:this.maskShape,shape:this.maskShape,points:this.points,x:r.x,y:r.y})},e.prototype.createMask=function(){var t=this.context.view,e=this.getMaskAttrs();return t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:x({fill:"#C5D4EB",opacity:.3},e)})},e.prototype.getMaskPath=function(){return[]},e.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},e.prototype.start=function(t){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(null===t||void 0===t?void 0:t.maskStyle),this.emitEvent("start")},e.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},e.prototype.move=function(){if(this.moving&&this.maskShape){var t=this.getCurrentPoint(),e=this.preMovePoint,n=t.x-e.x,r=t.y-e.y,i=this.points;(0,O.S6)(i,(function(t){t.x+=n,t.y+=r})),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},e.prototype.updateMask=function(t){var e=(0,O.b$)({},this.getMaskAttrs(),t);this.maskShape.attr(e)},e.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},e.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},e.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},e.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},e.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,t.prototype.destroy.call(this)},e}(Ao),nv=ev;function rv(t){var e=(0,O.Z$)(t),n=0,r=0,i=0;if(t.length){var a=t[0];n=us(a,e)/2,r=(e.x+a.x)/2,i=(e.y+a.y)/2}return{x:r,y:i,r:n}}var iv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shapeType="circle",e}return m(e,t),e.prototype.getMaskAttrs=function(){return rv(this.points)},e}(nv),av=iv;function ov(t){return{start:(0,O.YM)(t),end:(0,O.Z$)(t)}}function sv(t,e){return{x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),width:Math.abs(e.x-t.x),height:Math.abs(e.y-t.y)}}var lv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shapeType="rect",e}return m(e,t),e.prototype.getRegion=function(){return ov(this.points)},e.prototype.getMaskAttrs=function(){var t=this.getRegion();return sv(t.start,t.end)},e}(nv),cv=lv;function uv(t){t.x=(0,O.uZ)(t.x,0,1),t.y=(0,O.uZ)(t.y,0,1)}function hv(t,e,n,r){var i=null,a=null,o=r.invert((0,O.YM)(t)),s=r.invert((0,O.Z$)(t));return n&&(uv(o),uv(s)),"x"===e?(i=r.convert({x:o.x,y:0}),a=r.convert({x:s.x,y:1})):(i=r.convert({x:0,y:o.y}),a=r.convert({x:1,y:s.y})),{start:i,end:a}}var fv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dim="x",e.inPlot=!0,e}return m(e,t),e.prototype.getRegion=function(){var t=this.context.view.getCoordinate();return hv(this.points,this.dim,this.inPlot,t)},e}(cv),pv=fv;function dv(t){var e=[];return t.length&&((0,O.S6)(t,(function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e.push(["L",t[0].x,t[0].y])),e}function gv(t){return{path:dv(t)}}var vv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.getMaskPath=function(){return dv(this.points)},e.prototype.getMaskAttrs=function(){return gv(this.points)},e.prototype.addPoint=function(){this.resize()},e}(nv),yv=vv;function mv(t){return function(t,e){if(t.length<=2)return Uo(t,!1);var n=t[0],r=[];(0,O.S6)(t,(function(t){r.push(t.x),r.push(t.y)}));var i=No(r,e,null);return i.unshift(["M",n.x,n.y]),i}(t,!0)}function xv(t){return{path:mv(t)}}var bv,wv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.getMaskPath=function(){return mv(this.points)},e.prototype.getMaskAttrs=function(){return xv(this.points)},e}(yv),Sv=wv,Cv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maskShapes=[],e.starting=!1,e.moving=!1,e.recordPoints=null,e.preMovePoint=null,e.shapeType="path",e.maskType="multi-mask",e}return m(e,t),e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.emitEvent=function(t){var e="".concat(this.maskType,":").concat(t),n=this.context.view,r=this.context.event,i={type:this.shapeType,name:this.maskType,get:function(t){return i.hasOwnProperty(t)?i[t]:void 0}};n.emit(e,{target:i,maskShapes:this.maskShapes,multiPoints:this.recordPoints,x:r.x,y:r.y})},e.prototype.createMask=function(t){var e=this.context.view,n=this.recordPoints[t],r=this.getMaskAttrs(n),i=e.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:x({fill:"#C5D4EB",opacity:.3},r)});this.maskShapes.push(i)},e.prototype.getMaskPath=function(t){return[]},e.prototype.show=function(){this.maskShapes.length>0&&(this.maskShapes.forEach((function(t){return t.show()})),this.emitEvent("show"))},e.prototype.start=function(t){this.recordPointStart(),this.starting=!0,this.moving=!1;var e=this.recordPoints.length-1;this.createMask(e),this.updateShapesCapture(!1),this.updateMask(null===t||void 0===t?void 0:t.maskStyle),this.emitEvent("start")},e.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint(),this.updateShapesCapture(!1)},e.prototype.move=function(){if(this.moving&&0!==this.maskShapes.length){var t=this.getCurrentPoint(),e=this.preMovePoint,n=t.x-e.x,r=t.y-e.y,i=this.getCurMaskShapeIndex();i>-1&&(this.recordPoints[i].forEach((function(t){t.x+=n,t.y+=r})),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t)}},e.prototype.updateMask=function(t){var e=this;this.recordPoints.forEach((function(n,r){var i=(0,O.b$)({},e.getMaskAttrs(n),t);e.maskShapes[r].attr(i)}))},e.prototype.resize=function(){this.starting&&this.maskShapes.length>0&&(this.recordPointContinue(),this.updateMask(),this.emitEvent("change"))},e.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null,this.updateShapesCapture(!0)},e.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.updateShapesCapture(!0)},e.prototype.hide=function(){this.maskShapes.length>0&&(this.maskShapes.forEach((function(t){return t.hide()})),this.emitEvent("hide"))},e.prototype.remove=function(){var t=this.getCurMaskShapeIndex();t>-1&&(this.recordPoints.splice(t,1),this.maskShapes[t].remove(),this.maskShapes.splice(t,1),this.preMovePoint=null,this.updateShapesCapture(!0),this.emitEvent("change"))},e.prototype.clearAll=function(){this.recordPointClear(),this.maskShapes.forEach((function(t){return t.remove()})),this.maskShapes=[],this.preMovePoint=null},e.prototype.clear=function(){var t=this.getCurMaskShapeIndex();-1===t?(this.recordPointClear(),this.maskShapes.forEach((function(t){return t.remove()})),this.maskShapes=[],this.emitEvent("clearAll")):(this.recordPoints.splice(t,1),this.maskShapes[t].remove(),this.maskShapes.splice(t,1),this.preMovePoint=null,this.emitEvent("clearSingle")),this.preMovePoint=null},e.prototype.destroy=function(){this.clear(),t.prototype.destroy.call(this)},e.prototype.getRecordPoints=function(){var t;return E([],T(null!==(t=this.recordPoints)&&void 0!==t?t:[]),!1)},e.prototype.recordPointStart=function(){var t=this.getRecordPoints(),e=this.getCurrentPoint();this.recordPoints=E(E([],T(t),!1),[[e]],!1)},e.prototype.recordPointContinue=function(){var t=this.getRecordPoints(),e=this.getCurrentPoint(),n=t.splice(-1,1)[0]||[];n.push(e),this.recordPoints=E(E([],T(t),!1),[n],!1)},e.prototype.recordPointClear=function(){this.recordPoints=[]},e.prototype.updateShapesCapture=function(t){this.maskShapes.forEach((function(e){return e.set("capture",t)}))},e.prototype.getCurMaskShapeIndex=function(){var t=this.getCurrentPoint();return this.maskShapes.findIndex((function(e){var n=e.attrs,r=n.width,i=n.height,a=n.r;return!(0===r||0===i||0===a)&&e.isHit(t.x,t.y)}))},e}(Ao),Tv=Cv,Ev=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shapeType="rect",e}return m(e,t),e.prototype.getRegion=function(t){return ov(t)},e.prototype.getMaskAttrs=function(t){var e=this.getRegion(t);return sv(e.start,e.end)},e}(Tv),kv=Ev,Mv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dim="x",e.inPlot=!0,e}return m(e,t),e.prototype.getRegion=function(t){var e=this.context.view.getCoordinate();return hv(t,this.dim,this.inPlot,e)},e}(kv),Av=Mv,Ov=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shapeType="circle",e.getMaskAttrs=rv,e}return m(e,t),e}(Tv),Fv=Ov,Iv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getMaskPath=dv,e.getMaskAttrs=gv,e}return m(e,t),e.prototype.addPoint=function(){this.resize()},e}(Tv),Pv=Iv,Dv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getMaskPath=mv,e.getMaskAttrs=xv,e}return m(e,t),e}(Pv),Lv=Dv,Rv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.setCursor=function(t){this.context.view.getCanvas().setCursor(t)},e.prototype.default=function(){this.setCursor("default")},e.prototype.pointer=function(){this.setCursor("pointer")},e.prototype.move=function(){this.setCursor("move")},e.prototype.crosshair=function(){this.setCursor("crosshair")},e.prototype.wait=function(){this.setCursor("wait")},e.prototype.help=function(){this.setCursor("help")},e.prototype.text=function(){this.setCursor("text")},e.prototype.eResize=function(){this.setCursor("e-resize")},e.prototype.wResize=function(){this.setCursor("w-resize")},e.prototype.nResize=function(){this.setCursor("n-resize")},e.prototype.sResize=function(){this.setCursor("s-resize")},e.prototype.neResize=function(){this.setCursor("ne-resize")},e.prototype.nwResize=function(){this.setCursor("nw-resize")},e.prototype.seResize=function(){this.setCursor("se-resize")},e.prototype.swResize=function(){this.setCursor("sw-resize")},e.prototype.nsResize=function(){this.setCursor("ns-resize")},e.prototype.ewResize=function(){this.setCursor("ew-resize")},e.prototype.zoomIn=function(){this.setCursor("zoom-in")},e.prototype.zoomOut=function(){this.setCursor("zoom-out")},e}(Ao),Bv=Rv,_v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.filterView=function(t,e,n){var r=this;t.getScaleByField(e)&&t.filter(e,n),t.views&&t.views.length&&(0,O.S6)(t.views,(function(t){r.filterView(t,e,n)}))},e.prototype.filter=function(){var t=$o(this.context);if(t){var e=this.context.view,n=t.component,r=n.get("field");if(Zo(t)){if(r){var i=n.getItemsByState("unchecked"),a=gs(e,r),o=i.map((function(t){return t.name}));o.length?this.filterView(e,r,(function(t){var e=a.getText(t);return!o.includes(e)})):this.filterView(e,r,null),e.render(!0)}}else if(Ko(t)){var s=T(n.getValue(),2),l=s[0],c=s[1];this.filterView(e,r,(function(t){return t>=l&&t<=c})),e.render(!0)}}},e}(Ao),Nv=_v;function Uv(t,e,n,r){var i=Math.min(n[e],r[e]),a=Math.max(n[e],r[e]),o=T(t.range,2),s=o[0],l=o[1];if(i<s&&(i=s),a>l&&(a=l),i===l&&a===l)return null;var c=t.invert(i),u=t.invert(a);if(t.isCategory){var h=t.values.indexOf(c),f=t.values.indexOf(u),p=t.values.slice(h,f+1);return function(t){return p.includes(t)}}return function(t){return t>=c&&t<=u}}!function(t){t.FILTER="brush-filter-processing",t.RESET="brush-filter-reset",t.BEFORE_FILTER="brush-filter:beforefilter",t.AFTER_FILTER="brush-filter:afterfilter",t.BEFORE_RESET="brush-filter:beforereset",t.AFTER_RESET="brush-filter:afterreset"}(bv||(bv={}));var zv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dims=["x","y"],e.startPoint=null,e.isStarted=!1,e}return m(e,t),e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},e.prototype.filter=function(){var t,e;if(Jo(this.context)){var n=this.context.event.target.getCanvasBBox();t={x:n.x,y:n.y},e={x:n.maxX,y:n.maxY}}else{if(!this.isStarted)return;t=this.startPoint,e=this.context.getCurrentPoint()}if(!(Math.abs(t.x-e.x)<5||Math.abs(t.x-e.y)<5)){var r=this.context,i=r.view,a={view:i,event:r.event,dims:this.dims};i.emit(bv.BEFORE_FILTER,ll.fromData(i,bv.BEFORE_FILTER,a));var o=i.getCoordinate(),s=o.invert(e),l=o.invert(t);if(this.hasDim("x")){var c=i.getXScale(),u=Uv(c,"x",s,l);this.filterView(i,c.field,u)}if(this.hasDim("y")){var h=i.getYScales()[0];u=Uv(h,"y",s,l);this.filterView(i,h.field,u)}this.reRender(i,{source:bv.FILTER}),i.emit(bv.AFTER_FILTER,ll.fromData(i,bv.AFTER_FILTER,a))}},e.prototype.end=function(){this.isStarted=!1},e.prototype.reset=function(){var t=this.context.view;if(t.emit(bv.BEFORE_RESET,ll.fromData(t,bv.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")){var e=t.getXScale();this.filterView(t,e.field,null)}if(this.hasDim("y")){var n=t.getYScales()[0];this.filterView(t,n.field,null)}this.reRender(t,{source:bv.RESET}),t.emit(bv.AFTER_RESET,ll.fromData(t,bv.AFTER_RESET,{}))},e.prototype.filterView=function(t,e,n){t.filter(e,n)},e.prototype.reRender=function(t,e){t.render(!0,e)},e}(Ao),Hv=zv,Vv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.filterView=function(t,e,n){var r=fs(t);(0,O.S6)(r,(function(t){t.filter(e,n)}))},e.prototype.reRender=function(t){var e=fs(t);(0,O.S6)(e,(function(t){t.render(!0)}))},e}(Hv),Gv=Vv,Wv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.filter=function(){var t=$o(this.context),e=this.context.view,n=rs(e);if(Jo(this.context)){var r=ts(this.context,10);r&&(0,O.S6)(n,(function(t){r.includes(t)?t.show():t.hide()}))}else if(t){var i=t.component,a=i.get("field");if(Zo(t)){if(a){var o=i.getItemsByState("unchecked"),s=gs(e,a),l=o.map((function(t){return t.name}));(0,O.S6)(n,(function(t){var e=as(t,a),n=s.getText(e);l.indexOf(n)>=0?t.hide():t.show()}))}}else if(Ko(t)){var c=T(i.getValue(),2),u=c[0],h=c[1];(0,O.S6)(n,(function(t){var e=as(t,a);e>=u&&e<=h?t.show():t.hide()}))}}},e.prototype.clear=function(){var t=rs(this.context.view);(0,O.S6)(t,(function(t){t.show()}))},e.prototype.reset=function(){this.clear()},e}(Ao),Yv=Wv,jv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.byRecord=!1,e}return m(e,t),e.prototype.filter=function(){Jo(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},e.prototype.filterByRecord=function(){var t=this.context.view,e=ts(this.context,10);if(e){var n=t.getXScale().field,r=t.getYScales()[0].field,i=e.map((function(t){return t.getModel().data})),a=fs(t);(0,O.S6)(a,(function(t){var e=rs(t);(0,O.S6)(e,(function(t){var e=t.getModel().data;ds(i,e,n,r)?t.show():t.hide()}))}))}},e.prototype.filterByBBox=function(){var t=this,e=fs(this.context.view);(0,O.S6)(e,(function(e){var n=es(t.context,e,10),r=rs(e);n&&(0,O.S6)(r,(function(t){n.includes(t)?t.show():t.hide()}))}))},e.prototype.reset=function(){var t=fs(this.context.view);(0,O.S6)(t,(function(t){var e=rs(t);(0,O.S6)(e,(function(t){t.show()}))}))},e}(Ao),Xv=jv,$v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buttonGroup=null,e.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},e}return m(e,t),e.prototype.getButtonCfg=function(){return(0,O.b$)(this.buttonCfg,this.cfg)},e.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=e.addShape({type:"text",name:"button-text",attrs:x({text:t.text},t.textStyle)}).getBBox(),r=nl(t.padding),i=e.addShape({type:"rect",name:"button-rect",attrs:x({x:n.x-r[3],y:n.y-r[0],width:n.width+r[1]+r[3],height:n.height+r[0]+r[2]},t.style)});i.toBack(),e.on("mouseenter",(function(){i.attr(t.activeStyle)})),e.on("mouseleave",(function(){i.attr(t.style)})),this.buttonGroup=e},e.prototype.resetPosition=function(){var t=this.context.view.getCoordinate().convert({x:1,y:1}),e=this.buttonGroup,n=e.getBBox(),r=zn.vs(null,[["t",t.x-n.width-10,t.y+n.height+5]]);e.setMatrix(r)},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},e.prototype.destroy=function(){var e=this.buttonGroup;e&&e.remove(),t.prototype.destroy.call(this)},e}(Ao),qv=$v,Zv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.starting=!1,e.dragStart=!1,e}return m(e,t),e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},e.prototype.drag=function(){if(this.startPoint){var t=this.context.getCurrentPoint(),e=this.context.view,n=this.context.event;this.dragStart?e.emit("drag",{target:n.target,x:n.x,y:n.y}):us(t,this.startPoint)>4&&(e.emit("dragstart",{target:n.target,x:n.x,y:n.y}),this.dragStart=!0)}},e.prototype.end=function(){if(this.dragStart){var t=this.context.view,e=this.context.event;t.emit("dragend",{target:e.target,x:e.x,y:e.y})}this.starting=!1,this.dragStart=!1},e}(Ao),Kv=Zv,Jv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.starting=!1,e.isMoving=!1,e.startPoint=null,e.startMatrix=null,e}return m(e,t),e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},e.prototype.move=function(){if(this.starting){var t=this.startPoint,e=this.context.getCurrentPoint();if(us(t,e)>5&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var n=this.context.view,r=zn.vs(this.startMatrix,[["t",e.x-t.x,e.y-t.y]]);n.backgroundGroup.setMatrix(r),n.foregroundGroup.setMatrix(r),n.middleGroup.setMatrix(r)}}},e.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},e.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},e}(Ao),Qv=Jv,ty=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dims=["x","y"],e.cfgFields=["dims"],e.cacheScaleDefs={},e}return m(e,t),e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.getScale=function(t){var e=this.context.view;return"x"===t?e.getXScale():e.getYScales()[0]},e.prototype.resetDim=function(t){var e=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var n=this.getScale(t);e.scale(n.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},e.prototype.reset=function(){this.resetDim("x"),this.resetDim("y"),this.context.view.render(!0)},e}(Ao),ey=ty,ny=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startPoint=null,e.starting=!1,e.startCache={},e}return m(e,t),e.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var e=this.dims;(0,O.S6)(e,(function(e){var n=t.getScale(e),r=n.min,i=n.max,a=n.values;t.startCache[e]={min:r,max:i,values:a}}))},e.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},e.prototype.translate=function(){var t=this;if(this.starting){var e=this.startPoint,n=this.context.view.getCoordinate(),r=this.context.getCurrentPoint(),i=n.invert(e),a=n.invert(r),o=a.x-i.x,s=a.y-i.y,l=this.context.view,c=this.dims;(0,O.S6)(c,(function(e){t.translateDim(e,{x:-1*o,y:-1*s})})),l.render(!0)}},e.prototype.translateDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.translateLinear(t,n,e)}},e.prototype.translateLinear=function(t,e,n){var r=this.context.view,i=this.startCache[t],a=i.min,o=i.max,s=o-a,l=n[t]*s;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:a,max:o}),r.scale(e.field,{nice:!1,min:a+l,max:o+l})},e.prototype.reset=function(){t.prototype.reset.call(this),this.startPoint=null,this.starting=!1},e}(ey),ry=ny,iy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.zoomRatio=.05,e}return m(e,t),e.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},e.prototype.zoom=function(t){var e=this,n=this.dims;(0,O.S6)(n,(function(n){e.zoomDim(n,t)})),this.context.view.render(!0)},e.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},e.prototype.zoomDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.zoomLinear(t,n,e)}},e.prototype.zoomLinear=function(t,e,n){var r=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max});var i=this.cacheScaleDefs[t],a=i.max-i.min,o=e.min,s=e.max,l=n*a,c=o-l,u=s+l,h=(u-c)/a;u>c&&h<100&&h>.01&&r.scale(e.field,{nice:!1,min:o-l,max:s+l})},e}(ey),ay=iy;var oy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.scroll=function(t){var e=this.context,n=e.view,r=e.event;if(n.getOptions().scrollbar){var i=(null===t||void 0===t?void 0:t.wheelDelta)||1,a=n.getController("scrollbar"),o=n.getXScale(),s=n.getOptions().data,l=(0,O.dp)((0,O.I)(s,o.field)),c=(0,O.dp)(o.values),u=a.getValue(),h=Math.floor((l-c)*u)+(function(t){return t.gEvent.originalEvent.deltaY>0}(r)?i:-i),f=i/(l-c)/1e4,p=(0,O.uZ)(h/(l-c)+f,0,1);a.setValue(p)}},e}(Ao),sy=oy,ly=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.show=function(){var t=this.context,e=$o(t).axis.cfg.title,n=e.description,r=e.text,i=e.descriptionTooltipStyle,a=t.event,o=a.x,s=a.y;this.tooltip||this.renderTooltip(),this.tooltip.update({title:r||"",customContent:function(){return'\n          <div class="'.concat(ha,'" style={').concat(i,'}>\n            <div class="').concat(fa,'">\n              \u5b57\u6bb5\u8bf4\u660e\uff1a').concat(n,"\n            </div>\n          </div>\n        ")},x:o,y:s}),this.tooltip.show()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.hide=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,e=this.context.view.canvas,n={start:{x:0,y:0},end:{x:e.get("width"),y:e.get("height")}},r=new Xa({parent:e.get("el").parentNode,region:n,visible:!1,containerId:"aixs-description-tooltip",domStyles:x({},(0,O.b$)({},(t={},t[ha]={"max-width":"50%",padding:"10px","line-height":"15px","font-size":"12px",color:"rgba(0, 0, 0, .65)"},t[fa]={"word-break":"break-all","margin-bottom":"3px"},t)))});r.init(),r.setCapture(!1),this.tooltip=r},e}(Ao),cy=ly;function uy(t){return t.isInPlot()}function hy(t){return t.gEvent.preventDefault(),t.gEvent.originalEvent.deltaY>0}!function(t,e){Ys[(0,O.vl)(t)]=Ws(e)}("dark",Is(_c)),W("canvas",f),W("svg",d),gl("Polygon",Kf),gl("Interval",Gf),gl("Schema",Qf),gl("Path",Ef),gl("Point",qf),gl("Line",Yf),gl("Area",Ff),gl("Edge",Pf),gl("Heatmap",Lf),gl("Violin",ep),Ll("base",ic),Ll("interval",pp),Ll("pie",mp),Ll("polar",vp),Rl("overlap",(function(t,e,n,r){var i=new Tp;(0,O.S6)(e,(function(t){for(var e=t.find((function(t){return"text"===t.get("type")})),n=e.attr(),r=n.x,a=n.y,o=!1,s=0;s<=8;s++){var l=Ep(e,r,a,s);if(i.hasGap(l)){i.fillGap(l),o=!0;break}}o||t.remove(!0)})),i.destroy()})),Rl("distribute",(function(t,e,n,r){if(t.length&&e.length){var i=t[0]?t[0].offset:0,a=e[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(i>0){var l=2*(o+i)+28,c={start:a.start,end:a.end},u=[[],[]];t.forEach((function(t){t&&("right"===t.textAlign?u[0].push(t):u[1].push(t))})),u.forEach((function(t,n){var r=l/14;t.length>r&&(t.sort((function(t,e){return e["..percent"]-t["..percent"]})),t.splice(r,t.length-r)),t.sort((function(t,e){return t.y-e.y})),function(t,e,n,r,i,a){var o,s,l,c=!0,u=r.start,h=r.end,f=Math.min(u.y,h.y),p=Math.abs(u.y-h.y),d=0,g=Number.MIN_VALUE,v=e.map((function(t){return t.y>d&&(d=t.y),t.y<g&&(g=t.y),{size:n,targets:[t.y-f]}}));for(g-=f,d-f>p&&(p=d-f);c;)for(v.forEach((function(t){var e=(Math.min.apply(g,t.targets)+Math.max.apply(g,t.targets))/2;t.pos=Math.min(Math.max(g,e-t.size/2),p-t.size)})),c=!1,l=v.length;l--;)if(l>0){var y=v[l-1],m=v[l];y.pos+y.size>m.pos&&(y.size+=m.size,y.targets=y.targets.concat(m.targets),y.pos+y.size>p&&(y.pos=p-y.size),v.splice(l,1),c=!0)}l=0,v.forEach((function(t){var r=f+n/2;t.targets.forEach((function(){e[l].y=t.pos+r,r+=n,l++}))}));var x={};try{for(var b=C(t),w=b.next();!w.done;w=b.next()){var S=w.value;x[S.get("id")]=S}}catch(T){o={error:T}}finally{try{w&&!w.done&&(s=b.return)&&s.call(b)}finally{if(o)throw o.error}}e.forEach((function(t){var e=t.r*t.r,n=Math.pow(Math.abs(t.y-i.y),2);if(e<n)t.x=i.x;else{var r=Math.sqrt(e-n);t.x=a?i.x+r:i.x-r}var o=x[t.id];o.attr("x",t.x),o.attr("y",t.y);var s=(0,O.sE)(o.getChildren(),(function(t){return"text"===t.get("type")}));s&&(s.attr("y",t.y),s.attr("x",t.x))}))}(e,t,14,c,s,n)}))}(0,O.S6)(t,(function(t){if(t&&t.labelLine){var e=t.offset,n=t.angle,r=Za(s.x,s.y,o,n),i=Za(s.x,s.y,o+e/2,n),a=t.x+(0,O.U2)(t,"offsetX",0),l=t.y+(0,O.U2)(t,"offsetY",0),c={x:a-4*Math.cos(n),y:l-4*Math.sin(n)};(0,O.Kn)(t.labelLine)||(t.labelLine={}),t.labelLine.path=["M ".concat(r.x),"".concat(r.y," Q").concat(i.x),"".concat(i.y," ").concat(c.x),c.y].join(",")}}))}})),Rl("fixed-overlap",(function(t,e,n,r){var i=new Tp;(0,O.S6)(e,(function(t){var e=t.find((function(t){return"text"===t.get("type")}));(function(t,e,n){void 0===n&&(n=Cp);var r,i=t.attr(),a=i.x,o=i.y,s=t.getCanvasBBox(),l=Math.sqrt(s.width*s.width+s.height*s.height),c=1,u=0,h=0,f=function(t){var e=.1*t;return[e*Math.cos(e),e*Math.sin(e)]};if(e.hasGap(s))return e.fillGap(s),!0;for(var p=!1,d=0,g={};Math.min(Math.abs(u),Math.abs(h))<l&&d<n;)if(u=~~(r=f(c+=-1))[0],h=~~r[1],(u||h)&&!g["".concat(u,"-").concat(h)]&&(t.attr({x:a+u,y:o+h}),u+h<0&&t.attr("textAlign","right"),d++,e.hasGap(t.getCanvasBBox()))){e.fillGap(t.getCanvasBBox()),p=!0,g["".concat(u,"-").concat(h)]=!0;break}return p})(e,i)||t.remove(!0)})),i.destroy()})),Rl("hide-overlap",(function(t,e,n,r){return w(this,void 0,void 0,(function(){var n,r,i,a,o,s;return S(this,(function(l){switch(l.label){case 0:return n=e.map((function(e,n){return x(x({},Kl(e,t[n],(0,O.U2)(t[n],"background.padding"))),{visible:!0})})),r=JSON.stringify(n),i=function(t){return Bp.set(r,t),(0,O.S6)(t,(function(t,n){var r=t.visible,i=e[n];r?null===i||void 0===i||i.show():null===i||void 0===i||i.hide()})),t},Bp.get(r)?(i(Bp.get(r)),[3,7]):[3,1];case 1:if(!_p)return[3,6];l.label=2;case 2:return l.trys.push([2,4,,5]),a=JSON.stringify({type:"hide-overlap",items:n}),[4,_p.post(a,(function(){return i(Rp(n))}))];case 3:return o=l.sent(),i(Array.isArray(o.data)?o.data:[]),[3,5];case 4:return s=l.sent(),console.error(s),i(Rp(n)),[3,5];case 5:return[3,7];case 6:i(Rp(n)),l.label=7;case 7:return[2]}}))}))})),Rl("limit-in-shape",(function(t,e,n,r){(0,O.S6)(e,(function(t,e){var r=t.getCanvasBBox(),i=n[e].getBBox();(r.minX<i.minX||r.minY<i.minY||r.maxX>i.maxX||r.maxY>i.maxY)&&t.remove(!0)}))})),Rl("limit-in-canvas",(function(t,e,n,r){(0,O.S6)(e,(function(t){var e=r.minX,n=r.minY,i=r.maxX,a=r.maxY,o=t.getCanvasBBox(),s=o.minX,l=o.minY,c=o.maxX,u=o.maxY,h=o.x,f=o.y,p=o.width,d=o.height,g=h,v=f;(s<e||c<e)&&(g=e),(l<n||u<n)&&(v=n),s>i?g=i-p:c>i&&(g-=c-i),l>a?v=a-d:u>a&&(v-=u-a),g===h&&v===f||$l(t,g-h,v-f)}))})),Rl("limit-in-plot",(function(t,e,n,r,i){if(!(e.length<=0)){var a=(null===i||void 0===i?void 0:i.direction)||["top","right","bottom","left"],o=(null===i||void 0===i?void 0:i.action)||"translate",s=(null===i||void 0===i?void 0:i.margin)||0,l=e[0].get("coordinate");if(l){var c=function(t,e){void 0===e&&(e=0);var n=t.start,r=t.end,i=t.getWidth(),a=t.getHeight(),o=Math.min(n.x,r.x),s=Math.min(n.y,r.y);return io.fromRange(o-e,s-e,o+i+e,s+a+e)}(l,s),u=c.minX,h=c.minY,f=c.maxX,p=c.maxY;(0,O.S6)(e,(function(t){var e=t.getCanvasBBox(),n=e.minX,r=e.minY,i=e.maxX,s=e.maxY,l=e.x,c=e.y,d=e.width,g=e.height,v=l,y=c;if(a.indexOf("left")>=0&&(n<u||i<u)&&(v=u),a.indexOf("top")>=0&&(r<h||s<h)&&(y=h),a.indexOf("right")>=0&&(n>f?v=f-d:i>f&&(v-=i-f)),a.indexOf("bottom")>=0&&(r>p?y=p-g:s>p&&(y-=s-p)),v!==l||y!==c){var m=v-l;if("translate"===o)$l(t,m,y-c);else if("ellipsis"===o){var x=t.findAll((function(t){return"text"===t.get("type")}));x.forEach((function(t){var e=(0,O.ei)(t.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),n=t.getCanvasBBox(),r=function(t,e,n){var r,i=jp("...",n);r=(0,O.HD)(t)?t:(0,O.BB)(t);var a,o,s=e,l=[];if(jp(t,n)<=e)return t;for(;a=r.substr(0,16),!((o=jp(a,n))+i>s&&o>s);)if(l.push(a),s-=o,!(r=r.substr(16)))return l.join("");for(;a=r.substr(0,1),!((o=jp(a,n))+i>s);)if(l.push(a),s-=o,!(r=r.substr(1)))return l.join("");return"".concat(l.join(""),"...")}(t.attr("text"),n.width-Math.abs(m),e);t.attr("text",r)}))}else t.hide()}}))}}})),Rl("pie-outer",(function(t,e,n,r){var i,a,o=(0,O.hX)(t,(function(t){return!(0,O.UM)(t)})),s=e[0]&&e[0].get("coordinate");if(s){var l=s.getCenter(),c=s.getRadius(),u={};try{for(var h=C(e),f=h.next();!f.done;f=h.next()){var p=f.value;u[p.get("id")]=p}}catch(T){i={error:T}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}var d=(0,O.U2)(o[0],"labelHeight",14),g=(0,O.U2)(o[0],"offset",0);if(!(g<=0)){var v="right",y=(0,O.vM)(o,(function(t){return t.x<l.x?"left":v})),m=s.start,x=s.end,b=Math.min(2*(c+g+d),s.getHeight()),w=b/2,S={minX:m.x,maxX:x.x,minY:l.y-w,maxY:l.y+w};(0,O.S6)(y,(function(t,e){var n=Math.floor(b/d);t.length>n&&(t.sort((function(t,e){return e.percent-t.percent})),(0,O.S6)(t,(function(t,e){e+1>n&&(u[t.id].set("visible",!1),t.invisible=!0)}))),xp(t,d,S)})),(0,O.S6)(y,(function(t,e){(0,O.S6)(t,(function(t){var n=e===v,r=u[t.id].getChildByIndex(0);if(r){var i=c+g,a=t.y-l.y,o=Math.pow(i,2),h=Math.pow(a,2),f=o-h>0?o-h:0,p=Math.sqrt(f),d=Math.abs(Math.cos(t.angle)*i);t.x=n?l.x+Math.max(p,d):l.x-Math.max(p,d)}r&&(r.attr("y",t.y),r.attr("x",t.x)),function(t,e){var n=e.getCenter(),r=e.getRadius();if(t&&t.labelLine){var i=t.angle,a=t.offset,o=Za(n.x,n.y,r,i),s=t.x+(0,O.U2)(t,"offsetX",0)*(Math.cos(i)>0?1:-1),l=t.y+(0,O.U2)(t,"offsetY",0)*(Math.sin(i)>0?1:-1),c={x:s-Math.cos(i)*bp,y:l-Math.sin(i)*bp},u=t.labelLine.smooth,h=[],f=c.x-n.x,p=c.y-n.y,d=Math.atan(p/f);if(f<0&&(d+=Math.PI),!1===u){(0,O.Kn)(t.labelLine)||(t.labelLine={});var g=0;(i<0&&i>-Math.PI/2||i>1.5*Math.PI)&&c.y>o.y&&(g=1),i>=0&&i<Math.PI/2&&c.y>o.y&&(g=1),i>=Math.PI/2&&i<Math.PI&&o.y>c.y&&(g=1),(i<-Math.PI/2||i>=Math.PI&&i<1.5*Math.PI)&&o.y>c.y&&(g=1);var v=a/2>4?4:Math.max(a/2-1,0),y=Za(n.x,n.y,r+v,i),m=Za(n.x,n.y,r+a/2,d);h.push("M ".concat(o.x," ").concat(o.y)),h.push("L ".concat(y.x," ").concat(y.y)),h.push("A ".concat(n.x," ").concat(n.y," 0 ").concat(0," ").concat(g," ").concat(m.x," ").concat(m.y)),h.push("L ".concat(c.x," ").concat(c.y))}else{y=Za(n.x,n.y,r+(a/2>4?4:Math.max(a/2-1,0)),i);var x=o.x<n.x?1:-1;h.push("M ".concat(c.x," ").concat(c.y));var b=(o.y-n.y)/(o.x-n.x),w=(c.y-n.y)/(c.x-n.x);Math.abs(b-w)>Math.pow(Math.E,-16)&&h.push.apply(h,["C",c.x+4*x,c.y,2*y.x-o.x,2*y.y-o.y,o.x,o.y]),h.push("L ".concat(o.x," ").concat(o.y))}t.labelLine.path=h.join(" ")}}(t,s)}))}))}}})),Rl("adjust-color",(function(t,e,n){if(0!==n.length){var r=n[0].get("element").geometry.theme,i=r.labels||{},a=i.fillColorLight,o=i.fillColorDark;n.forEach((function(t,n){var i=e[n].find((function(t){return"text"===t.get("type")})),s=io.fromObject(t.getBBox()),l=io.fromObject(i.getCanvasBBox()),c=!s.contains(l),u=function(t){var e=It.toRGB(t).toUpperCase();if(Up[e])return Up[e];var n=T(It.rgb2arr(e),3);return(299*n[0]+587*n[1]+114*n[2])/1e3<128}(t.attr("fill"));c?i.attr(r.overflowLabels.style):u?a&&i.attr("fill",a):o&&i.attr("fill",o)}))}})),Rl("interval-adjust-position",(function(t,e,n){var r;if(0!==n.length){var i=null===(r=n[0])||void 0===r?void 0:r.get("element"),a=null===i||void 0===i?void 0:i.geometry;if(a&&"interval"===a.type)zp(a,e,n)&&n.forEach((function(t,n){var r=e[n];!function(t,e,n){var r=t.coordinate,i=io.fromObject(n.getBBox()),a=Zl(e);r.isTransposed?a.attr({x:i.minX+i.width/2,textAlign:"center"}):a.attr({y:i.minY+i.height/2,textBaseline:"middle"})}(a,r,t)}))}})),Rl("interval-hide-overlap",(function(t,e,n){var r;if(0!==n.length){var i=null===(r=n[0])||void 0===r?void 0:r.get("element"),a=null===i||void 0===i?void 0:i.geometry;if(a&&"interval"===a.type){var o,s=function(t){var e=[],n=Math.max(Math.floor(t.length/500),1);return(0,O.S6)(t,(function(t,r){r%n===0?e.push(t):t.set("visible",!1)})),e}(e),l=T(a.getXYFields(),1)[0],c=[],u=[],h=(0,O.vM)(s,(function(t){return t.get("data")[l]})),f=(0,O.jj)((0,O.UI)(s,(function(t){return t.get("data")[l]})));s.forEach((function(t){t.set("visible",!0)}));var p=function(t){t&&(t.length&&u.push(t.pop()),u.push.apply(u,E([],T(t),!1)))};for((0,O.dp)(f)>0&&(o=f.shift(),p(h[o])),(0,O.dp)(f)>0&&(o=f.pop(),p(h[o])),(0,O.S6)(f.reverse(),(function(t){p(h[t])}));u.length>0;){var d=u.shift();d.get("visible")&&(Jl(d,c)?d.set("visible",!1):c.push(d))}}}})),Rl("point-adjust-position",(function(t,e,n,r,i){var a,o;if(0!==n.length){var s=null===(a=n[0])||void 0===a?void 0:a.get("element"),l=null===s||void 0===s?void 0:s.geometry;if(l&&"point"===l.type){var c=T(l.getXYFields(),2),u=c[0],h=c[1],f=(0,O.vM)(e,(function(t){return t.get("data")[u]})),p=[],d=i&&i.offset||(null===(o=t[0])||void 0===o?void 0:o.offset)||12;(0,O.UI)((0,O.XP)(f).reverse(),(function(t){for(var e=function(t,e){var n=t.getXYFields()[1],r=[],i=e.sort((function(t,e){return t.get("data")[n]-t.get("data")[n]}));return i.length>0&&r.push(i.shift()),i.length>0&&r.push(i.pop()),r.push.apply(r,E([],T(i),!1)),r}(l,f[t]);e.length;){var n=e.shift(),r=Zl(n);if(Hp(p,n,(function(t,e){return t.get("data")[u]===e.get("data")[u]&&t.get("data")[h]===e.get("data")[h]})))r.set("visible",!1);else{var i=!1;Vp(p,n)&&(r.attr("y",r.attr("y")+2*d),i=Vp(p,n)),i?r.set("visible",!1):p.push(n)}}}))}}})),Rl("pie-spider",(function(t,e,n,r){var i,a,o=e[0]&&e[0].get("coordinate");if(o){var s=o.getCenter(),l=o.getRadius(),c={};try{for(var u=C(e),h=u.next();!h.done;h=u.next()){var f=h.value;c[f.get("id")]=f}}catch(T){i={error:T}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}var p=(0,O.U2)(t[0],"labelHeight",14),d=Math.max((0,O.U2)(t[0],"offset",0),wp);(0,O.S6)(t,(function(t){if(t&&(0,O.U2)(c,[t.id])){var e=t.x>s.x||t.x===s.x&&t.y>s.y,n=(0,O.UM)(t.offsetX)?4:t.offsetX,r=Za(s.x,s.y,l+wp,t.angle),i=d+n;t.x=s.x+(e?1:-1)*(l+i),t.y=r.y}}));var g=o.start,v=o.end,y="right",m=(0,O.vM)(t,(function(t){return t.x<s.x?"left":y})),x=2*(l+d)+p;(0,O.S6)(m,(function(t){var e=t.length*p;e>x&&(x=Math.min(e,Math.abs(g.y-v.y)))}));var b={minX:g.x,maxX:v.x,minY:s.y-x/2,maxY:s.y+x/2};(0,O.S6)(m,(function(t,e){var n=x/p;t.length>n&&(t.sort((function(t,e){return e.percent-t.percent})),(0,O.S6)(t,(function(t,e){e>n&&(c[t.id].set("visible",!1),t.invisible=!0)}))),xp(t,p,b)}));var w=b.minY,S=b.maxY;(0,O.S6)(m,(function(t,e){var n=e===y;(0,O.S6)(t,(function(t){var e=(0,O.U2)(c,t&&[t.id]);if(e)if(t.y<w||t.y>S)e.set("visible",!1);else{var r=e.getChildByIndex(0),i=r.getCanvasBBox(),a=n?i.x:i.maxX,s=i.y+i.height/2;$l(r,t.x-a,t.y-s),t.labelLine&&function(t,e,n){var r,i=e.getCenter(),a=e.getRadius(),o={x:t.x-(n?Sp:-Sp),y:t.y},s=Za(i.x,i.y,a+wp,t.angle),l={x:o.x,y:o.y},c={x:s.x,y:s.y},u=Za(i.x,i.y,a,t.angle);if(o.y!==s.y){var h=n?4:-4;l.y=o.y,t.angle<0&&t.angle>=-Math.PI/2&&(l.x=Math.max(s.x,o.x-h),o.y<s.y?c.y=l.y:(c.y=s.y,c.x=Math.max(c.x,l.x-h))),t.angle>0&&t.angle<Math.PI/2&&(l.x=Math.max(s.x,o.x-h),o.y>s.y?c.y=l.y:(c.y=s.y,c.x=Math.max(c.x,l.x-h))),t.angle>Math.PI/2&&(l.x=Math.min(s.x,o.x-h),o.y>s.y?c.y=l.y:(c.y=s.y,c.x=Math.min(c.x,l.x-h))),t.angle<-Math.PI/2&&(l.x=Math.min(s.x,o.x-h),o.y<s.y?c.y=l.y:(c.y=s.y,c.x=Math.min(c.x,l.x-h)))}r=["M ".concat(o.x,",").concat(o.y),"L ".concat(l.x,",").concat(l.y),"L ".concat(c.x,",").concat(c.y),"L ".concat(s.x,",").concat(s.y),"L ".concat(u.x,",").concat(u.y)].join(" "),t.labelLine=(0,O.b$)({},t.labelLine,{path:r})}(t,o,n)}}))}))}})),Rl("path-adjust-position",(function(t,e,n,r,i){var a,o;if(0!==n.length){var s=null===(a=n[0])||void 0===a?void 0:a.get("element"),l=null===s||void 0===s?void 0:s.geometry;if(l&&!(["path","line","area"].indexOf(l.type)<0)){var c=T(l.getXYFields(),2),u=c[0],h=c[1],f=(0,O.vM)(e,(function(t){return t.get("data")[u]})),p=[],d=i&&i.offset||(null===(o=t[0])||void 0===o?void 0:o.offset)||12;(0,O.UI)((0,O.XP)(f).reverse(),(function(t){for(var e=function(t,e){var n=t.getXYFields()[1],r=[],i=e.sort((function(t,e){return t.get("data")[n]-t.get("data")[n]}));return i.length>0&&r.push(i.shift()),i.length>0&&r.push(i.pop()),r.push.apply(r,E([],T(i),!1)),r}(l,f[t]);e.length;){var n=e.shift(),r=Zl(n);if(Gp(p,n,(function(t,e){return t.get("data")[u]===e.get("data")[u]&&t.get("data")[h]===e.get("data")[h]})))r.set("visible",!1);else{var i=!1;Wp(p,n)&&(r.attr("y",r.attr("y")+2*d),i=Wp(p,n)),i?r.set("visible",!1):p.push(n)}}}))}}})),Cl("fade-in",(function(t,e,n){var r={fillOpacity:(0,O.UM)(t.attr("fillOpacity"))?1:t.attr("fillOpacity"),strokeOpacity:(0,O.UM)(t.attr("strokeOpacity"))?1:t.attr("strokeOpacity"),opacity:(0,O.UM)(t.attr("opacity"))?1:t.attr("opacity")};t.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),t.animate(r,e)})),Cl("fade-out",(function(t,e,n){var r=e.easing,i=e.duration,a=e.delay;t.animate({fillOpacity:0,strokeOpacity:0,opacity:0},i,r,(function(){t.remove(!0)}),a)})),Cl("grow-in-x",(function(t,e,n){Xp(t,e,n.coordinate,n.minYPoint,"x")})),Cl("grow-in-xy",(function(t,e,n){Xp(t,e,n.coordinate,n.minYPoint,"xy")})),Cl("grow-in-y",(function(t,e,n){Xp(t,e,n.coordinate,n.minYPoint,"y")})),Cl("scale-in-x",(function(t,e,n){var r=t.getBBox(),i=t.get("origin").mappingData.points,a=i[0].y-i[1].y>0?r.maxX:r.minX,o=(r.minY+r.maxY)/2;t.applyToMatrix([a,o,1]);var s=zn.vs(t.getMatrix(),[["t",-a,-o],["s",.01,1],["t",a,o]]);t.setMatrix(s),t.animate({matrix:zn.vs(t.getMatrix(),[["t",-a,-o],["s",100,1],["t",a,o]])},e)})),Cl("scale-in-y",(function(t,e,n){var r=t.getBBox(),i=t.get("origin").mappingData,a=(r.minX+r.maxX)/2,o=i.points,s=o[0].y-o[1].y<=0?r.maxY:r.minY;t.applyToMatrix([a,s,1]);var l=zn.vs(t.getMatrix(),[["t",-a,-s],["s",1,.01],["t",a,s]]);t.setMatrix(l),t.animate({matrix:zn.vs(t.getMatrix(),[["t",-a,-s],["s",1,100],["t",a,s]])},e)})),Cl("wave-in",(function(t,e,n){var r=lo(n.coordinate,20),i=r.type,a=r.startState,o=r.endState,s=t.setClip({type:i,attrs:a});n.toAttrs&&t.attr(n.toAttrs),s.animate(o,x(x({},e),{callback:function(){t&&!t.get("destroyed")&&t.set("clipShape",null),s.remove(!0),(0,O.mf)(e.callback)&&e.callback()}}))})),Cl("zoom-in",(function(t,e,n){Kp(t,e,"zoomIn")})),Cl("zoom-out",(function(t,e,n){Kp(t,e,"zoomOut")})),Cl("position-update",(function(t,e,n){var r=n.toAttrs,i=r.x,a=r.y;delete r.x,delete r.y,t.attr(r),t.animate({x:i,y:a},e)})),Cl("sector-path-update",(function(t,e,n){var r=n.toAttrs,i=n.coordinate,a=r.path||[],o=a.map((function(t){return t[0]}));if(!(a.length<1)){var s=Zp(a),l=s.startAngle,c=s.endAngle,u=s.radius,h=s.innerRadius,f=Zp(t.attr("path")),p=f.startAngle,d=f.endAngle,g=i.getCenter(),v=l-p,y=c-d;0!==v||0!==y?t.animate((function(t){var e=p+t*v,n=d+t*y;return x(x({},r),{path:(0,O.Xy)(o,["M","A","A","Z"])?Ja(g.x,g.y,u,e,n):Ka(g.x,g.y,u,e,n,h)})}),x(x({},e),{callback:function(){t.attr("path",a),(0,O.mf)(e.callback)&&e.callback()}})):t.attr("path",a)}})),Cl("path-in",(function(t,e,n){var r=t.getTotalLength();t.attr("lineDash",[r]),t.animate((function(t){return{lineDashOffset:(1-t)*r}}),e)})),Mo("rect",cd),Mo("mirror",sd),Mo("list",rd),Mo("matrix",ad),Mo("circle",ed),Mo("tree",hd),il("axis",Td),il("legend",Od),il("tooltip",bl),il("annotation",vd),il("slider",Id),il("scrollbar",Dd),Do("tooltip",Ud),Do("sibling-tooltip",Hd),Do("ellipsis-text",Gd),Do("element-active",Zd),Do("element-single-active",og),Do("element-range-active",ng),Do("element-highlight",gg),Do("element-highlight-by-x",xg),Do("element-highlight-by-color",yg),Do("element-single-highlight",Cg),Do("element-range-highlight",wg),Do("element-sibling-highlight",wg,{effectSiblings:!0,effectByRecord:!0}),Do("element-selected",Mg),Do("element-single-selected",Og),Do("element-range-selected",Eg),Do("element-link-by-color",Jd),Do("active-region",_d),Do("list-active",Dg),Do("list-selected",Hg),Do("list-highlight",Ug),Do("list-unchecked",Gg),Do("list-checked",Xg),Do("list-focus",Zg),Do("list-radio",tv),Do("legend-item-highlight",Ug,{componentNames:["legend"]}),Do("axis-label-highlight",Ug,{componentNames:["axis"]}),Do("axis-description",cy),Do("rect-mask",cv),Do("x-rect-mask",pv,{dim:"x"}),Do("y-rect-mask",pv,{dim:"y"}),Do("circle-mask",av),Do("path-mask",yv),Do("smooth-path-mask",Sv),Do("rect-multi-mask",kv),Do("x-rect-multi-mask",Av,{dim:"x"}),Do("y-rect-multi-mask",Av,{dim:"y"}),Do("circle-multi-mask",Fv),Do("path-multi-mask",Pv),Do("smooth-path-multi-mask",Lv),Do("cursor",Bv),Do("data-filter",Nv),Do("brush",Hv),Do("brush-x",Hv,{dims:["x"]}),Do("brush-y",Hv,{dims:["y"]}),Do("sibling-filter",Gv),Do("sibling-x-filter",Gv,{dims:"x"}),Do("sibling-y-filter",Gv,{dims:"y"}),Do("element-filter",Yv),Do("element-sibling-filter",Xv),Do("element-sibling-filter-record",Xv,{byRecord:!0}),Do("view-drag",Kv),Do("view-move",Qv),Do("scale-translate",ry),Do("scale-zoom",ay),Do("reset-button",qv,{name:"reset-button",text:"reset"}),Do("mousewheel-scroll",sy),Os("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),Os("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseout",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),Os("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),Os("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),Os("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),Os("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),Os("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),Os("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),Os("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),Os("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),Os("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),Os("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(t){return!t.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),Os("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:uy,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:uy,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:uy,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),Os("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),Os("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:uy,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:uy,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:uy,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),Os("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:uy,action:"path-mask:start"},{trigger:"mousedown",isEnable:uy,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),Os("brush-x-multi",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"mousedown",isEnable:uy,action:["x-rect-multi-mask:start","x-rect-multi-mask:show"]},{trigger:"mask:dragstart",action:["x-rect-multi-mask:moveStart"]}],processing:[{trigger:"mousemove",isEnable:function(t){return!Qo(t)},action:["x-rect-multi-mask:resize"]},{trigger:"multi-mask:change",action:"element-range-highlight:highlight"},{trigger:"mask:drag",action:["x-rect-multi-mask:move"]}],end:[{trigger:"mouseup",action:["x-rect-multi-mask:end"]},{trigger:"mask:dragend",action:["x-rect-multi-mask:moveEnd"]}],rollback:[{trigger:"dblclick",action:["x-rect-multi-mask:clear","cursor:crosshair"]},{trigger:"multi-mask:clearAll",action:["element-range-highlight:clear"]},{trigger:"multi-mask:clearSingle",action:["element-range-highlight:highlight"]}]}),Os("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),Os("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:["cursor:pointer","list-radio:show"]},{trigger:"legend-item:mouseleave",action:["cursor:default","list-radio:hide"]}],start:[{trigger:"legend-item:click",isEnable:function(t){return!t.isInShape("legend-item-radio")},action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","data-filter:filter","list-radio:show"]},{trigger:"legend-item-radio:mouseenter",action:["list-radio:showTip"]},{trigger:"legend-item-radio:mouseleave",action:["list-radio:hideTip"]},{trigger:"legend-item-radio:click",action:["list-focus:toggle","data-filter:filter","list-radio:show"]}]}),Os("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),Os("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),Os("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","element-filter:filter"]}]}),Os("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]}),Os("axis-description",{start:[{trigger:"axis-description:mousemove",action:"axis-description:show"}],end:[{trigger:"axis-description:mouseleave",action:"axis-description:hide"}]}),Os("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(t){return hy(t.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(t){return!hy(t.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),Os("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]}),Os("plot-mousewheel-scroll",{start:[{trigger:"plot:mousewheel",action:"mousewheel-scroll:scroll"}]});var fy=function(t,e){return fy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},fy(t,e)};function py(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}fy(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var dy=function(){return dy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},dy.apply(this,arguments)};function gy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}Object.create;function vy(t,e,n){if(n||2===arguments.length)for(var r,i=0,a=e.length;i<a;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var yy,my=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"];!function(t){t.ERROR="error",t.WARN="warn",t.INFO="log"}(yy||(yy={}));var xy="AntV/G2Plot";function by(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=0;return"".concat(xy,": ").concat(t.replace(/%s/g,(function(){return"".concat(e[r++])})))}function wy(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e||console[t](by.apply(void 0,vy([n],r,!1)))}function Sy(t,e){var n={};return null!==t&&"object"===typeof t&&e.forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n}function Cy(t,e){if(!t)return{};var n=t.filter((function(t){var n=(0,O.U2)(t,[e]);return(0,O.hj)(n)&&!isNaN(n)})),r=n.every((function(t){return(0,O.U2)(t,[e])>=0})),i=n.every((function(t){return(0,O.U2)(t,[e])<=0}));return r?{min:0}:i?{max:0}:{}}function Ty(t,e,n,r,i){if(void 0===i&&(i=[]),!Array.isArray(t))return{nodes:[],links:[]};var a=[],o={},s=-1;return t.forEach((function(t){var l=t[e],c=t[n],u=t[r],h=Sy(t,i);o[l]||(o[l]=dy({id:++s,name:l},h)),o[c]||(o[c]=dy({id:++s,name:c},h)),a.push(dy({source:o[l].id,target:o[c].id,value:u},h))})),{nodes:Object.values(o).sort((function(t,e){return t.id-e.id})),links:a}}function Ey(t,e){var n=(0,O.hX)(t,(function(t){var n=t[e];return null===n||"number"===typeof n&&!isNaN(n)}));return wy(yy.WARN,n.length===t.length,"illegal data existed in chart data."),n}var ky,My={}.toString,Ay=function(t,e){return My.call(t)==="[object "+e+"]"},Oy=function(t){return Ay(t,"Array")},Fy=function(t){if(!function(t){return"object"===typeof t&&null!==t}(t)||!Ay(t,"Object"))return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},Iy=function t(e,n,r,i){for(var a in r=r||0,i=i||5,n)if(Object.prototype.hasOwnProperty.call(n,a)){var o=n[a];o?Fy(o)?(Fy(e[a])||(e[a]={}),r<i?t(e[a],o,r+1,i):e[a]=n[a]):Oy(o)?(e[a]=[],e[a]=e[a].concat(o)):e[a]=o:e[a]=o}},Py=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)Iy(t,e[r]);return t};function Dy(t){if(!t)return{width:0,height:0};var e=getComputedStyle(t);return{width:(t.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(t.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}function Ly(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduce((function(t,e){return e(t)}),e)}}function Ry(t,e){return t.geometries.find((function(t){return t.type===e}))}function By(t){return(0,O.u4)(t.geometries,(function(t,e){return t.concat(e.elements)}),[])}function _y(t){return(0,O.U2)(t,["views","length"],0)<=0?By(t):(0,O.u4)(t.views,(function(t,e){return t.concat(_y(e))}),By(t))}function Ny(t){if(!(0,O.P9)(t,"Object"))return t;var e=dy({},t);return e.formatter&&!e.content&&(e.content=e.formatter),e}(0,O.HP)((function(t,e){void 0===e&&(e={});var n=e.fontSize,r=e.fontFamily,i=void 0===r?"sans-serif":r,a=e.fontWeight,o=e.fontStyle,s=e.fontVariant,l=(ky||(ky=document.createElement("canvas").getContext("2d")),ky);return l.font=[o,a,s,"".concat(n,"px"),i].join(" "),l.measureText((0,O.HD)(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),vy([t],(0,O.VO)(e),!0).join("")}));function Uy(t){return"number"===typeof t&&!isNaN(t)}function zy(t){if((0,O.hj)(t))return[t,t,t,t];if((0,O.kJ)(t)){var e=t.length;if(1===e)return[t[0],t[0],t[0],t[0]];if(2===e)return[t[0],t[1],t[0],t[1]];if(3===e)return[t[0],t[1],t[2],t[1]];if(4===e)return t}return[0,0,0,0]}function Hy(t,e,n){void 0===e&&(e="bottom"),void 0===n&&(n=25);var r=zy(t),i=[e.startsWith("top")?n:0,e.startsWith("right")?n:0,e.startsWith("bottom")?n:0,e.startsWith("left")?n:0];return[r[0]+i[0],r[1]+i[1],r[2]+i[2],r[3]+i[3]]}function Vy(t){var e=t.map((function(t){return zy(t)})),n=[0,0,0,0];return e.length>0&&(n=n.map((function(t,n){return e.forEach((function(r,i){t+=e[i][n]})),t}))),n}var Gy=function(t,e,n,r){var i,a,o,s,l=[],c=!!r;if(c){o=[1/0,1/0],s=[-1/0,-1/0];for(var u=0,h=t.length;u<h;u++){var f=t[u];o=Yn.VV([0,0],o,f),s=Yn.Fp([0,0],s,f)}o=Yn.VV([0,0],o,r[0]),s=Yn.Fp([0,0],s,r[1])}u=0;for(var p=t.length;u<p;u++){f=t[u];if(n)i=t[u?u-1:p-1],a=t[(u+1)%p];else{if(0===u||u===p-1){l.push(f);continue}i=t[u-1],a=t[u+1]}var d=[0,0];d=Yn.lu(d,a,i),d=Yn.bA(d,d,e);var g=Yn.TE(f,i),v=Yn.TE(f,a),y=g+v;0!==y&&(g/=y,v/=y);var m=Yn.bA([0,0],d,-g),x=Yn.bA([0,0],d,v),b=Yn.IH([0,0],f,m),w=Yn.IH([0,0],f,x);c&&(b=Yn.Fp([0,0],b,o),b=Yn.VV([0,0],b,s),w=Yn.Fp([0,0],w,o),w=Yn.VV([0,0],w,s)),l.push(b),l.push(w)}return n&&l.push(l.shift()),l};function Wy(t,e,n){var r=[],i=t[0],a=null;if(t.length<=2)return function(t,e){var n=[];if(t.length){n.push(["M",t[0].x,t[0].y]);for(var r=1,i=t.length;r<i;r+=1){var a=t[r];n.push(["L",a.x,a.y])}e&&n.push(["Z"])}return n}(t,e);for(var o=0,s=t.length;o<s;o++){var l=t[o];a&&a.x===l.x&&a.y===l.y||(r.push(l.x),r.push(l.y),a=l)}var c=function(t,e,n){for(var r=!!e,i=[],a=0,o=t.length;a<o;a+=2)i.push([t[a],t[a+1]]);var s,l,c,u=Gy(i,.4,r,n),h=i.length,f=[];for(a=0;a<h-1;a++)s=u[2*a],l=u[2*a+1],c=i[a+1],f.push(["C",s[0],s[1],l[0],l[1],c[0],c[1]]);return r&&(s=u[h],l=u[h+1],c=i[0],f.push(["C",s[0],s[1],l[0],l[1],c[0],c[1]])),f}(r,e,n||[[0,0],[1,1]]);return c.unshift(["M",i.x,i.y]),c}function Yy(t){return t?t.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g).map((function(t){return t.toLowerCase()})).join("-"):t}function jy(t){var e={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},n=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];(0,O.U2)(t,"fill")&&(e.color=t.fill);var r=Sy(t,n),i=r.shadowColor,a=r.shadowBlur,o=void 0===a?0:a,s=r.shadowOffsetX,l=void 0===s?0:s,c=r.shadowOffsetY,u=void 0===c?0:c;e["text-shadow"]="".concat([i,"".concat(l,"px"),"".concat(u,"px"),"".concat(o,"px")].join(" "));var h=Sy(t,n),f=h.stroke,p=h.lineWidth,d=void 0===p?0:p;return e["-webkit-text-stroke"]="".concat(["".concat(d,"px"),f].join(" ")),(0,O.S6)(t,(function(t,r){["fontSize"].includes(r)&&(0,O.hj)(t)?e[Yy(r)]="".concat(t,"px"):r&&!n.includes(r)&&(e[Yy(r)]="".concat(t))})),e}function Xy(t,e){t.style["pointer-events"]="none",(0,O.S6)(e,(function(e,n){n&&e&&(t.style[n]=e)}))}var $y=function(t,e,n){var r=e.statistic,i=e.plotType,a=r.title,o=r.content;[a,o].forEach((function(e,r){if(e){var s="";s=0===r?o?"translate(-50%, -100%)":"translate(-50%, -50%)":a?"translate(-50%, 0)":"translate(-50%, -50%)";var l=(0,O.mf)(e.style)?e.style(n):e.style;t.annotation().html(dy({position:["50%","50%"],html:function(t,r){var a=r.getCoordinate(),o=0;if("pie"===i||"ring-progress"===i)o=a.getRadius()*a.innerRadius*2;else if("liquid"===i){var c=(0,O.U2)(r.geometries,[0,"elements",0,"shape"]);if(c)o=c.find((function(t){return"wrap"===t.get("name")})).getCanvasBBox().width}else o||(o=a.getWidth());Xy(t,dy({width:"".concat(o,"px"),transform:s},jy(l)));var u=r.getData();if(e.customHtml)return e.customHtml(t,r,n,u);var h=e.content;return e.formatter&&(h=e.formatter(n,u)),h?(0,O.HD)(h)?h:"".concat(h):"<div></div>"},key:"".concat(0===r?"top":"bottom","-statistic")},Sy(e,["offsetX","offsetY","rotate","style","formatter"])))}}))},qy=function(t,e,n){var r=e.statistic;[r.title,r.content].forEach((function(e){if(e){var r=(0,O.mf)(e.style)?e.style(n):e.style;t.annotation().html(dy({position:["50%","100%"],html:function(t,i){var a=i.getCoordinate(),o=i.views[0].getCoordinate(),s=o.getCenter(),l=o.getRadius(),c=Math.max(Math.sin(o.startAngle),Math.sin(o.endAngle))*l,u=s.y+c-a.y.start-parseFloat((0,O.U2)(r,"fontSize",0)),h=a.getRadius()*a.innerRadius*2;Xy(t,dy({width:"".concat(h,"px"),transform:"translate(-50%, ".concat(u,"px)")},jy(r)));var f=i.getData();if(e.customHtml)return e.customHtml(t,i,n,f);var p=e.content;return e.formatter&&(p=e.formatter(n,f)),p?(0,O.HD)(p)?p:"".concat(p):"<div></div>"}},Sy(e,["offsetX","offsetY","rotate","style","formatter"])))}}))};function Zy(t,e){return e?(0,O.u4)(e,(function(t,e,n){return t.replace(new RegExp("{\\s*".concat(n,"\\s*}"),"g"),e)}),t):t}function Ky(t,e){return t.views.find((function(t){return t.id===e}))}function Jy(t){var e=t.parent;return e?e.views:[]}function Qy(t){return Jy(t).filter((function(e){return e!==t}))}function tm(t,e,n){void 0===n&&(n=t.geometries),"boolean"===typeof e?t.animate(e):t.animate(!0),(0,O.S6)(n,(function(t){var n;n=(0,O.mf)(e)?e(t.type||t.shapeType,t)||!0:e,t.animate(n)}))}function em(){return"object"===typeof window?null===window||void 0===window?void 0:window.devicePixelRatio:2}function nm(t,e){void 0===e&&(e=t);var n=document.createElement("canvas"),r=em();return n.width=t*r,n.height=e*r,n.style.width="".concat(t,"px"),n.style.height="".concat(e,"px"),n.getContext("2d").scale(r,r),n}function rm(t,e,n,r){void 0===r&&(r=n);var i=e.backgroundColor,a=e.opacity;t.globalAlpha=a,t.fillStyle=i,t.beginPath(),t.fillRect(0,0,n,r),t.closePath()}function im(t,e,n){var r=t+e;return n?2*r:r}function am(t,e){return e?[[t*(1/4),t*(1/4)],[t*(3/4),t*(3/4)]]:[[.5*t,.5*t]]}function om(t,e){var n=e*Math.PI/180;return{a:Math.cos(n)*(1/t),b:Math.sin(n)*(1/t),c:-Math.sin(n)*(1/t),d:Math.cos(n)*(1/t),e:0,f:0}}var sm={size:6,padding:2,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0,isStagger:!0};function lm(t,e,n,r){var i=e.size,a=e.fill,o=e.lineWidth,s=e.stroke,l=e.fillOpacity;t.beginPath(),t.globalAlpha=l,t.fillStyle=a,t.strokeStyle=s,t.lineWidth=o,t.arc(n,r,i/2,0,2*Math.PI,!1),t.fill(),o&&t.stroke(),t.closePath()}var cm={rotation:45,spacing:5,opacity:1,backgroundColor:"transparent",strokeOpacity:.5,stroke:"#fff",lineWidth:2};function um(t){var e=Py({},cm,t),n=e.spacing,r=e.rotation,i=e.lineWidth,a=n+i||1,o=n+i||1,s="\n            M 0 0 L ".concat(a," 0\n            M 0 ").concat(o," L ").concat(a," ").concat(o,"\n            "),l=nm(a,o),c=l.getContext("2d");rm(c,e,a,o),function(t,e,n){var r=e.stroke,i=e.lineWidth,a=e.strokeOpacity,o=new Path2D(n);t.globalAlpha=a,t.lineCap="square",t.strokeStyle=i?r:"transparent",t.lineWidth=i,t.stroke(o)}(c,e,s);var u=c.createPattern(l,"repeat");if(u){var h=om(em(),r);u.setTransform(h)}return u}var hm={size:6,padding:1,isStagger:!0,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0};function fm(t,e,n,r){var i=e.stroke,a=e.size,o=e.fill,s=e.lineWidth,l=e.fillOpacity;t.globalAlpha=l,t.strokeStyle=i,t.lineWidth=s,t.fillStyle=o,t.strokeRect(n-a/2,r-a/2,a,a),t.fillRect(n-a/2,r-a/2,a,a)}function pm(t){var e,n=t.type,r=t.cfg;switch(n){case"dot":e=function(t){var e=Py({},sm,t),n=e.size,r=e.padding,i=e.isStagger,a=e.rotation,o=im(n,r,i),s=am(o,i),l=nm(o,o),c=l.getContext("2d");rm(c,e,o);for(var u=0,h=s;u<h.length;u++){var f=h[u];lm(c,e,f[0],f[1])}var p=c.createPattern(l,"repeat");if(p){var d=om(em(),a);p.setTransform(d)}return p}(r);break;case"line":e=um(r);break;case"square":e=function(t){var e=Py({},hm,t),n=e.size,r=e.padding,i=e.isStagger,a=e.rotation,o=im(n,r,i),s=am(o,i),l=nm(o,o),c=l.getContext("2d");rm(c,e,o);for(var u=0,h=s;u<h.length;u++){var f=h[u];fm(c,e,f[0],f[1])}var p=c.createPattern(l,"repeat");if(p){var d=om(em(),a);p.setTransform(d)}return p}(r)}return e}function dm(t){var e=this;return function(n){var r,i=n.options,a=n.chart,o=i.pattern;if(!o)return n;return Py({},n,{options:(r={},r[t]=function(n){for(var r,s,l,c=[],u=1;u<arguments.length;u++)c[u-1]=arguments[u];var h=a.getTheme().defaultColor,f=h,p=null===(s=null===(r=a.geometries)||void 0===r?void 0:r[0])||void 0===s?void 0:s.getAttribute("color");if(p){var d=p.getFields()[0],g=(0,O.U2)(n,d);f=Tc.getMappingValue(p,g,(null===(l=p.values)||void 0===l?void 0:l[0])||h)}var v=o;"function"===typeof o&&(v=o.call(e,n,f)),v instanceof CanvasPattern===!1&&(v=pm(Py({},{cfg:{backgroundColor:f}},v)));var y=i[t];return dy(dy({},"function"===typeof y?y.call.apply(y,vy([e,n],c,!1)):y||{}),{fill:v||f})},r)})}}function gm(t){var e=t.chart,n=t.options,r=n.legend,i=n.colorField,a=n.seriesField;return!1===r?e.legend(!1):(i||a)&&e.legend(i||a,r),t}function vm(t){var e=t.chart,n=t.options.tooltip;return void 0!==n&&e.tooltip(n),t}function ym(t){var e=t.chart,n=t.options.interactions;return(0,O.S6)(n,(function(t){!1===t.enable?e.removeInteraction(t.type):e.interaction(t.type,t.cfg||{})})),t}function mm(t){return tm(t.chart,t.options.animation),t}function xm(t){var e=t.chart,n=t.options.theme;return n&&e.theme(n),t}function bm(t){var e=t.chart,n=t.options.state;return n&&(0,O.S6)(e.geometries,(function(t){t.state(n)})),t}function wm(t){var e=t.chart,n=t.options.slider;return e.option("slider",n),t}function Sm(t){var e=t.chart,n=t.options.scrollbar;return e.option("scrollbar",n),t}function Cm(t,e){return function(n){var r=n.chart,i=n.options,a={};return(0,O.S6)(t,(function(t,e){a[e]=Sy(t,my)})),a=Py({},e,i.meta,a),r.scale(a),n}}function Tm(t){return function(e){var n=e.chart,r=e.options,i=n.getController("annotation");return(0,O.S6)(vy(vy([],r.annotations||[],!0),t||[],!0),(function(t){i.annotation(t)})),e}}function Em(t){var e=t.chart,n=t.options,r=n.yAxis,i=n.limitInPlot,a=i;return(0,O.Kn)(r)&&(0,O.UM)(i)&&(a=!!Object.values(Sy(r,["min","max","minLimit","maxLimit"])).some((function(t){return!(0,O.UM)(t)}))),e.limitInPlot=a,t}function km(t){return void 0===t&&(t="rect"),function(e){var n=e.chart,r=e.options.coordinate,i=Array.from(r||[]).map((function(t){return"reflectX"===t.type?["reflect","x"]:"reflectY"===t.type?["reflect","y"]:"transpose"===t.type?["transpose"]:null})).filter((function(t){return!!t}));return 0!==i.length&&n.coordinate({type:t,actions:i}),e}}var Mm={locale:"en-US"};var Am={};function Om(t,e){Am[t]=e}function Fm(t){return{get:function(e,n){return Zy((0,O.U2)(Am[t],e)||(0,O.U2)(Am[Mm.locale],e)||(0,O.U2)(Am["en-US"],e)||e,n)}}}function Im(t,e){if(!1===t)return{fields:!1};var n=(0,O.U2)(t,"fields"),r=(0,O.U2)(t,"formatter");return r&&!n&&(n=e),{fields:n,formatter:r}}function Pm(t,e){var n=t.type,r=t.xField,i=t.yField,a=t.colorField,o=t.shapeField,s=t.sizeField,l=t.styleField,c=t.rawFields,u=[];if(c=((0,O.mf)(c)?c(n,e):c)||[],"color"===e)u=vy([a||r],c,!0);else if("shape"===e)u=vy([o||r],c,!0);else if("size"===e)u=vy([s||r],c,!0);else{u=vy([r,i,a,o,s,l],c,!0);var h=["x","y","color","shape","size","style"].indexOf(e),f=u[h];u.splice(h,1),u.unshift(f)}var p=(0,O.jj)(u.filter((function(t){return!!t}))),d="line"===n&&[r,i].includes(p.join("*"))?"":p.join("*");return{mappingFields:p,tileMappingField:d}}function Dm(t,e){if(e)return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i={};return t.forEach((function(t,e){i[t]=n[e]})),delete i[void 0],e(i)}}function Lm(t){var e=t.chart,n=t.options,r=n.type,i=n.args,a=n.mapping,o=n.xField,s=n.yField,l=n.colorField,c=n.shapeField,u=n.sizeField,h=n.tooltipFields,f=n.label,p=n.state,d=n.customInfo;if(!a)return t;var g=a.color,v=a.shape,y=a.size,m=a.style,x=a.tooltip,b=e[r](i).position("".concat(o,"*").concat(s));if((0,O.HD)(g))l?b.color(l,g):b.color(g);else if((0,O.mf)(g)){var w=Pm(n,"color"),S=w.mappingFields,C=w.tileMappingField;b.color(C,Dm(S,g))}else l&&b.color(l,g);if((0,O.HD)(v))c?b.shape(c,[v]):b.shape(v);else if((0,O.mf)(v)){var T=Pm(n,"shape");S=T.mappingFields,C=T.tileMappingField;b.shape(C,Dm(S,v))}else c&&b.shape(c,v);if((0,O.hj)(y))u?b.size(u,y):b.size(y);else if((0,O.mf)(y)){var E=Pm(n,"size");S=E.mappingFields,C=E.tileMappingField;b.size(C,Dm(S,y))}else u&&b.size(u,y);if((0,O.mf)(m)){var k=Pm(n,"style");S=k.mappingFields,C=k.tileMappingField;b.style(C,Dm(S,m))}else(0,O.Kn)(m)&&b.style(m);if(!1===h?b.tooltip(!1):(0,O.xb)(h)||b.tooltip(h.join("*"),Dm(h,x)),!1===f)b.label(!1);else if(f){var M=f.callback,A=f.fields,F=gy(f,["callback","fields"]);b.label({fields:A||[s],callback:M,cfg:Ny(F)})}return p&&b.state(p),d&&b.customInfo(d),[o,s].filter((function(t){return t!==l})).forEach((function(t){e.legend(t,!1)})),dy(dy({},t),{ext:{geometry:b}})}function Rm(t){var e=t.options,n=e.area,r=e.xField,i=e.yField,a=e.seriesField,o=e.smooth,s=e.tooltip,l=e.useDeferredLabel,c=Im(s,[r,i,a]),u=c.fields,h=c.formatter;return n?Lm(Py({},t,{options:{type:"area",colorField:a,tooltipFields:u,mapping:(0,O.b$)({shape:o?"smooth":"area",tooltip:h},n),args:{useDeferredLabel:l}}})):t}function Bm(t){var e=t.options,n=e.edge,r=e.xField,i=e.yField,a=e.seriesField,o=e.tooltip,s=e.useDeferredLabel,l=Im(o,[r,i,a]),c=l.fields,u=l.formatter;return n?Lm(Py({},t,{options:{type:"edge",colorField:a,tooltipFields:c,mapping:dy({tooltip:u},n),args:{useDeferredLabel:s}}})):t}function _m(t){var e=t.options,n=e.xField,r=e.yField,i=e.interval,a=e.seriesField,o=e.tooltip,s=e.minColumnWidth,l=e.maxColumnWidth,c=e.columnBackground,u=e.dodgePadding,h=e.intervalPadding,f=e.useDeferredLabel,p=Im(o,[n,r,a]),d=p.fields,g=p.formatter,v=(i?Lm(Py({},t,{options:{type:"interval",colorField:a,tooltipFields:d,mapping:dy({tooltip:g},i),args:{dodgePadding:u,intervalPadding:h,minColumnWidth:s,maxColumnWidth:l,background:c,useDeferredLabel:f}}})):t).ext;return function(t){var e=t.chart,n=t.options,r=t.ext,i=n.seriesField,a=n.isGroup,o=n.isStack,s=n.marginRatio,l=n.widthRatio,c=n.groupField,u=n.theme,h=[];return i&&(a&&h.push({type:"dodge",dodgeBy:c||i,marginRatio:s}),o&&h.push({type:"stack",marginRatio:s})),h.length&&(null===r||void 0===r?void 0:r.geometry)&&(null===r||void 0===r?void 0:r.geometry).adjust(h),(0,O.UM)(l)||e.theme(Py({},(0,O.Kn)(u)?u:js(u),{columnWidthRatio:l})),t}(dy(dy({},t),{ext:v}))}function Nm(t){var e=t.options,n=e.line,r=e.stepType,i=e.xField,a=e.yField,o=e.seriesField,s=e.smooth,l=e.connectNulls,c=e.tooltip,u=e.useDeferredLabel,h=Im(c,[i,a,o]),f=h.fields,p=h.formatter;return n?Lm(Py({},t,{options:{type:"line",colorField:o,tooltipFields:f,mapping:(0,O.b$)({shape:r||(s?"smooth":"line"),tooltip:p},n),args:{connectNulls:l,useDeferredLabel:u}}})):t}function Um(t){var e=t.options,n=e.point,r=e.xField,i=e.yField,a=e.seriesField,o=e.sizeField,s=e.shapeField,l=e.tooltip,c=e.useDeferredLabel,u=Im(l,[r,i,a,o,s]),h=u.fields,f=u.formatter;return n?Lm(Py({},t,{options:{type:"point",colorField:a,shapeField:s,tooltipFields:h,mapping:dy({tooltip:f},n),args:{useDeferredLabel:c}}})):t}function zm(t){var e=t.options,n=e.polygon,r=e.xField,i=e.yField,a=e.seriesField,o=e.tooltip,s=e.useDeferredLabel,l=Im(o,[r,i,a]),c=l.fields,u=l.formatter;return n?Lm(Py({},t,{options:{type:"polygon",colorField:a,tooltipFields:c,mapping:dy({tooltip:u},n),args:{useDeferredLabel:s}}})):t}function Hm(t){var e=t.options,n=e.schema,r=e.xField,i=e.yField,a=e.seriesField,o=e.tooltip,s=e.useDeferredLabel,l=Im(o,[r,i,a]),c=l.fields,u=l.formatter;return n?Lm(Py({},t,{options:{type:"schema",colorField:a,tooltipFields:c,mapping:dy({tooltip:u},n),args:{useDeferredLabel:s}}})):t}var Vm=n(315),Gm="data-chart-source-type",Wm=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],Ym=function(t){function e(e,n){var r=t.call(this)||this;return r.container="string"===typeof e?document.getElementById(e):e,r.options=Py({},r.getDefaultOptions(),n),r.createG2(),r.bindEvents(),r}return py(e,t),e.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},e.prototype.createG2=function(){var t=this.options,e=t.width,n=t.height,r=t.defaultInteractions;this.chart=new yl(dy(dy(dy(dy({container:this.container,autoFit:!1},this.getChartSize(e,n)),{localRefresh:!1}),Sy(this.options,Wm)),{defaultInteractions:r})),this.container.setAttribute(Gm,"G2Plot")},e.prototype.getChartSize=function(t,e){var n=Dy(this.container);return{width:t||n.width||400,height:e||n.height||400}},e.prototype.bindEvents=function(){var t=this;this.chart&&this.chart.on("*",(function(e){(null===e||void 0===e?void 0:e.type)&&t.emit(e.type,e)}))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},e.prototype.update=function(t){this.updateOption(t),this.render()},e.prototype.updateOption=function(t){this.options=Py({},this.options,t)},e.prototype.setState=function(t,e,n){void 0===n&&(n=!0);var r=_y(this.chart);(0,O.S6)(r,(function(r){e(r.getData())&&r.setState(t,n)}))},e.prototype.getStates=function(){var t=_y(this.chart),e=[];return(0,O.S6)(t,(function(t){var n=t.getData(),r=t.getStates();(0,O.S6)(r,(function(r){e.push({data:n,state:r,geometry:t.geometry,element:t})}))})),e},e.prototype.changeData=function(t){this.update({data:t})},e.prototype.changeSize=function(t,e){this.chart.changeSize(t,e)},e.prototype.addAnnotations=function(t,e){e=e||this.chart;var n=vy([],t,!0),r=e.getController("annotation"),i=r.getComponents().map((function(t){return t.extra}));r.clear(!0);for(var a=function(t){var e=i[t],a=n.findIndex((function(t){return t.id&&t.id===e.id}));-1!==a&&(e=Py({},e,n[a]),n.splice(a,1)),r.annotation(e)},o=0;o<i.length;o++)a(o);n.forEach((function(t){return r.annotation(t)})),e.render(!0)},e.prototype.removeAnnotations=function(t){var e=this.chart.getController("annotation"),n=e.getComponents().map((function(t){return t.extra}));e.clear(!0);for(var r=function(r){var i=n[r];t.find((function(t){return t.id&&t.id===i.id}))||e.annotation(i)},i=0;i<n.length;i++)r(i);this.chart.render(!0)},e.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(Gm)},e.prototype.execAdaptor=function(){var t=this.getSchemaAdaptor(),e=this.options,n=e.padding,r=e.appendPadding;this.chart.padding=n,this.chart.appendPadding=r,t({chart:this.chart,options:this.options})},e.prototype.triggerResize=function(){this.chart.forceFit()},e.prototype.bindSizeSensor=function(){var t=this;if(!this.unbind){var e=this.options.autoFit;(void 0===e||e)&&(this.unbind=(0,Vm.ak)(this.container,(function(){var e=Dy(t.container),n=e.width,r=e.height;n===t.chart.width&&r===t.chart.height||t.triggerResize()})))}},e.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},e}(q.Z);function jm(t,e,n,r){var i=(0,O.u4)(t,(function(t,r){var i=r[n],a=t.has(i)?t.get(i):0,o=r[e];return a=Uy(o)?a+o:a,t.set(i,a),t}),new Map);return(0,O.UI)(t,(function(t){var a,o=t[e],s=t[n],l=Uy(o)&&0!==i.get(s)?o/i.get(s):0;return dy(dy({},t),((a={})[r]=l,a))}))}function Xm(t,e,n,r,i){return i?jm(t,e,n,r):t}function $m(t){var e=t.chart,n=t.options,r=n.data,i=n.color,a=n.lineStyle,o=n.lineShape,s=n.point,l=n.area,c=n.seriesField,u=null===s||void 0===s?void 0:s.state,h=null===l||void 0===l?void 0:l.state;e.data(r);var f=Py({},t,{options:{shapeField:c,line:{color:i,style:a,shape:o},point:s&&dy({color:i,shape:"circle"},s),area:l&&dy({color:i},l),label:void 0}}),p=Py({},f,{options:{tooltip:!1,state:u}}),d=Py({},f,{options:{tooltip:!1,state:h}});return Nm(f),Um(p),Rm(d),t}function qm(t){var e,n,r=t.options,i=r.xAxis,a=r.yAxis,o=r.xField,s=r.yField,l=r.data;return Ly(Cm(((e={})[o]=i,e[s]=a,e),((n={})[o]={type:"cat"},n[s]=Cy(l,s),n)))(t)}function Zm(t){var e=t.chart,n=t.options.reflect;if(n){var r=n;(0,O.kJ)(r)||(r=[r]);var i=r.map((function(t){return["reflect",t]}));e.coordinate({type:"rect",actions:i})}return t}function Km(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,a=n.xField,o=n.yField;return!1===r?e.axis(a,!1):e.axis(a,r),!1===i?e.axis(o,!1):e.axis(o,i),t}function Jm(t){var e=t.chart,n=t.options,r=n.legend,i=n.seriesField;return r&&i?e.legend(i,r):!1===r&&e.legend(!1),t}function Qm(t){var e=t.chart,n=t.options,r=n.label,i=n.yField,a=Ry(e,"line");if(r){var o=r.callback,s=gy(r,["callback"]);a.label({fields:[i],callback:o,cfg:dy({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Ny(s))})}else a.label(!1);return t}function tx(t){var e=t.chart;return t.options.isStack&&(0,O.S6)(e.geometries,(function(t){t.adjust("stack")})),t}function ex(t){return Ly($m,qm,tx,xm,Zm,Km,Jm,vm,Qm,wm,Sm,ym,mm,Tm(),Em)(t)}function nx(t){var e=t.chart,n=t.options,r=n.data,i=n.areaStyle,a=n.areaShape,o=n.color,s=n.point,l=n.line,c=n.isPercent,u=n.xField,h=n.yField,f=n.tooltip,p=n.seriesField,d=n.startOnZero,g=null===s||void 0===s?void 0:s.state,v=Xm(r,h,u,h,c);e.data(v);var y=c?dy({formatter:function(t){return{name:t[p]||t[u],value:(100*Number(t[h])).toFixed(2)+"%"}}},f):f,m=Py({},t,{options:{area:{color:o,style:i,shape:a},point:s&&dy({color:o},s),tooltip:y,label:void 0,args:{startOnZero:d}}}),x={chart:e,options:Py({line:{size:2}},(0,O.CE)(n,["state"]),{line:l&&dy({color:o},l),sizeField:p,state:null===l||void 0===l?void 0:l.state,tooltip:!1,label:void 0,args:{startOnZero:d}})},b=Py({},m,{options:{tooltip:!1,state:g}});return Rm(m),Nm(x),Um(b),t}function rx(t){var e=t.chart,n=t.options,r=n.label,i=n.yField,a=Ry(e,"area");if(r){var o=r.callback,s=gy(r,["callback"]);a.label({fields:[i],callback:o,cfg:dy({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Ny(s))})}else a.label(!1);return t}function ix(t){var e=t.chart,n=t.options,r=n.isStack,i=n.isPercent,a=n.seriesField;return(i||r)&&a&&(0,O.S6)(e.geometries,(function(t){t.adjust("stack")})),t}function ax(t){return Ly(xm,dm("areaStyle"),km("rect"),nx,qm,ix,Km,Jm,vm,rx,wm,Tm(),ym,mm,Em)(t)}var ox=Py({},Ym.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left",radio:{}}}),sx=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="area",e}return py(e,t),e.getDefaultOptions=function(){return ox},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.isPercent,r=e.xField,i=e.yField;qm({chart:this.chart,options:this.options}),this.chart.changeData(Xm(t,i,r,i,n))},e.prototype.getSchemaAdaptor=function(){return ax},e}(Ym),lx={padding:[8,10],text:"reset",textStyle:{default:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"}},buttonStyle:{default:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},active:{fill:"#e6e6e6"}}},cx=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buttonGroup=null,e.buttonCfg=dy({name:"button"},lx),e}return py(e,t),e.prototype.getButtonCfg=function(){var t=this.context.view,e=(0,O.U2)(t,["interactions","filter-action","cfg","buttonConfig"]);return Py(this.buttonCfg,e,this.cfg)},e.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=this.drawText(e);this.drawBackground(e,n.getBBox()),this.buttonGroup=e},e.prototype.drawText=function(t){var e,n=this.getButtonCfg();return t.addShape({type:"text",name:"button-text",attrs:dy({text:n.text},null===(e=n.textStyle)||void 0===e?void 0:e.default)})},e.prototype.drawBackground=function(t,e){var n,r=this.getButtonCfg(),i=zy(r.padding),a=t.addShape({type:"rect",name:"button-rect",attrs:dy({x:e.x-i[3],y:e.y-i[0],width:e.width+i[1]+i[3],height:e.height+i[0]+i[2]},null===(n=r.buttonStyle)||void 0===n?void 0:n.default)});return a.toBack(),t.on("mouseenter",(function(){var t;a.attr(null===(t=r.buttonStyle)||void 0===t?void 0:t.active)})),t.on("mouseleave",(function(){var t;a.attr(null===(t=r.buttonStyle)||void 0===t?void 0:t.default)})),a},e.prototype.resetPosition=function(){var t=this.context.view.getCoordinate().convert({x:1,y:1}),e=this.buttonGroup,n=e.getBBox(),r=Tc.transform(null,[["t",t.x-n.width-10,t.y+n.height+5]]);e.setMatrix(r)},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},e.prototype.destroy=function(){var e=this.buttonGroup;e&&e.remove(),t.prototype.destroy.call(this)},e}(Ao);function ux(t){return t.isInPlot()}function hx(t,e,n){var r=n||{},i=r.mask,a=r.isStartEnable,o=e||"rect";switch(t){case"brush":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:a||ux,action:["brush:start","".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[null,{maskStyle:null===i||void 0===i?void 0:i.style}]}],processing:[{trigger:"mousemove",isEnable:ux,action:["".concat(o,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:ux,action:["brush:filter","brush:end","".concat(o,"-mask:end"),"".concat(o,"-mask:hide"),"brush-reset-button:show"]}],rollback:[{trigger:"brush-reset-button:click",action:["brush:reset","brush-reset-button:hide","cursor:crosshair"]}]};case"brush-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:default",isEnable:function(t){return!!a&&!a(t)}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:a||function(t){return!t.isInShape("mask")},action:["".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[{maskStyle:null===i||void 0===i?void 0:i.style}]},{trigger:"mask:dragstart",action:["".concat(o,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(o,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(o,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(o,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(o,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot()},action:["element-range-highlight:clear","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(o,"-mask:hide")]}]};case"brush-x":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:a||ux,action:["brush-x:start","".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[null,{maskStyle:null===i||void 0===i?void 0:i.style}]}],processing:[{trigger:"mousemove",isEnable:ux,action:["".concat(o,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:ux,action:["brush-x:filter","brush-x:end","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]};case"brush-x-highlight":case"brush-y-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:a||function(t){return!t.isInShape("mask")},action:["".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[{maskStyle:null===i||void 0===i?void 0:i.style}]},{trigger:"mask:dragstart",action:["".concat(o,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(o,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(o,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(o,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(o,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot()},action:["element-range-highlight:clear","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(o,"-mask:hide")]}]};case"brush-y":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:a||ux,action:["brush-y:start","".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[null,{maskStyle:null===i||void 0===i?void 0:i.style}]}],processing:[{trigger:"mousemove",isEnable:ux,action:["".concat(o,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:ux,action:["brush-y:filter","brush-y:end","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["brush-y:reset"]}]};default:return{}}}Do("brush-reset-button",cx,{name:"brush-reset-button"}),Os("filter-action",{}),Os("brush",hx("brush")),Os("brush-highlight",hx("brush-highlight")),Os("brush-x",hx("brush-x","x-rect")),Os("brush-y",hx("brush-y","y-rect")),Os("brush-x-highlight",hx("brush-x-highlight","x-rect")),Os("brush-y-highlight",hx("brush-y-highlight","y-rect"));var fx=["brush","brush-x","brush-y","brush-highlight","brush-x-highlight","brush-y-highlight"];function px(t){var e=t.options,n=e.brush,r=(0,O.hX)(e.interactions||[],(function(t){return-1===fx.indexOf(t.type)}));return(null===n||void 0===n?void 0:n.enabled)&&(fx.forEach((function(t){var e=!1;switch(n.type){case"x-rect":e=t===("highlight"===n.action?"brush-x-highlight":"brush-x");break;case"y-rect":e=t===("highlight"===n.action?"brush-y-highlight":"brush-y");break;default:e=t===("highlight"===n.action?"brush-highlight":"brush")}var i={type:t,enable:e};n&&(i.cfg=hx(t,n.type,n)),r.push(i)})),"highlight"!==(null===n||void 0===n?void 0:n.action)&&r.push({type:"filter-action",cfg:{buttonConfig:n.button}})),Py({},t,{options:{interactions:r}})}var dx={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"},gx=function(t,e){return"hover"===t?[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"],arg:[null,{style:e}]}]:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"],arg:[null,null,null,null,{style:e}]}]};function vx(t,e){return(0,O.hj)(t)&&(0,O.hj)(e)?0===t&&0===e?"-":t===e?"100%":0===t?"\u221e":"".concat((100*e/t).toFixed(2),"%"):"-"}function yx(t,e){return Py({size:e?32:80,spacing:e?8:12,offset:e?32:0,arrow:!1!==t.arrow&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:!1!==t.text&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:vx}},t)}function mx(t,e){return(0,O.UI)(e.getModel().points,(function(e){return t.convertPoint(e)}))}function xx(t,e,n){!function(t,e,n){var r=t.view,i=t.geometry,a=t.group,o=t.options,s=t.horizontal,l=o.offset,c=o.size,u=o.arrow,h=r.getCoordinate(),f=mx(h,e)[3],p=mx(h,n)[0],d=p.y-f.y,g=p.x-f.x;if("boolean"!==typeof u){var v,y=u.headSize,m=o.spacing;s?(g-y)/2<m?(m=Math.max(1,(g-y)/2),v=[[f.x+m,f.y-l],[f.x+m,f.y-l-c],[p.x-m,p.y-l-c/2]]):v=[[f.x+m,f.y-l],[f.x+m,f.y-l-c],[p.x-m-y,p.y-l-c],[p.x-m,p.y-l-c/2],[p.x-m-y,p.y-l]]:(d-y)/2<m?(m=Math.max(1,(d-y)/2),v=[[f.x+l,f.y+m],[f.x+l+c,f.y+m],[p.x+l+c/2,p.y-m]]):v=[[f.x+l,f.y+m],[f.x+l+c,f.y+m],[p.x+l+c,p.y-m-y],[p.x+l+c/2,p.y-m],[p.x+l,p.y-m-y]],a.addShape("polygon",{id:"".concat(r.id,"-conversion-tag-arrow-").concat(i.getElementId(e.getModel().mappingData)),name:"conversion-tag-arrow",origin:{element:e,nextElement:n},attrs:dy(dy({},u.style||{}),{points:v})})}}(t,e,n),function(t,e,n){var r,i,a,o=t.view,s=t.geometry,l=t.group,c=t.options,u=t.field,h=t.horizontal,f=c.offset,p=c.size;if("boolean"!==typeof c.text){var d=o.getCoordinate(),g=(null===(r=c.text)||void 0===r?void 0:r.formatter)&&(null===(i=c.text)||void 0===i?void 0:i.formatter(e.getData()[u],n.getData()[u])),v=mx(d,e)[h?3:0],y=mx(d,n)[h?0:3],m=l.addShape("text",{id:"".concat(o.id,"-conversion-tag-text-").concat(s.getElementId(e.getModel().mappingData)),name:"conversion-tag-text",origin:{element:e,nextElement:n},attrs:dy(dy({},(null===(a=c.text)||void 0===a?void 0:a.style)||{}),{text:g,x:h?(v.x+y.x)/2:v.x+f+p/2,y:h?v.y-f-p/2:(v.y+y.y)/2})});if(h){var x=y.x-v.x,b=m.getBBox().width;if(b>x){var w=b/g.length,S=Math.max(1,Math.ceil(x/w)-1),C="".concat(g.slice(0,S),"...");m.attr("text",C)}}}}(t,e,n)}function bx(t){var e=t.options,n=e.legend,r=e.seriesField,i=e.isStack;return r?!1!==n&&(n=dy({position:i?"right-top":"top-left"},n)):n=!1,t.options.legend=n,t}function wx(t){var e=t.chart,n=t.options,r=n.data,i=n.columnStyle,a=n.color,o=n.columnWidthRatio,s=n.isPercent,l=n.isGroup,c=n.isStack,u=n.xField,h=n.yField,f=n.seriesField,p=n.groupField,d=n.tooltip,g=n.shape,v=s&&l&&c?function(t,e,n,r){var i=(0,O.u4)(t,(function(t,r){var i=(0,O.u4)(n,(function(t,e){return"".concat(t).concat(r[e])}),""),a=t.has(i)?t.get(i):0,o=r[e];return a=Uy(o)?a+o:a,t.set(i,a),t}),new Map);return(0,O.UI)(t,(function(t){var a,o=t[e],s=(0,O.u4)(n,(function(e,n){return"".concat(e).concat(t[n])}),""),l=Uy(o)&&0!==i.get(s)?o/i.get(s):0;return dy(dy({},t),((a={})[r]=l,a))}))}(r,h,[u,p],h):Xm(r,h,u,h,s),y=[];c&&f&&!l?v.forEach((function(t){var e=y.find((function(e){return e[u]===t[u]&&e[f]===t[f]}));e?e[h]+=t[h]||0:y.push(dy({},t))})):y=v,e.data(y);var m=s?dy({formatter:function(t){var e;return{name:l&&c?"".concat(t[f]," - ").concat(t[p]):null!==(e=t[f])&&void 0!==e?e:t[u],value:(100*Number(t[h])).toFixed(2)+"%"}}},d):d,x=Py({},t,{options:{data:y,widthRatio:o,tooltip:m,interval:{shape:g,style:i,color:a}}});return _m(x),x}function Sx(t){var e,n,r=t.options,i=r.xAxis,a=r.yAxis,o=r.xField,s=r.yField,l=r.data,c=r.isPercent?{max:1,min:0,minLimit:0,maxLimit:1}:{};return Ly(Cm(((e={})[o]=i,e[s]=a,e),((n={})[o]={type:"cat"},n[s]=dy(dy({},Cy(l,s)),c),n)))(t)}function Cx(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,a=n.xField,o=n.yField;return!1===r?e.axis(a,!1):e.axis(a,r),!1===i?e.axis(o,!1):e.axis(o,i),t}function Tx(t){var e=t.chart,n=t.options,r=n.legend,i=n.seriesField;return r&&i?e.legend(i,r):!1===r&&e.legend(!1),t}function Ex(t){var e=t.chart,n=t.options,r=n.label,i=n.yField,a=n.isRange,o=Ry(e,"interval");if(r){var s=r.callback,l=gy(r,["callback"]);o.label({fields:[i],callback:s,cfg:dy({layout:(null===l||void 0===l?void 0:l.position)?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Ny(a?dy({content:function(t){var e;return null===(e=t[i])||void 0===e?void 0:e.join("-")}},l):l))})}else o.label(!1);return t}function kx(t){var e=t.chart,n=t.options,r=n.tooltip,i=n.isGroup,a=n.isStack,o=n.groupField,s=n.data,l=n.xField,c=n.yField,u=n.seriesField;if(!1===r)e.tooltip(!1);else{var h=r;if(i&&a){var f=h.customItems,p=(null===h||void 0===h?void 0:h.formatter)||function(t){return{name:"".concat(t[u]," - ").concat(t[o]),value:t[c]}};h=dy(dy({},h),{customItems:function(t){var e=[];return(0,O.S6)(t,(function(t){(0,O.hX)(s,(function(e){return(0,O.BD)(e,Sy(t.data,[l,u]))})).forEach((function(n){e.push(dy(dy(dy({},t),{value:n[c],data:n,mappingData:{_origin:n}}),p(n)))}))})),f?f(e):e}})}e.tooltip(h)}return t}function Mx(t,e){void 0===e&&(e=!1);var n,r=t.options,i=r.seriesField;return Ly(bx,xm,dm("columnStyle"),bm,km("rect"),wx,Sx,Cx,Tx,kx,wm,Sm,Ex,px,ym,mm,Tm(),function(t,e,n){return void 0===e&&(e=!0),void 0===n&&(n=!1),function(r){var i=r.options,a=r.chart,o=i.conversionTag,s=i.theme;return o&&!n&&(a.theme(Py({},(0,O.Kn)(s)?s:js(s),{columnWidthRatio:1/3})),a.annotation().shape({render:function(n,r){var i=n.addGroup({id:"".concat(a.id,"-conversion-tag-group"),name:"conversion-tag-group"}),s=(0,O.sE)(a.geometries,(function(t){return"interval"===t.type})),l={view:r,geometry:s,group:i,field:t,horizontal:e,options:yx(o,e)},c=s.elements;(0,O.S6)(c,(function(t,e){e>0&&xx(l,c[e-1],t)}))}})),r}}(r.yField,!e,!!i),(void 0===(n=!r.isStack)&&(n=!1),function(t){var e=t.chart,r=t.options.connectedArea,i=function(){e.removeInteraction(dx.hover),e.removeInteraction(dx.click)};if(!n&&r){var a=r.trigger||"hover";i(),e.interaction(dx[a],{start:gx(a,r.style)})}else i();return t}),Em)(t)}function Ax(t){var e=t.options,n=e.xField,r=e.yField,i=e.xAxis,a=e.yAxis,o={left:"bottom",right:"top",top:"left",bottom:"right"},s=!1!==a&&dy({position:o[(null===a||void 0===a?void 0:a.position)||"left"]},a),l=!1!==i&&dy({position:o[(null===i||void 0===i?void 0:i.position)||"bottom"]},i);return dy(dy({},t),{options:dy(dy({},e),{xField:r,yField:n,xAxis:s,yAxis:l})})}function Ox(t){var e=t.options.label;return e&&!e.position&&(e.position="left",e.layout||(e.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}])),Py({},t,{options:{label:e}})}function Fx(t){var e=t.options,n=e.seriesField,r=e.isStack,i=e.legend;return n?!1!==i&&(i=dy({position:r?"top-left":"right-top"},i||{})):i=!1,Py({},t,{options:{legend:i}})}function Ix(t){var e=t.options,n=[{type:"transpose"},{type:"reflectY"}].concat(e.coordinate||[]);return Py({},t,{options:{coordinate:n}})}function Px(t){var e=t.chart,n=t.options,r=n.barStyle,i=n.barWidthRatio,a=n.minBarWidth,o=n.maxBarWidth,s=n.barBackground;return Mx({chart:e,options:dy(dy({},n),{columnStyle:r,columnWidthRatio:i,minColumnWidth:a,maxColumnWidth:o,columnBackground:s})},!0)}function Dx(t){return Ly(Ax,Ox,Fx,vm,Ix,Px)(t)}Os(dx.hover,{start:gx(dx.hover),end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]}),Os(dx.click,{start:gx(dx.click),end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});var Lx,Rx=Py({},Ym.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),Bx=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bar",e}return py(e,t),e.getDefaultOptions=function(){return Rx},e.prototype.changeData=function(t){var e,n;this.updateOption({data:t});var r=this.chart,i=this.options,a=i.isPercent,o=i.xField,s=i.yField,l=i.xAxis,c=i.yAxis;o=(e=[s,o])[0],s=e[1],l=(n=[c,l])[0],c=n[1],Sx({chart:r,options:dy(dy({},i),{xField:o,yField:s,yAxis:c,xAxis:l})}),r.changeData(Xm(t,o,s,o,a))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Dx},e}(Ym),_x=Py({},Ym.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),Nx=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="column",e}return py(e,t),e.getDefaultOptions=function(){return _x},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.yField,r=e.xField,i=e.isPercent;Sx({chart:this.chart,options:this.options}),this.chart.changeData(Xm(t,n,r,n,i))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Mx},e}(Ym),Ux="$$percentage$$",zx="$$mappingValue$$",Hx="$$conversion$$",Vx="$$totalPercentage$$",Gx="$$x$$",Wx="$$y$$",Yx={appendPadding:[0,80],minSize:0,maxSize:1,meta:(Lx={},Lx[zx]={min:0,max:1,nice:!1},Lx),label:{style:{fill:"#fff",fontSize:12}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1},conversionTag:{offsetX:10,offsetY:0,style:{fontSize:12,fill:"rgba(0,0,0,0.45)"}}},jx="CONVERSION_TAG_NAME";function Xx(t,e,n){var r,i=n.yField,a=n.maxSize,o=n.minSize,s=(0,O.U2)((0,O.UT)(e,i),[i]),l=(0,O.hj)(a)?a:1,c=(0,O.hj)(o)?o:0;return r=(0,O.UI)(t,(function(e,n){var r=(e[i]||0)/s;return e[Ux]=r,e[zx]=(l-c)*r+c,e[Hx]=[(0,O.U2)(t,[n-1,i]),e[i]],e})),r}function $x(t){return function(e){var n=e.chart,r=e.options,i=r.conversionTag,a=r.filteredData||n.getOptions().data;if(i){var o=i.formatter;a.forEach((function(e,r){if(!(r<=0||Number.isNaN(e[zx]))){var s=t(e,r,a,{top:!0,name:jx,text:{content:(0,O.mf)(o)?o(e,a):o,offsetX:i.offsetX,offsetY:i.offsetY,position:"end",autoRotate:!1,style:dy({textAlign:"start",textBaseline:"middle"},i.style)}});n.annotation().line(s)}}))}return e}}function qx(t){var e=t.chart,n=t.options,r=n.data,i=void 0===r?[]:r,a=Xx(i,i,{yField:n.yField,maxSize:n.maxSize,minSize:n.minSize});return e.data(a),t}function Zx(t){var e=t.chart,n=t.options,r=n.xField,i=n.yField,a=n.color,o=n.tooltip,s=n.label,l=n.shape,c=void 0===l?"funnel":l,u=n.funnelStyle,h=n.state,f=Im(o,[r,i]),p=f.fields,d=f.formatter;return Lm({chart:e,options:{type:"interval",xField:r,yField:zx,colorField:r,tooltipFields:(0,O.kJ)(p)&&p.concat([Ux,Hx]),mapping:{shape:c,tooltip:d,color:a,style:u},label:s,state:h}}),Ry(t.chart,"interval").adjust("symmetric"),t}function Kx(t){var e=t.chart,n=t.options.isTransposed;return e.coordinate({type:"rect",actions:n?[]:[["transpose"],["scale",1,-1]]}),t}function Jx(t){var e=t.options,n=t.chart,r=e.maxSize,i=(0,O.U2)(n,["geometries","0","dataArray"],[]),a=(0,O.U2)(n,["options","data","length"]),o=(0,O.UI)(i,(function(t){return(0,O.U2)(t,["0","nextPoints","0","x"])*a-.5}));return $x((function(t,e,n,i){var a=r-(r-t[zx])/2;return dy(dy({},i),{start:[o[e-1]||e-.5,a],end:[o[e-1]||e-.5,a+.05]})}))(t),t}function Qx(t){return Ly(qx,Zx,Kx,Jx)(t)}function tb(t){var e,n=t.chart,r=t.options,i=r.data,a=void 0===i?[]:i,o=r.yField;return n.data(a),n.scale(((e={})[o]={sync:!0},e)),t}function eb(t){var e=t.chart,n=t.options,r=n.data,i=n.xField,a=n.yField,o=n.color,s=n.compareField,l=n.isTransposed,c=n.tooltip,u=n.maxSize,h=n.minSize,f=n.label,p=n.funnelStyle,d=n.state,g=n.showFacetTitle;return e.facet("mirror",{fields:[s],transpose:!l,padding:l?0:[32,0,0,0],showTitle:g,eachView:function(t,e){var n=l?e.rowIndex:e.columnIndex;l||t.coordinate({type:"rect",actions:[["transpose"],["scale",0===n?-1:1,-1]]});var g=Xx(e.data,r,{yField:a,maxSize:u,minSize:h});t.data(g);var v=Im(c,[i,a,s]),y=v.fields,m=v.formatter,x=l?{offset:0===n?10:-23,position:0===n?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:0===n?"end":"start"}};Lm({chart:t,options:{type:"interval",xField:i,yField:zx,colorField:i,tooltipFields:(0,O.kJ)(y)&&y.concat([Ux,Hx]),mapping:{shape:"funnel",tooltip:m,color:o,style:p},label:!1!==f&&Py({},x,f),state:d}})}}),t}function nb(t){var e=t.chart,n=t.index,r=t.options,i=r.conversionTag,a=r.isTransposed;((0,O.hj)(n)?[e]:e.views).forEach((function(t,e){var o=(0,O.U2)(t,["geometries","0","dataArray"],[]),s=(0,O.U2)(t,["options","data","length"]),l=(0,O.UI)(o,(function(t){return(0,O.U2)(t,["0","nextPoints","0","x"])*s-.5}));$x((function(t,r,o,s){var c=0===(n||e)?-1:1;return Py({},s,{start:[l[r-1]||r-.5,t[zx]],end:[l[r-1]||r-.5,t[zx]+.05],text:a?{style:{textAlign:"start"}}:{offsetX:!1!==i?c*i.offsetX:0,style:{textAlign:0===(n||e)?"end":"start"}}})}))(Py({},{chart:t,options:r}))}))}function rb(t){return t.chart.once("beforepaint",(function(){return nb(t)})),t}function ib(t){var e=t.chart,n=t.options,r=n.data,i=void 0===r?[]:r,a=n.yField,o=(0,O.u4)(i,(function(t,e){return t+(e[a]||0)}),0),s=(0,O.UT)(i,a)[a],l=(0,O.UI)(i,(function(t,e){var n=[],r=[];if(t[Vx]=(t[a]||0)/o,e){var l=i[e-1][Gx],c=i[e-1][Wx];n[0]=l[3],r[0]=c[3],n[1]=l[2],r[1]=c[2]}else n[0]=-.5,r[0]=1,n[1]=.5,r[1]=1;return r[2]=r[1]-t[Vx],n[2]=(r[2]+1)/4,r[3]=r[2],n[3]=-n[2],t[Gx]=n,t[Wx]=r,t[Ux]=(t[a]||0)/s,t[Hx]=[(0,O.U2)(i,[e-1,a]),t[a]],t}));return e.data(l),t}function ab(t){var e=t.chart,n=t.options,r=n.xField,i=n.yField,a=n.color,o=n.tooltip,s=n.label,l=n.funnelStyle,c=n.state,u=Im(o,[r,i]),h=u.fields,f=u.formatter;return Lm({chart:e,options:{type:"polygon",xField:Gx,yField:Wx,colorField:r,tooltipFields:(0,O.kJ)(h)&&h.concat([Ux,Hx]),label:s,state:c,mapping:{tooltip:f,color:a,style:l}}}),t}function ob(t){var e=t.chart,n=t.options.isTransposed;return e.coordinate({type:"rect",actions:n?[["transpose"],["reflect","x"]]:[]}),t}function sb(t){return $x((function(t,e,n,r){return dy(dy({},r),{start:[t[Gx][1],t[Wx][1]],end:[t[Gx][1]+.05,t[Wx][1]]})}))(t),t}function lb(t){var e,n=t.chart,r=t.options,i=r.data,a=void 0===i?[]:i,o=r.yField;return n.data(a),n.scale(((e={})[o]={sync:!0},e)),t}function cb(t){var e=t.chart,n=t.options,r=n.seriesField,i=n.isTransposed,a=n.showFacetTitle;return e.facet("rect",{fields:[r],padding:[i?0:32,10,0,10],showTitle:a,eachView:function(e,n){Qx(Py({},t,{chart:e,options:{data:n.data}}))}}),t}var ub=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rendering=!1,e}return py(e,t),e.prototype.change=function(t){var e=this;if(!this.rendering){var n=t.seriesField,r=t.compareField,i=r?nb:Jx,a=this.context.view,o=n||r?a.views:[a];(0,O.UI)(o,(function(n,r){var a=n.getController("annotation"),o=(0,O.hX)((0,O.U2)(a,["option"],[]),(function(t){return t.name!==jx}));a.clear(!0),(0,O.S6)(o,(function(t){"object"===typeof t&&n.annotation()[t.type](t)}));var s=(0,O.U2)(n,["filteredData"],n.getOptions().data);i({chart:n,index:r,options:dy(dy({},t),{filteredData:Xx(s,s,t)})}),n.filterData(s),e.rendering=!0,n.render(!0)}))}this.rendering=!1},e}(Ao),hb="funnel-conversion-tag",fb="funnel-afterrender",pb={trigger:"afterrender",action:"".concat(hb,":change")};function db(t){var e,n=t.options,r=n.compareField,i=n.xField,a=n.yField,o=n.locale,s=n.funnelStyle,l=n.data,c=Fm(o);return(r||s)&&(e=function(t){return Py({},r&&{lineWidth:1,stroke:"#fff"},(0,O.mf)(s)?s(t):s)}),Py({options:{label:r?{fields:[i,a,r,Ux,Hx],formatter:function(t){return"".concat(t[a])}}:{fields:[i,a,Ux,Hx],offset:0,position:"middle",formatter:function(t){return"".concat(t[i]," ").concat(t[a])}},tooltip:{title:i,formatter:function(t){return{name:t[i],value:t[a]}}},conversionTag:{formatter:function(t){return"".concat(c.get(["conversionTag","label"]),": ").concat(vx.apply(void 0,t[Hx]))}}}},t,{options:{funnelStyle:e,data:(0,O.d9)(l)}})}function gb(t){var e=t.options,n=e.compareField,r=e.dynamicHeight;return e.seriesField?function(t){return Ly(lb,cb)(t)}(t):n?function(t){return Ly(tb,eb,rb)(t)}(t):r?function(t){return Ly(ib,ab,ob,sb)(t)}(t):Qx(t)}function vb(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,a=n.xField,o=n.yField;return Ly(Cm(((e={})[a]=r,e[o]=i,e)))(t)}function yb(t){return t.chart.axis(!1),t}function mb(t){var e=t.chart,n=t.options.legend;return!1===n?e.legend(!1):e.legend(n),t}function xb(t){var e=t.chart,n=t.options,r=n.interactions,i=n.dynamicHeight;return(0,O.S6)(r,(function(t){!1===t.enable?e.removeInteraction(t.type):e.interaction(t.type,t.cfg||{})})),i?e.removeInteraction(fb):e.interaction(fb,{start:[dy(dy({},pb),{arg:n})]}),t}function bb(t){return Ly(db,gb,vb,yb,vm,xb,mb,mm,xm,Tm())(t)}Do(hb,ub),Os(fb,{start:[pb]});var wb,Sb=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="funnel",e}return py(e,t),e.getDefaultOptions=function(){return Yx},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return bb},e.prototype.setState=function(t,e,n){void 0===n&&(n=!0);var r=_y(this.chart);(0,O.S6)(r,(function(r){e(r.getData())&&r.setState(t,n)}))},e.prototype.getStates=function(){var t=_y(this.chart),e=[];return(0,O.S6)(t,(function(t){var n=t.getData(),r=t.getStates();(0,O.S6)(r,(function(r){e.push({data:n,state:r,geometry:t.geometry,element:t})}))})),e},e.CONVERSATION_FIELD=Hx,e.PERCENT_FIELD=Ux,e.TOTAL_PERCENT_FIELD=Vx,e}(Ym),Cb="range",Tb="type",Eb="percent",kb="#f0f0f0",Mb="indicator-view",Ab="range-view",Ob={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(wb={},wb[Cb]={sync:"v"},wb[Eb]={sync:"v",tickCount:5,tickInterval:.2},wb),animation:!1};function Fb(t){var e;return[(e={},e[Eb]=(0,O.uZ)(t,0,1),e)]}function Ib(t,e){var n=(0,O.U2)(e,["ticks"],[]),r=(0,O.dp)(n)?(0,O.jj)(n):[0,(0,O.uZ)(t,0,1),1];return r[0]||r.shift(),function(t,e){return t.map((function(n,r){var i;return(i={})[Cb]=n-(t[r-1]||0),i[Tb]="".concat(r),i[Eb]=e,i}))}(r,t)}function Pb(t){var e=t.chart,n=t.options,r=n.percent,i=n.range,a=n.radius,o=n.innerRadius,s=n.startAngle,l=n.endAngle,c=n.axis,u=n.indicator,h=n.gaugeStyle,f=n.type,p=n.meter,d=i.color,g=i.width;if(u){var v=Fb(r),y=e.createView({id:Mb});y.data(v),y.point().position("".concat(Eb,"*1")).shape(u.shape||"gauge-indicator").customInfo({defaultColor:e.getTheme().defaultColor,indicator:u}),y.coordinate("polar",{startAngle:s,endAngle:l,radius:o*a}),y.axis(Eb,c),y.scale(Eb,Sy(c,my))}var m=Ib(r,n.range),x=e.createView({id:Ab});x.data(m);var b=(0,O.HD)(d)?[d,kb]:d;return _m({chart:x,options:{xField:"1",yField:Cb,seriesField:Tb,rawFields:[Eb],isStack:!0,interval:{color:b,style:h,shape:"meter"===f?"meter-gauge":null},args:{zIndexReversed:!0,sortZIndex:!0},minColumnWidth:g,maxColumnWidth:g}}).ext.geometry.customInfo({meter:p}),x.coordinate("polar",{innerRadius:o,radius:a,startAngle:s,endAngle:l}).transpose(),t}function Db(t){var e;return Ly(Cm(((e={range:{min:0,max:1,maxLimit:1,minLimit:0}})[Eb]={},e)))(t)}function Lb(t,e){var n=t.chart,r=t.options,i=r.statistic,a=r.percent;if(n.getController("annotation").clear(!0),i){var o=i.content,s=void 0;o&&(s=Py({},{content:"".concat((100*a).toFixed(2),"%"),style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},o)),qy(n,{statistic:dy(dy({},i),{content:s})},{percent:a})}return e&&n.render(!0),t}function Rb(t){var e=t.chart,n=t.options.tooltip;return n?e.tooltip(Py({showTitle:!1,showMarkers:!1,containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',domStyles:{"g2-tooltip":{padding:"4px 8px",fontSize:"10px"}},customContent:function(t,e){var n=(0,O.U2)(e,[0,"data",Eb],0);return"".concat((100*n).toFixed(2),"%")}},n)):e.tooltip(!1),t}function Bb(t){return t.chart.legend(!1),t}function _b(t){return Ly(xm,mm,Pb,Db,Rb,Lb,ym,Tm(),Bb)(t)}zl("point","gauge-indicator",{draw:function(t,e){var n=t.customInfo,r=n.indicator,i=n.defaultColor,a=r,o=a.pointer,s=a.pin,l=e.addGroup(),c=this.parsePoint({x:0,y:0});return o&&l.addShape("line",{name:"pointer",attrs:dy({x1:c.x,y1:c.y,x2:t.x,y2:t.y,stroke:i},o.style)}),s&&l.addShape("circle",{name:"pin",attrs:dy({x:c.x,y:c.y,stroke:i},s.style)}),l}}),zl("interval","meter-gauge",{draw:function(t,e){var n=t.customInfo.meter,r=void 0===n?{}:n,i=r.steps,a=void 0===i?50:i,o=r.stepRatio,s=void 0===o?.5:o;a=a<1?1:a,s=(0,O.uZ)(s,0,1);var l=this.coordinate,c=l.startAngle,u=l.endAngle,h=0;s>0&&s<1&&(h=(u-c)/a/(s/(1-s)+1-1/a));for(var f=h/(1-s)*s,p=e.addGroup(),d=this.coordinate.getCenter(),g=this.coordinate.getRadius(),v=Tc.getAngle(t,this.coordinate),y=v.startAngle,m=v.endAngle,x=y;x<m;){var b=void 0,w=(x-c)%(f+h);b=w<f?x+(f-w):(x+=f+h-w)+f;var S=Tc.getSectorPath(d.x,d.y,g,x,Math.min(b,m),g*this.coordinate.innerRadius);p.addShape("path",{name:"meter-gauge",attrs:{path:S,fill:t.color,stroke:t.color,lineWidth:.5}}),x=b+h}return p}});var Nb=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="gauge",e}return py(e,t),e.getDefaultOptions=function(){return Ob},e.prototype.changeData=function(t){this.chart.emit(F.BEFORE_CHANGE_DATA,ll.fromData(this.chart,F.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t});var e=this.chart.views.find((function(t){return t.id===Mb}));e&&e.data(Fb(t));var n=this.chart.views.find((function(t){return t.id===Ab}));n&&n.data(Ib(t,this.options.range)),Lb({chart:this.chart,options:this.options},!0),this.chart.emit(F.AFTER_CHANGE_DATA,ll.fromData(this.chart,F.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return _b},e}(Ym);function Ub(t,e,n){if(1===n)return[0,e];var r=Math.floor(t/e);return[e*r,e*(r+1)]}function zb(t,e,n,r,i){var a=(0,O.d9)(t);(0,O.MR)(a,e);var o=(0,O.I)(a,e),s=(0,O.rx)(o),l=s.max-s.min,c=n;if(!n&&r&&(c=r>1?l/(r-1):s.max),!n&&!r){var u=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}(o);c=l/u}var h={},f=(0,O.vM)(a,i);(0,O.xb)(f)?(0,O.S6)(a,(function(t){var n=Ub(t[e],c,r),i="".concat(n[0],"-").concat(n[1]);(0,O.wH)(h,i)||(h[i]={range:n,count:0}),h[i].count+=1})):Object.keys(f).forEach((function(t){(0,O.S6)(f[t],(function(n){var a=Ub(n[e],c,r),o="".concat(a[0],"-").concat(a[1]),s="".concat(o,"-").concat(t);(0,O.wH)(h,s)||(h[s]={range:a,count:0},h[s][i]=t),h[s].count+=1}))}));var p=[];return(0,O.S6)(h,(function(t){p.push(t)})),p}var Hb="range",Vb="count",Gb=Py({},Ym.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});function Wb(t){var e=t.chart,n=t.options,r=n.data,i=n.binField,a=n.binNumber,o=n.binWidth,s=n.color,l=n.stackField,c=n.legend,u=n.columnStyle,h=zb(r,i,o,a,l);return e.data(h),_m(Py({},t,{options:{xField:Hb,yField:Vb,seriesField:l,isStack:!0,interval:{color:s,style:u}}})),c&&l?e.legend(l,c):e.legend(!1),t}function Yb(t){var e,n=t.options,r=n.xAxis,i=n.yAxis;return Ly(Cm(((e={})[Hb]=r,e[Vb]=i,e)))(t)}function jb(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis;return!1===r?e.axis(Hb,!1):e.axis(Hb,r),!1===i?e.axis(Vb,!1):e.axis(Vb,i),t}function Xb(t){var e=t.chart,n=t.options.label,r=Ry(e,"interval");if(n){var i=n.callback,a=gy(n,["callback"]);r.label({fields:[Vb],callback:i,cfg:Ny(a)})}else r.label(!1);return t}function $b(t){return Ly(xm,dm("columnStyle"),Wb,Yb,jb,bm,Xb,vm,ym,mm)(t)}var qb=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="histogram",e}return py(e,t),e.getDefaultOptions=function(){return Gb},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.binField,r=e.binNumber,i=e.binWidth,a=e.stackField;this.chart.changeData(zb(t,n,i,r,a))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return $b},e}(Ym),Zb=Py({},Ym.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left",radio:{}},isStack:!1}),Kb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return py(e,t),e.prototype.active=function(){var t=this.getView(),e=this.context.event;if(e.data){var n=e.data.items,r=t.geometries.filter((function(t){return"point"===t.type}));(0,O.S6)(r,(function(t){(0,O.S6)(t.elements,(function(t){var e=-1!==(0,O.cx)(n,(function(e){return e.data===t.data}));t.setState("active",e)}))}))}},e.prototype.reset=function(){var t=this.getView().geometries.filter((function(t){return"point"===t.type}));(0,O.S6)(t,(function(t){(0,O.S6)(t.elements,(function(t){t.setState("active",!1)}))}))},e.prototype.getView=function(){return this.context.view},e}(Ao);Do("marker-active",Kb),Os("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}],end:[{trigger:"tooltip:hide",action:"marker-active:reset"}]});var Jb=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="line",e}return py(e,t),e.getDefaultOptions=function(){return Zb},e.prototype.changeData=function(t){this.updateOption({data:t});qm({chart:this.chart,options:this.options}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return ex},e}(Ym),Qb=Py({},Ym.getDefaultOptions(),{legend:{position:"right",radio:{}},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}}),tw=[1,0,0,0,1,0,0,0,1];function ew(t,e){var n=vy([],e||tw,!0);return Tc.transform(n,t)}var nw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return py(e,t),e.prototype.getActiveElements=function(){var t=Tc.getDelegationObject(this.context);if(t){var e=this.context.view,n=t.component,r=t.item,i=n.get("field");if(i)return e.geometries[0].elements.filter((function(t){return t.getModel().data[i]===r.value}))}return[]},e.prototype.getActiveElementLabels=function(){var t=this.context.view,e=this.getActiveElements();return t.geometries[0].labelsContainer.getChildren().filter((function(t){return e.find((function(e){return(0,O.Xy)(e.getData(),t.get("data"))}))}))},e.prototype.transfrom=function(t){void 0===t&&(t=7.5);var e=this.getActiveElements(),n=this.getActiveElementLabels();e.forEach((function(e,r){var i=n[r],a=e.geometry.coordinate;if(a.isPolar&&a.isTransposed){var o=Tc.getAngle(e.getModel(),a),s=(o.startAngle+o.endAngle)/2,l=t,c=l*Math.cos(s),u=l*Math.sin(s);e.shape.setMatrix(ew([["t",c,u]])),i.setMatrix(ew([["t",c,u]]))}}))},e.prototype.active=function(){this.transfrom()},e.prototype.reset=function(){this.transfrom(0)},e}(Ao);var rw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return py(e,t),e.prototype.getAnnotations=function(t){return(t||this.context.view).getController("annotation").option},e.prototype.getInitialAnnotation=function(){return this.initialAnnotation},e.prototype.init=function(){var t=this,e=this.context.view;e.removeInteraction("tooltip"),e.on("afterchangesize",(function(){var n=t.getAnnotations(e);t.initialAnnotation=n}))},e.prototype.change=function(t){var e=this.context,n=e.view,r=e.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var i=(0,O.U2)(r,["data","data"]);if(r.type.match("legend-item")){var a=Tc.getDelegationObject(this.context),o=n.getGroupedFields()[0];if(a&&o){var s=a.item;i=n.getData().find((function(t){return t[o]===s.value}))}}if(i){var l=(0,O.U2)(t,"annotations",[]),c=(0,O.U2)(t,"statistic",{});n.getController("annotation").clear(!0),(0,O.S6)(l,(function(t){"object"===typeof t&&n.annotation()[t.type](t)})),$y(n,{statistic:c,plotType:"pie"},i),n.render(!0)}var u=function(t){var e,n=t.event.target;return n&&(e=n.get("element")),e}(this.context);u&&u.shape.toFront()},e.prototype.reset=function(){var t=this.context.view;t.getController("annotation").clear(!0);var e=this.getInitialAnnotation();(0,O.S6)(e,(function(e){t.annotation()[e.type](e)})),t.render(!0)},e}(Ao),iw="pie-statistic";function aw(t,e){var n;switch(t){case"inner":return n="-30%",(0,O.HD)(e)&&e.endsWith("%")?.01*parseFloat(e)>0?n:e:e<0?e:n;case"outer":return n=12,(0,O.HD)(e)&&e.endsWith("%")?.01*parseFloat(e)<0?n:e:e>0?e:n;default:return e}}function ow(t,e){return(0,O.yW)(Ey(t,e),(function(t){return 0===t[e]}))}function sw(t){var e=t.chart,n=t.options,r=n.data,i=n.angleField,a=n.colorField,o=n.color,s=n.pieStyle,l=n.shape,c=Ey(r,i);if(ow(c,i)){var u="$$percentage$$";c=c.map((function(t){var e;return dy(dy({},t),((e={})[u]=1/c.length,e))})),e.data(c),_m(Py({},t,{options:{xField:"1",yField:u,seriesField:a,isStack:!0,interval:{color:o,shape:l,style:s},args:{zIndexReversed:!0,sortZIndex:!0}}}))}else{e.data(c),_m(Py({},t,{options:{xField:"1",yField:i,seriesField:a,isStack:!0,interval:{color:o,shape:l,style:s},args:{zIndexReversed:!0,sortZIndex:!0}}}))}return t}function lw(t){var e,n=t.chart,r=t.options,i=r.meta,a=r.colorField,o=Py({},i);return n.scale(o,((e={})[a]={type:"cat"},e)),t}function cw(t){var e=t.chart,n=t.options,r=n.radius,i=n.innerRadius,a=n.startAngle,o=n.endAngle;return e.coordinate({type:"theta",cfg:{radius:r,innerRadius:i,startAngle:a,endAngle:o}}),t}function uw(t){var e=t.chart,n=t.options,r=n.label,i=n.colorField,a=n.angleField,o=e.geometries[0];if(r){var s=r.callback,l=Ny(gy(r,["callback"]));if(l.content){var c=l.content;l.content=function(t,n,r){var o=t[i],s=t[a],l=e.getScaleByField(a),u=null===l||void 0===l?void 0:l.scale(s);return(0,O.mf)(c)?c(dy(dy({},t),{percent:u}),n,r):(0,O.HD)(c)?Zy(c,{value:s,name:o,percentage:(0,O.hj)(u)&&!(0,O.UM)(s)?"".concat((100*u).toFixed(2),"%"):null}):c}}var u=l.type?{inner:"",outer:"pie-outer",spider:"pie-spider"}[l.type]:"pie-outer",h=l.layout?(0,O.kJ)(l.layout)?l.layout:[l.layout]:[];l.layout=(u?[{type:u}]:[]).concat(h),o.label({fields:i?[a,i]:[a],callback:s,cfg:dy(dy({},l),{offset:aw(l.type,l.offset),type:"pie"})})}else o.label(!1);return t}function hw(t){var e=t.innerRadius,n=t.statistic,r=t.angleField,i=t.colorField,a=t.meta,o=Fm(t.locale);if(e&&n){var s=Py({},Qb.statistic,n),l=s.title,c=s.content;return!1!==l&&(l=Py({},{formatter:function(t){var e=t?t[i]:(0,O.UM)(l.content)?o.get(["statistic","total"]):l.content;return((0,O.U2)(a,[i,"formatter"])||function(t){return t})(e)}},l)),!1!==c&&(c=Py({},{formatter:function(t,e){var n=t?t[r]:function(t,e){var n=null;return(0,O.S6)(t,(function(t){"number"===typeof t[e]&&(n+=t[e])})),n}(e,r),i=(0,O.U2)(a,[r,"formatter"])||function(t){return t};return t||(0,O.UM)(c.content)?i(n):c.content}},c)),Py({},{statistic:{title:l,content:c}},t)}return t}function fw(t){var e=t.chart,n=hw(t.options),r=n.innerRadius,i=n.statistic;return e.getController("annotation").clear(!0),Ly(Tm())(t),r&&i&&$y(e,{statistic:i,plotType:"pie"}),t}function pw(t){var e=t.chart,n=t.options,r=n.tooltip,i=n.colorField,a=n.angleField,o=n.data;if(!1===r)e.tooltip(r);else if(e.tooltip(Py({},r,{shared:!1})),ow(o,a)){var s=(0,O.U2)(r,"fields"),l=(0,O.U2)(r,"formatter");(0,O.xb)((0,O.U2)(r,"fields"))&&(s=[i,a],l=l||function(t){return{name:t[i],value:(0,O.BB)(t[a])}}),e.geometries[0].tooltip(s.join("*"),Dm(s,l))}return t}function dw(t){var e=t.chart,n=hw(t.options),r=n.interactions,i=n.statistic,a=n.annotations;return(0,O.S6)(r,(function(t){var n,r;if(!1===t.enable)e.removeInteraction(t.type);else if("pie-statistic-active"===t.type){var o=[];(null===(n=t.cfg)||void 0===n?void 0:n.start)||(o=[{trigger:"element:mouseenter",action:"".concat(iw,":change"),arg:{statistic:i,annotations:a}}]),(0,O.S6)(null===(r=t.cfg)||void 0===r?void 0:r.start,(function(t){o.push(dy(dy({},t),{arg:{statistic:i,annotations:a}}))})),e.interaction(t.type,Py({},t.cfg,{start:o}))}else e.interaction(t.type,t.cfg||{})})),t}function gw(t){return Ly(dm("pieStyle"),sw,lw,xm,cw,gm,pw,uw,bm,fw,dw,mm)(t)}Do(iw,rw),Os("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]}),Do("pie-legend",nw),Os("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]});var vw=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pie",e}return py(e,t),e.getDefaultOptions=function(){return Qb},e.prototype.changeData=function(t){this.chart.emit(F.BEFORE_CHANGE_DATA,ll.fromData(this.chart,F.BEFORE_CHANGE_DATA,null));var e=this.options,n=this.options.angleField,r=Ey(e.data,n),i=Ey(t,n);ow(r,n)||ow(i,n)?this.update({data:t}):(this.updateOption({data:t}),this.chart.data(i),fw({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(F.AFTER_CHANGE_DATA,ll.fromData(this.chart,F.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return gw},e}(Ym),yw=["#FAAD14","#E8EDF3"],mw={percent:.2,color:yw,animation:{}};function xw(t){var e=(0,O.uZ)(Uy(t)?t:0,0,1);return[{current:"".concat(e),type:"current",percent:e},{current:"".concat(e),type:"target",percent:1}]}function bw(t){var e=t.chart,n=t.options,r=n.percent,i=n.progressStyle,a=n.color,o=n.barWidthRatio;return e.data(xw(r)),_m(Py({},t,{options:{xField:"current",yField:"percent",seriesField:"type",widthRatio:o,interval:{style:i,color:(0,O.HD)(a)?[a,yw[1]]:a},args:{zIndexReversed:!0,sortZIndex:!0}}})),e.tooltip(!1),e.axis(!1),e.legend(!1),t}function ww(t){return t.chart.coordinate("rect").transpose(),t}function Sw(t){return Ly(bw,Cm({}),ww,mm,xm,Tm())(t)}var Cw=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="process",e}return py(e,t),e.getDefaultOptions=function(){return mw},e.prototype.changeData=function(t){this.updateOption({percent:t}),this.chart.changeData(xw(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Sw},e}(Ym);function Tw(t){var e=t.chart,n=t.options,r=n.innerRadius,i=n.radius;return e.coordinate("theta",{innerRadius:r,radius:i}),t}function Ew(t,e){var n=t.chart,r=t.options,i=r.innerRadius,a=r.statistic,o=r.percent,s=r.meta;if(n.getController("annotation").clear(!0),i&&a){var l=(0,O.U2)(s,["percent","formatter"])||function(t){return"".concat((100*t).toFixed(2),"%")},c=a.content;c&&(c=Py({},c,{content:(0,O.UM)(c.content)?l(o):c.content})),$y(n,{statistic:dy(dy({},a),{content:c}),plotType:"ring-progress"},{percent:o})}return e&&n.render(!0),t}function kw(t){return Ly(bw,Cm({}),Tw,Ew,mm,xm,Tm())(t)}var Mw={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"}}},animation:{}},Aw=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ring-process",e}return py(e,t),e.getDefaultOptions=function(){return Mw},e.prototype.changeData=function(t){this.chart.emit(F.BEFORE_CHANGE_DATA,ll.fromData(this.chart,F.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(xw(t)),Ew({chart:this.chart,options:this.options},!0),this.chart.emit(F.AFTER_CHANGE_DATA,ll.fromData(this.chart,F.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return kw},e}(Ym),Ow=n(7046),Fw={exp:Ow.regressionExp,linear:Ow.regressionLinear,loess:Ow.regressionLoess,log:Ow.regressionLog,poly:Ow.regressionPoly,pow:Ow.regressionPow,quad:Ow.regressionQuad};var Iw=function(t,e){var n=e.view,r=e.options,i=r.xField,a=r.yField,o=n.getScaleByField(i),s=n.getScaleByField(a);return Wy(t.map((function(t){return n.getCoordinate().convert({x:o.scale(t[0]),y:s.scale(t[1])})})),!1)},Pw=function(t){var e,n=t.options,r=n.xField,i=n.yField,a=n.data,o=n.regressionLine,s=o.type,l=void 0===s?"linear":s,c=o.algorithm,u=o.equation,h=null;c?(e=(0,O.kJ)(c)?c:c(a),h=u):h=function(t,e){var n,r,i,a=function(t,e){return void 0===e&&(e=4),Math.round(t*Math.pow(10,e))/Math.pow(10,e)},o=function(t){return Number.isFinite(t)?a(t):"?"};switch(t){case"linear":return"y = ".concat(o(e.a),"x + ").concat(o(e.b),", R^2 = ").concat(o(e.rSquared));case"exp":return"y = ".concat(o(e.a),"e^(").concat(o(e.b),"x), R^2 = ").concat(o(e.rSquared));case"log":return"y = ".concat(o(e.a),"ln(x) + ").concat(o(e.b),", R^2 = ").concat(o(e.rSquared));case"quad":return"y = ".concat(o(e.a),"x^2 + ").concat(o(e.b),"x + ").concat(o(e.c),", R^2 = ").concat(o(e.rSquared));case"poly":for(var s="y = ".concat(o(null===(n=e.coefficients)||void 0===n?void 0:n[0])," + ").concat(o(null===(r=e.coefficients)||void 0===r?void 0:r[1]),"x + ").concat(o(null===(i=e.coefficients)||void 0===i?void 0:i[2]),"x^2"),l=3;l<e.coefficients.length;++l)s+=" + ".concat(o(e.coefficients[l]),"x^").concat(l);return"".concat(s,", R^2 = ").concat(o(e.rSquared));case"pow":return"y = ".concat(o(e.a),"x^").concat(o(e.b),", R^2 = ").concat(o(e.rSquared))}return null}(l,e=Fw[l]().x((function(t){return t[r]})).y((function(t){return t[i]}))(a));return[Iw(e,t),h]},Dw=function(t){var e,n=t.meta,r=void 0===n?{}:n,i=t.xField,a=t.yField,o=t.data,s=o[0][i],l=o[0][a],c=s>0,u=l>0;function h(t,e){var n=(0,O.U2)(r,[t]);function i(t){return(0,O.U2)(n,t)}var a={};return"x"===e?((0,O.hj)(s)&&((0,O.hj)(i("min"))||(a.min=c?0:2*s),(0,O.hj)(i("max"))||(a.max=c?2*s:0)),a):((0,O.hj)(l)&&((0,O.hj)(i("min"))||(a.min=u?0:2*l),(0,O.hj)(i("max"))||(a.max=u?2*l:0)),a)}return dy(dy({},r),((e={})[i]=dy(dy({},r[i]),h(i,"x")),e[a]=dy(dy({},r[a]),h(a,"y")),e))};function Lw(t){var e=t.data,n=void 0===e?[]:e,r=t.xField,i=t.yField;if(n.length){for(var a=!0,o=!0,s=n[0],l=void 0,c=1;c<n.length&&(l=n[c],s[r]!==l[r]&&(a=!1),s[i]!==l[i]&&(o=!1),a||o);c++)s=l;var u=[];a&&u.push(r),o&&u.push(i);var h=Sy(Dw(t),u);return Py({},t,{meta:h})}return t}function Rw(t){var e=t.chart,n=t.options,r=n.data,i=n.type,a=n.color,o=n.shape,s=n.pointStyle,l=n.shapeField,c=n.colorField,u=n.xField,h=n.yField,f=n.sizeField,p=n.size,d=n.tooltip;f&&(p||(p=[2,8]),(0,O.hj)(p)&&(p=[p,p])),d&&!d.fields&&(d=dy(dy({},d),{fields:[u,h,c,f,l]})),e.data(r),Um(Py({},t,{options:{seriesField:c,point:{color:a,shape:o,size:p,style:s},tooltip:d}}));var g=Ry(e,"point");return i&&g.adjust(i),t}function Bw(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,a=n.xField,o=n.yField,s=Lw(n);return Ly(Cm(((e={})[a]=r,e[o]=i,e)))(Py({},t,{options:s}))}function _w(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,a=n.xField,o=n.yField;return e.axis(a,r),e.axis(o,i),t}function Nw(t){var e=t.chart,n=t.options,r=n.legend,i=n.colorField,a=n.shapeField,o=n.sizeField,s=n.shapeLegend,l=n.sizeLegend,c=!1!==r;return i&&e.legend(i,!!c&&r),a&&(s?e.legend(a,s):e.legend(a,!1!==s&&r)),o&&e.legend(o,l||!1),c||s||l||e.legend(!1),t}function Uw(t){var e=t.chart,n=t.options,r=n.label,i=n.yField,a=Ry(e,"point");if(r){var o=r.callback,s=gy(r,["callback"]);a.label({fields:[i],callback:o,cfg:Ny(s)})}else a.label(!1);return t}function zw(t){var e=t.options.quadrant,n=[];if(e){var r=e.xBaseline,i=void 0===r?0:r,a=e.yBaseline,o=void 0===a?0:a,s=e.labels,l=e.regionStyle,c=e.lineStyle,u=function(t,e){var n=10;return{regionStyle:[{position:{start:[t,"max"],end:["max",e]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[t,e]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",e],end:[t,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[t,e],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",e],offsetX:-10,offsetY:-10,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",e],offsetX:n,offsetY:-10,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",e],offsetX:n,offsetY:n,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",e],offsetX:-10,offsetY:n,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]}}(i,o);new Array(4).join(",").split(",").forEach((function(t,e){n.push(dy(dy({type:"region",top:!1},u.regionStyle[e].position),{style:Py({},u.regionStyle[e].style,null===l||void 0===l?void 0:l[e])}),dy({type:"text",top:!0},Py({},u.labelStyle[e],null===s||void 0===s?void 0:s[e])))})),n.push({type:"line",top:!1,start:["min",o],end:["max",o],style:Py({},u.lineStyle,c)},{type:"line",top:!1,start:[i,"min"],end:[i,"max"],style:Py({},u.lineStyle,c)})}return Ly(Tm(n))(t)}function Hw(t){var e=t.options,n=t.chart,r=e.regressionLine;if(r){var i=r.style,a=r.equationStyle,o=void 0===a?{}:a,s=r.top,l=void 0!==s&&s,c=r.showEquation,u=void 0!==c&&c,h={stroke:"#9ba29a",lineWidth:2,opacity:.5},f={x:20,y:20,textAlign:"left",textBaseline:"middle",fontSize:14,fillOpacity:.5};n.annotation().shape({top:l,render:function(t,r){var a=t.addGroup({id:"".concat(n.id,"-regression-line"),name:"regression-line-group"}),s=Pw({view:r,options:e}),l=s[0],c=s[1];a.addShape("path",{name:"regression-line",attrs:dy(dy({path:l},h),i)}),u&&a.addShape("text",{name:"regression-equation",attrs:dy(dy(dy({},f),o),{text:c})})}})}return t}function Vw(t){var e=t.chart,n=t.options.tooltip;return n?e.tooltip(n):!1===n&&e.tooltip(!1),t}function Gw(t){return Ly(Rw,Bw,_w,Nw,Vw,Uw,px,wm,Sm,ym,zw,mm,xm,Hw)(t)}var Ww=Py({},Ym.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}});Os("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]});var Yw=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.type="scatter",r.on(F.BEFORE_RENDER,(function(t){var e,n,i=r,a=i.options,o=i.chart;if((null===(e=t.data)||void 0===e?void 0:e.source)===bv.FILTER){var s=r.chart.filterData(r.chart.getData());Bw({chart:o,options:dy(dy({},a),{data:s})})}(null===(n=t.data)||void 0===n?void 0:n.source)===bv.RESET&&Bw({chart:o,options:a})})),r}return py(e,t),e.getDefaultOptions=function(){return Ww},e.prototype.changeData=function(t){this.updateOption(Lw(Py({},this.options,{data:t})));var e=this.options;Bw({chart:this.chart,options:e}),this.chart.changeData(t)},e.prototype.getSchemaAdaptor=function(){return Gw},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(Ym),jw="$$stock-range$$",Xw="trend",$w="up",qw="down",Zw=Py({},Ym.getDefaultOptions(),{tooltip:{showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0,text:function(t,e,n){var r;if("x"===t){var i=n[0];r=i?i.title:e}else r=e;return{position:"y"===t?"start":"end",content:r,style:{fill:"#dfdfdf"}}},textBackground:{padding:[2,4],style:{fill:"#666"}}}},interactions:[{type:"tooltip"}],legend:{position:"top-left"},risingFill:"#ef5350",fallingFill:"#26a69a"});function Kw(t,e){return(0,O.UI)(t,(function(t){var n=t&&dy({},t);if((0,O.kJ)(e)&&n){var r=e[0],i=e[1],a=e[2],o=e[3];n[Xw]=n[r]<=n[i]?$w:qw,n[jw]=[n[r],n[i],n[a],n[o]]}return n}))}function Jw(t){var e=t.chart,n=t.options,r=n.yField,i=n.data,a=n.risingFill,o=n.fallingFill,s=n.tooltip,l=n.stockStyle;e.data(Kw(i,r));var c=s;return!1!==c&&(c=Py({},{fields:r},c)),Hm(Py({},t,{options:{schema:{shape:"candle",color:[a,o],style:l},yField:jw,seriesField:Xw,rawFields:r,tooltip:c}})),t}function Qw(t){var e,n,r=t.chart,i=t.options,a=i.meta,o=i.xAxis,s=i.yAxis,l=i.xField,c=((e={})[l]={type:"timeCat",tickCount:6},e[Xw]={values:[$w,qw]},e),u=Py(c,a,((n={})[l]=Sy(o,my),n[jw]=Sy(s,my),n));return r.scale(u),t}function tS(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,a=n.xField;return!1===r?e.axis(a,!1):e.axis(a,r),!1===i?e.axis(jw,!1):e.axis(jw,i),t}function eS(t){var e=t.chart,n=t.options.tooltip;return!1!==n?e.tooltip(n):e.tooltip(!1),t}function nS(t){var e=t.chart,n=t.options.legend;return n?e.legend(Xw,n):!1===n&&e.legend(!1),t}function rS(t){Ly(xm,Jw,Qw,tS,eS,nS,ym,mm,Tm(),wm)(t)}var iS=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="stock",e}return py(e,t),e.getDefaultOptions=function(){return Zw},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return rS},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options.yField;this.chart.changeData(Kw(t,e))},e}(Ym);function aS(t){return(0,O.UI)(t||[],(function(t,e){return{x:"".concat(e),y:t}}))}var oS="x",sS="y",lS={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(t,e){return"".concat((0,O.U2)(e,[0,"data","y"],0))},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},cS={appendPadding:2,tooltip:dy({},lS),animation:{}};function uS(t){var e=t.chart,n=t.options,r=n.data,i=n.color,a=n.areaStyle,o=n.point,s=n.line,l=null===o||void 0===o?void 0:o.state,c=aS(r);e.data(c);var u=Py({},t,{options:{xField:oS,yField:sS,area:{color:i,style:a},line:s,point:o}}),h=Py({},u,{options:{tooltip:!1}}),f=Py({},u,{options:{tooltip:!1,state:l}});return Rm(u),Nm(h),Um(f),e.axis(!1),e.legend(!1),t}function hS(t){var e,n,r=t.options,i=r.xAxis,a=r.yAxis,o=aS(r.data);return Ly(Cm(((e={})[oS]=i,e[sS]=a,e),((n={})[oS]={type:"cat"},n[sS]=Cy(o,sS),n)))(t)}function fS(t){return Ly(dm("areaStyle"),uS,hS,vm,xm,mm,Tm())(t)}var pS={appendPadding:2,tooltip:dy({},lS),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}},dS=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-area",e}return py(e,t),e.getDefaultOptions=function(){return pS},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart;hS({chart:e,options:this.options}),e.changeData(aS(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return fS},e}(Ym);function gS(t){var e=t.chart,n=t.options,r=n.data,i=n.color,a=n.columnStyle,o=n.columnWidthRatio,s=aS(r);return e.data(s),_m(Py({},t,{options:{xField:oS,yField:sS,widthRatio:o,interval:{style:a,color:i}}})),e.axis(!1),e.legend(!1),e.interaction("element-active"),t}function vS(t){return Ly(xm,dm("columnStyle"),gS,hS,vm,mm,Tm())(t)}var yS={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(t,e){return"".concat((0,O.U2)(e,[0,"data","y"],0))},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}},mS={appendPadding:2,tooltip:dy({},yS),animation:{}},xS=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-column",e}return py(e,t),e.getDefaultOptions=function(){return mS},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart;hS({chart:e,options:this.options}),e.changeData(aS(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return vS},e}(Ym);function bS(t){var e=t.chart,n=t.options,r=n.data,i=n.color,a=n.lineStyle,o=n.point,s=null===o||void 0===o?void 0:o.state,l=aS(r);e.data(l);var c=Py({},t,{options:{xField:oS,yField:sS,line:{color:i,style:a},point:o}}),u=Py({},c,{options:{tooltip:!1,state:s}});return Nm(c),Um(u),e.axis(!1),e.legend(!1),t}function wS(t){return Ly(bS,hS,xm,vm,mm,Tm())(t)}var SS=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-line",e}return py(e,t),e.getDefaultOptions=function(){return cS},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart;hS({chart:e,options:this.options}),e.changeData(aS(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return wS},e}(Ym),CS={line:ex,pie:gw,column:Mx,bar:Dx,area:ax,gauge:_b,"tiny-line":wS,"tiny-column":vS,"tiny-area":fS,"ring-progress":kw,progress:Sw,scatter:Gw,histogram:$b,funnel:bb,stock:rS},TS={line:Jb,pie:vw,column:Nx,bar:Bx,area:sx,gauge:Nb,"tiny-line":SS,"tiny-column":xS,"tiny-area":dS,"ring-progress":Aw,progress:Cw,scatter:Yw,histogram:qb,funnel:Sb,stock:iS},ES={pie:{label:!1},column:{tooltip:{showMarkers:!1}},bar:{tooltip:{showMarkers:!1}}};function kS(t,e,n){var r=TS[t];r?(0,CS[t])({chart:e,options:Py({},r.getDefaultOptions(),(0,O.U2)(ES,t,{}),n)}):console.error("could not find ".concat(t," plot"))}function MS(t){var e=t.chart,n=t.options,r=n.views,i=n.legend;return(0,O.S6)(r,(function(t){var n=t.region,r=t.data,i=t.meta,a=t.axes,o=t.coordinate,s=t.interactions,l=t.annotations,c=t.tooltip,u=t.geometries,h=e.createView({region:n});h.data(r);var f={};a&&(0,O.S6)(a,(function(t,e){f[e]=Sy(t,my)})),f=Py({},i,f),h.scale(f),a?(0,O.S6)(a,(function(t,e){h.axis(e,t)})):h.axis(!1),h.coordinate(o),(0,O.S6)(u,(function(t){var e=Lm({chart:h,options:t}).ext,n=t.adjust;n&&e.geometry.adjust(n)})),(0,O.S6)(s,(function(t){!1===t.enable?h.removeInteraction(t.type):h.interaction(t.type,t.cfg)})),(0,O.S6)(l,(function(t){h.annotation()[t.type](dy({},t))})),"boolean"===typeof t.animation?h.animate(!1):(h.animate(!0),(0,O.S6)(h.geometries,(function(e){e.animate(t.animation)}))),c&&(h.interaction("tooltip"),h.tooltip(c))})),i?(0,O.S6)(i,(function(t,n){e.legend(n,t)})):e.legend(!1),e.tooltip(n.tooltip),t}function AS(t){var e=t.chart,n=t.options,r=n.plots,i=n.data,a=void 0===i?[]:i;return(0,O.S6)(r,(function(t){var n=t.type,r=t.region,i=t.options,o=void 0===i?{}:i,s=t.top,l=o.tooltip;if(s)kS(n,e,dy(dy({},o),{data:a}));else{var c=e.createView(dy({region:r},Sy(o,Wm)));l&&c.interaction("tooltip"),kS(n,c,dy({data:a},o))}})),t}function OS(t){var e=t.chart,n=t.options;return e.option("slider",n.slider),t}function FS(t){return Ly(mm,MS,AS,ym,mm,xm,vm,OS,Tm())(t)}var IS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return py(e,t),e.prototype.getAssociationItems=function(t,e){var n,r=this.context.event,i=e||{},a=i.linkField,o=i.dim,s=[];if(null===(n=r.data)||void 0===n?void 0:n.data){var l=r.data.data;(0,O.S6)(t,(function(t){var e,n,r=a;if("x"===o?r=t.getXScale().field:"y"===o?r=null===(e=t.getYScales().find((function(t){return t.field===r})))||void 0===e?void 0:e.field:r||(r=null===(n=t.getGroupScales()[0])||void 0===n?void 0:n.field),r){var i=(0,O.UI)(By(t),(function(e){var n=!1,i=!1,a=(0,O.kJ)(l)?(0,O.U2)(l[0],r):(0,O.U2)(l,r);return function(t,e){var n=t.getModel().data;return(0,O.kJ)(n)?n[0][e]:n[e]}(e,r)===a?n=!0:i=!0,{element:e,view:t,active:n,inactive:i}}));s.push.apply(s,i)}}))}return s},e.prototype.showTooltip=function(t){var e=Qy(this.context.view),n=this.getAssociationItems(e,t);(0,O.S6)(n,(function(t){if(t.active){var e=t.element.shape.getCanvasBBox();t.view.showTooltip({x:e.minX+e.width/2,y:e.minY+e.height/2})}}))},e.prototype.hideTooltip=function(){var t=Qy(this.context.view);(0,O.S6)(t,(function(t){t.hideTooltip()}))},e.prototype.active=function(t){var e=Jy(this.context.view),n=this.getAssociationItems(e,t);(0,O.S6)(n,(function(t){var e=t.active,n=t.element;e&&n.setState("active",!0)}))},e.prototype.selected=function(t){var e=Jy(this.context.view),n=this.getAssociationItems(e,t);(0,O.S6)(n,(function(t){var e=t.active,n=t.element;e&&n.setState("selected",!0)}))},e.prototype.highlight=function(t){var e=Jy(this.context.view),n=this.getAssociationItems(e,t);(0,O.S6)(n,(function(t){var e=t.inactive,n=t.element;e&&n.setState("inactive",!0)}))},e.prototype.reset=function(){var t=Jy(this.context.view);(0,O.S6)(t,(function(t){!function(t){var e=By(t);(0,O.S6)(e,(function(t){t.hasState("active")&&t.setState("active",!1),t.hasState("selected")&&t.setState("selected",!1),t.hasState("inactive")&&t.setState("inactive",!1)}))}(t)}))},e}(Ao);Do("association",IS),Os("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Os("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Os("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Os("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]});var PS,DS=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="mix",e}return py(e,t),e.prototype.getSchemaAdaptor=function(){return FS},e}(Ym);!function(t){t.DEV="DEV",t.BETA="BETA",t.STABLE="STABLE"}(PS||(PS={}));!function(){function t(){}Object.defineProperty(t,"MultiView",{get:function(){var t,e;return t=PS.STABLE,e="MultiView",console.warn(t===PS.DEV?"Plot '".concat(e,"' is in DEV stage, just give us issues."):t===PS.BETA?"Plot '".concat(e,"' is in BETA stage, DO NOT use it in production env."):t===PS.STABLE?"Plot '".concat(e,"' is in STABLE stage, import it by \"import { ").concat(e," } from '@antv/g2plot'\"."):"invalid Stage type."),DS},enumerable:!1,configurable:!0})}();var LS="first-axes-view",RS="second-axes-view",BS="series-field-key";function _S(t,e,n,r,i){var a=[];e.forEach((function(e){r.forEach((function(r){var i,o=((i={})[t]=r[t],i[n]=e,i[e]=r[e],i);a.push(o)}))}));var o=Object.values((0,O.vM)(a,n)),s=o[0],l=void 0===s?[]:s,c=o[1],u=void 0===c?[]:c;return i?[l.reverse(),u.reverse()]:[l,u]}function NS(t){return"vertical"!==t}function US(t,e,n){var r=e[0],i=e[1],a=r.autoPadding,o=i.autoPadding,s=t.__axisPosition,l=s.layout,c=s.position;if(NS(l)&&"top"===c&&(r.autoPadding=n.instance(a.top,0,a.bottom,a.left),i.autoPadding=n.instance(o.top,a.left,o.bottom,0)),NS(l)&&"bottom"===c&&(r.autoPadding=n.instance(a.top,a.right/2+5,a.bottom,a.left),i.autoPadding=n.instance(o.top,o.right,o.bottom,a.right/2+5)),!NS(l)&&"bottom"===c){var u=a.left>=o.left?a.left:o.left;r.autoPadding=n.instance(a.top,a.right,a.bottom/2+5,u),i.autoPadding=n.instance(a.bottom/2+5,o.right,o.bottom,u)}if(!NS(l)&&"top"===c){u=a.left>=o.left?a.left:o.left;r.autoPadding=n.instance(a.top,a.right,0,u),i.autoPadding=n.instance(0,o.right,a.top,u)}}function zS(t){var e,n,r=t.chart,i=t.options,a=i.data,o=i.xField,s=i.yField,l=i.color,c=i.barStyle,u=i.widthRatio,h=i.legend,f=i.layout,p=_S(o,s,BS,a,NS(f));h?r.legend(BS,h):!1===h&&r.legend(!1);var d=p[0],g=p[1];return NS(f)?((e=r.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:LS})).coordinate().transpose().reflect("x"),(n=r.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:RS})).coordinate().transpose(),e.data(d),n.data(g)):(e=r.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:LS}),(n=r.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:RS})).coordinate().reflect("y"),e.data(d),n.data(g)),_m(Py({},t,{chart:e,options:{widthRatio:u,xField:o,yField:s[0],seriesField:BS,interval:{color:l,style:c}}})),_m(Py({},t,{chart:n,options:{xField:o,yField:s[1],seriesField:BS,widthRatio:u,interval:{color:l,style:c}}})),t}function HS(t){var e,n,r,i=t.options,a=t.chart,o=i.xAxis,s=i.yAxis,l=i.xField,c=i.yField,u=Ky(a,LS),h=Ky(a,RS),f={};return(0,O.XP)((null===i||void 0===i?void 0:i.meta)||{}).map((function(t){(0,O.U2)(null===i||void 0===i?void 0:i.meta,[t,"alias"])&&(f[t]=i.meta[t].alias)})),a.scale(((e={})[BS]={sync:!0,formatter:function(t){return(0,O.U2)(f,t,t)}},e)),Cm(((n={})[l]=o,n[c[0]]=s[c[0]],n))(Py({},t,{chart:u})),Cm(((r={})[l]=o,r[c[1]]=s[c[1]],r))(Py({},t,{chart:h})),t}function VS(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,a=n.xField,o=n.yField,s=n.layout,l=Ky(e,LS),c=Ky(e,RS);return"bottom"===(null===r||void 0===r?void 0:r.position)?c.axis(a,dy(dy({},r),{label:{formatter:function(){return""}}})):c.axis(a,!1),!1===r?l.axis(a,!1):l.axis(a,dy({position:NS(s)?"top":"bottom"},r)),!1===i?(l.axis(o[0],!1),c.axis(o[1],!1)):(l.axis(o[0],i[o[0]]),c.axis(o[1],i[o[1]])),e.__axisPosition={position:l.getOptions().axes[a].position,layout:s},t}function GS(t){var e=t.chart;return ym(Py({},t,{chart:Ky(e,LS)})),ym(Py({},t,{chart:Ky(e,RS)})),t}function WS(t){var e=t.chart,n=t.options,r=n.yField,i=n.yAxis;return Em(Py({},t,{chart:Ky(e,LS),options:{yAxis:i[r[0]]}})),Em(Py({},t,{chart:Ky(e,RS),options:{yAxis:i[r[1]]}})),t}function YS(t){var e=t.chart;return xm(Py({},t,{chart:Ky(e,LS)})),xm(Py({},t,{chart:Ky(e,RS)})),xm(t),t}function jS(t){var e=t.chart;return mm(Py({},t,{chart:Ky(e,LS)})),mm(Py({},t,{chart:Ky(e,RS)})),t}function XS(t){var e,n,r=this,i=t.chart,a=t.options,o=a.label,s=a.yField,l=a.layout,c=Ky(i,LS),u=Ky(i,RS),h=Ry(c,"interval"),f=Ry(u,"interval");if(o){var p=o.callback,d=gy(o,["callback"]);d.position||(d.position="middle"),void 0===d.offset&&(d.offset=2);var g=dy({},d);if(NS(l)){var v=(null===(e=g.style)||void 0===e?void 0:e.textAlign)||("middle"===d.position?"center":"left");d.style=Py({},d.style,{textAlign:v});g.style=Py({},g.style,{textAlign:{left:"right",right:"left",center:"center"}[v]})}else{var y={top:"bottom",bottom:"top",middle:"middle"};"string"===typeof d.position?d.position=y[d.position]:"function"===typeof d.position&&(d.position=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return y[d.position.apply(r,t)]});var m=(null===(n=g.style)||void 0===n?void 0:n.textBaseline)||"bottom";g.style=Py({},g.style,{textBaseline:m});d.style=Py({},d.style,{textBaseline:{top:"bottom",bottom:"top",middle:"middle"}[m]})}h.label({fields:[s[0]],callback:p,cfg:Ny(g)}),f.label({fields:[s[1]],callback:p,cfg:Ny(d)})}else h.label(!1),f.label(!1);return t}function $S(t){return Ly(zS,HS,VS,WS,YS,XS,vm,GS,jS)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bidirectional-bar",e}py(e,t),e.getDefaultOptions=function(){return Py({},t.getDefaultOptions.call(this),{syncViewPadding:US})},e.prototype.changeData=function(t){void 0===t&&(t=[]),this.chart.emit(F.BEFORE_CHANGE_DATA,ll.fromData(this.chart,F.BEFORE_CHANGE_DATA,null)),this.updateOption({data:t});var e=this.options,n=e.xField,r=e.yField,i=e.layout,a=_S(n,r,BS,t,NS(i)),o=a[0],s=a[1],l=Ky(this.chart,LS),c=Ky(this.chart,RS);l.data(o),c.data(s),this.chart.render(!0),this.chart.emit(F.AFTER_CHANGE_DATA,ll.fromData(this.chart,F.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return $S},e.SERIES_FIELD_KEY=BS}(Ym);var qS,ZS="$$range$$",KS="$$y_outliers$$",JS="outliers_view",QS=Py({},Ym.getDefaultOptions(),{meta:(qS={},qS[ZS]={min:0,alias:"low-q1-median-q3-high"},qS),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,shared:!0},boxStyle:{lineWidth:1}}),tC=function(t,e){var n=t;if(Array.isArray(e)){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4];n=(0,O.UI)(t,(function(t){return t[ZS]=[t[r],t[i],t[a],t[o],t[s]],t}))}return n};function eC(t){var e=t.chart,n=t.options,r=n.xField,i=n.yField,a=n.groupField,o=n.color,s=n.tooltip,l=n.boxStyle;e.data(tC(n.data,i));var c=(0,O.kJ)(i)?ZS:i,u=i?(0,O.kJ)(i)?i:[i]:[],h=s;!1!==h&&(h=Py({},{fields:(0,O.kJ)(i)?i:[]},h));var f=Hm(Py({},t,{options:{xField:r,yField:c,seriesField:a,tooltip:h,rawFields:u,label:!1,schema:{shape:"box",color:o,style:l}}})).ext;return a&&f.geometry.adjust("dodge"),t}function nC(t){var e=t.chart,n=t.options,r=n.xField,i=n.data,a=n.outliersField,o=n.outliersStyle,s=n.padding,l=n.label;if(!a)return t;var c=e.createView({padding:s,id:JS}),u=i.reduce((function(t,e){return e[a].forEach((function(n){var r;return t.push(dy(dy({},e),((r={})[a]=n,r)))})),t}),[]);return c.data(u),Um({chart:c,options:{xField:r,yField:a,point:{shape:"circle",style:o},label:l}}),c.axis(!1),t}function rC(t){var e,n,r=t.chart,i=t.options,a=i.meta,o=i.xAxis,s=i.yAxis,l=i.xField,c=i.yField,u=i.outliersField,h=Array.isArray(c)?ZS:c,f={};if(u){var p=KS;(e={})[u]={sync:p,nice:!0},e[h]={sync:p,nice:!0},f=e}var d=Py(f,a,((n={})[l]=Sy(o,my),n[h]=Sy(s,my),n));return r.scale(d),t}function iC(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,a=n.xField,o=n.yField,s=Array.isArray(o)?ZS:o;return!1===r?e.axis(a,!1):e.axis(a,r),!1===i?e.axis(ZS,!1):e.axis(s,i),t}function aC(t){var e=t.chart,n=t.options,r=n.legend,i=n.groupField;return i?r?e.legend(i,r):e.legend(i,{position:"bottom"}):e.legend(!1),t}function oC(t){return Ly(eC,nC,rC,iC,aC,vm,Tm(),ym,mm,xm)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="box",e}py(e,t),e.getDefaultOptions=function(){return QS},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options.yField,n=this.chart.views.find((function(t){return t.id===JS}));n&&n.data(t),this.chart.changeData(tC(t,e))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return oC}}(Ym);function sC(t,e,n){return t.length>1?"".concat(e,"_").concat(n):"".concat(e)}function lC(t){var e=t.data,n=t.xField,r=t.measureField,i=t.rangeField,a=t.targetField,o=t.layout,s=[],l=[];e.forEach((function(t,e){var o=[t[i]].flat();o.sort((function(t,e){return t-e})),o.forEach((function(r,a){var l,c=0===a?r:o[a]-o[a-1];s.push(((l={rKey:"".concat(i,"_").concat(a)})[n]=n?t[n]:String(e),l[i]=c,l))}));var c=[t[r]].flat();c.forEach((function(i,a){var o;s.push(((o={mKey:sC(c,r,a)})[n]=n?t[n]:String(e),o[r]=i,o))}));var u=[t[a]].flat();u.forEach((function(r,i){var o;s.push(((o={tKey:sC(u,a,i)})[n]=n?t[n]:String(e),o[a]=r,o))})),l.push(t[i],t[r],t[a])}));var c=Math.min.apply(Math,l.flat(1/0)),u=Math.max.apply(Math,l.flat(1/0));return c=c>0?0:c,"vertical"===o&&s.reverse(),{min:c,max:u,ds:s}}function cC(t){var e=t.chart,n=t.options,r=n.bulletStyle,i=n.targetField,a=n.rangeField,o=n.measureField,s=n.xField,l=n.color,c=n.layout,u=n.size,h=n.label,f=lC(n),p=f.min,d=f.max,g=f.ds;e.data(g),_m(Py({},t,{options:{xField:s,yField:a,seriesField:"rKey",isStack:!0,label:(0,O.U2)(h,"range"),interval:{color:(0,O.U2)(l,"range"),style:(0,O.U2)(r,"range"),size:(0,O.U2)(u,"range")}}})),e.geometries[0].tooltip(!1),_m(Py({},t,{options:{xField:s,yField:o,seriesField:"mKey",isStack:!0,label:(0,O.U2)(h,"measure"),interval:{color:(0,O.U2)(l,"measure"),style:(0,O.U2)(r,"measure"),size:(0,O.U2)(u,"measure")}}}));var v=Py({},t,{options:{xField:s,yField:i,seriesField:"tKey",label:(0,O.U2)(h,"target"),point:{color:(0,O.U2)(l,"target"),style:(0,O.U2)(r,"target"),size:(0,O.mf)((0,O.U2)(u,"target"))?function(t){return(0,O.U2)(u,"target")(t)/2}:(0,O.U2)(u,"target")/2,shape:"horizontal"===c?"line":"hyphen"}}});return Um(v),"horizontal"===c&&e.coordinate().transpose(),dy(dy({},t),{ext:{data:{min:p,max:d}}})}function uC(t){var e,n,r=t.options,i=t.ext,a=r.xAxis,o=r.yAxis,s=r.targetField,l=r.rangeField,c=r.measureField,u=r.xField,h=i.data;return Ly(Cm(((e={})[u]=a,e[c]=o,e),((n={})[c]={min:null===h||void 0===h?void 0:h.min,max:null===h||void 0===h?void 0:h.max,sync:!0},n[s]={sync:"".concat(c)},n[l]={sync:"".concat(c)},n)))(t)}function hC(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,a=n.xField,o=n.measureField,s=n.rangeField,l=n.targetField;return e.axis("".concat(s),!1),e.axis("".concat(l),!1),!1===r?e.axis("".concat(a),!1):e.axis("".concat(a),r),!1===i?e.axis("".concat(o),!1):e.axis("".concat(o),i),t}function fC(t){var e=t.chart,n=t.options.legend;return e.removeInteraction("legend-filter"),e.legend(n),e.legend("rKey",!1),e.legend("mKey",!1),e.legend("tKey",!1),t}function pC(t){var e=t.chart,n=t.options,r=n.label,i=n.measureField,a=n.targetField,o=n.rangeField,s=e.geometries,l=s[0],c=s[1],u=s[2];return(0,O.U2)(r,"range")?l.label("".concat(o),dy({layout:[{type:"limit-in-plot"}]},Ny(r.range))):l.label(!1),(0,O.U2)(r,"measure")?c.label("".concat(i),dy({layout:[{type:"limit-in-plot"}]},Ny(r.measure))):c.label(!1),(0,O.U2)(r,"target")?u.label("".concat(a),dy({layout:[{type:"limit-in-plot"}]},Ny(r.target))):u.label(!1),t}function dC(t){Ly(cC,uC,hC,fC,xm,pC,vm,ym,mm)(t)}var gC=Py({},Ym.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}}),vC=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bullet",e}py(e,t),e.getDefaultOptions=function(){return gC},e.prototype.changeData=function(t){this.updateOption({data:t});var e=lC(this.options),n=e.min,r=e.max,i=e.ds;uC({options:this.options,ext:{data:{min:n,max:r}},chart:this.chart}),this.chart.changeData(i)},e.prototype.getSchemaAdaptor=function(){return dC},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()}}(Ym),{y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(t){return t.id},source:function(t){return t.source},target:function(t){return t.target},sourceWeight:function(t){return t.value||1},targetWeight:function(t){return t.value||1},sortBy:null});function yC(t,e){var n=function(t){return(0,O.f0)({},vC,t)}(t),r={},i=e.nodes,a=e.links;i.forEach((function(t){var e=n.id(t);r[e]=t})),function(t,e,n){(0,O.U5)(t,(function(t,r){t.inEdges=e.filter((function(t){return"".concat(n.target(t))==="".concat(r)})),t.outEdges=e.filter((function(t){return"".concat(n.source(t))==="".concat(r)})),t.edges=t.outEdges.concat(t.inEdges),t.frequency=t.edges.length,t.value=0,t.inEdges.forEach((function(e){t.value+=n.targetWeight(e)})),t.outEdges.forEach((function(e){t.value+=n.sourceWeight(e)}))}))}(r,a,n),function(t,e){var n={weight:function(t,e){return e.value-t.value},frequency:function(t,e){return e.frequency-t.frequency},id:function(t,n){return"".concat(e.id(t)).localeCompare("".concat(e.id(n)))}}[e.sortBy];!n&&(0,O.mf)(e.sortBy)&&(n=e.sortBy),n&&t.sort(n)}(i,n);var o=function(t,e){var n=t.length;if(!n)throw new TypeError("Invalid nodes: it's empty!");if(e.weight){var r=e.nodePaddingRatio;if(r<0||r>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var i=r/(2*n),a=e.nodeWidthRatio;if(a<=0||a>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var o=0;t.forEach((function(t){o+=t.value})),t.forEach((function(t){t.weight=t.value/o,t.width=t.weight*(1-r),t.height=a})),t.forEach((function(n,r){for(var o=0,s=r-1;s>=0;s--)o+=t[s].width+2*i;var l=n.minX=i+o,c=n.maxX=n.minX+n.width,u=n.minY=e.y-a/2,h=n.maxY=u+a;n.x=[l,c,c,l],n.y=[u,u,h,h]}))}else{var s=1/n;t.forEach((function(t,n){t.x=(n+.5)*s,t.y=e.y}))}return t}(i,n),s=function(t,e,n){if(n.weight){var r={};(0,O.U5)(t,(function(t,e){r[e]=t.value})),e.forEach((function(e){var i=n.source(e),a=n.target(e),o=t[i],s=t[a];if(o&&s){var l=r[i],c=n.sourceWeight(e),u=o.minX+(o.value-l)/o.value*o.width,h=u+c/o.value*o.width;r[i]-=c;var f=r[a],p=n.targetWeight(e),d=s.minX+(s.value-f)/s.value*s.width,g=d+p/s.value*s.width;r[a]-=p;var v=n.y;e.x=[u,h,d,g],e.y=[v,v,v,v],e.source=o,e.target=s}}))}else e.forEach((function(e){var r=t[n.source(e)],i=t[n.target(e)];r&&i&&(e.x=[r.x,i.x],e.y=[r.y,i.y],e.source=r,e.target=i)}));return e}(r,a,n);return{nodes:o,links:s}}var mC="x",xC="y",bC="name",wC="source",SC={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(t,e){return{offsetX:(t[0]+t[1])/2>.5?-4:4,content:e}},labelEmit:!0,style:{fill:"#8c8c8c"}},tooltip:{showTitle:!1,showMarkers:!1,fields:["source","target","value","isNode"],showContent:function(t){return!(0,O.U2)(t,[0,"data","isNode"])},formatter:function(t){var e=t.source,n=t.target,r=t.value;return{name:"".concat(e," -> ").concat(n),value:r}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};function CC(t){var e=t.options,n=e.data,r=e.sourceField,i=e.targetField,a=e.weightField,o=e.nodePaddingRatio,s=e.nodeWidthRatio,l=e.rawFields,c=void 0===l?[]:l,u=yC({weight:!0,nodePaddingRatio:o,nodeWidthRatio:s},Ty(n,r,i,a)),h=u.nodes,f=u.links,p=h.map((function(t){return dy(dy({},Sy(t,vy(["id","x","y","name"],c,!0))),{isNode:!0})})),d=f.map((function(t){return dy(dy({source:t.source.name,target:t.target.name,name:t.source.name||t.target.name},Sy(t,vy(["x","y","value"],c,!0))),{isNode:!1})}));return dy(dy({},t),{ext:dy(dy({},t.ext),{chordData:{nodesData:p,edgesData:d}})})}function TC(t){var e;return t.chart.scale(((e={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}})[bC]={sync:"color"},e[wC]={sync:"color"},e)),t}function EC(t){return t.chart.axis(!1),t}function kC(t){return t.chart.legend(!1),t}function MC(t){var e=t.chart,n=t.options.tooltip;return e.tooltip(n),t}function AC(t){return t.chart.coordinate("polar").reflect("y"),t}function OC(t){var e=t.chart,n=t.options,r=t.ext.chordData.nodesData,i=n.nodeStyle,a=n.label,o=n.tooltip,s=e.createView();return s.data(r),zm({chart:s,options:{xField:mC,yField:xC,seriesField:bC,polygon:{style:i},label:a,tooltip:o}}),t}function FC(t){var e=t.chart,n=t.options,r=t.ext.chordData.edgesData,i=n.edgeStyle,a=n.tooltip,o=e.createView();return o.data(r),Bm({chart:o,options:{xField:mC,yField:xC,seriesField:wC,edge:{style:i,shape:"arc"},tooltip:a}}),t}function IC(t){var e=t.chart;return tm(e,t.options.animation,function(t){return(0,O.U2)(t,["views","length"],0)<=0?t.geometries:(0,O.u4)(t.views,(function(t,e){return t.concat(e.geometries)}),t.geometries)}(e)),t}function PC(t){return Ly(xm,CC,AC,TC,EC,kC,MC,FC,OC,ym,bm,IC)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="chord",e}py(e,t),e.getDefaultOptions=function(){return SC},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return PC}}(Ym);var DC=["x","y","r","name","value","path","depth"],LC={colorField:"name",autoFit:!0,pointStyle:{lineWidth:0,stroke:"#fff"},legend:!1,hierarchyConfig:{size:[1,1],padding:0},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1}},RC="drilldown-bread-crumb",BC={position:"top-left",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}},_C="hierarchy-data-transform-params",NC=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="drill-down",e.historyCache=[],e.breadCrumbGroup=null,e.breadCrumbCfg=BC,e}return py(e,t),e.prototype.click=function(){var t=(0,O.U2)(this.context,["event","data","data"]);if(!t)return!1;this.drill(t),this.drawBreadCrumb()},e.prototype.resetPosition=function(){if(this.breadCrumbGroup){var t=this.context.view.getCoordinate(),e=this.breadCrumbGroup,n=e.getBBox(),r=this.getButtonCfg().position,i={x:t.start.x,y:t.end.y-(n.height+10)};t.isPolar&&(i={x:0,y:0}),"bottom-left"===r&&(i={x:t.start.x,y:t.start.y});var a=Tc.transform(null,[["t",i.x+0,i.y+n.height+5]]);e.setMatrix(a)}},e.prototype.back=function(){(0,O.dp)(this.historyCache)&&this.backTo(this.historyCache.slice(0,-1))},e.prototype.reset=function(){this.historyCache[0]&&this.backTo(this.historyCache.slice(0,1)),this.historyCache=[],this.hideCrumbGroup()},e.prototype.drill=function(t){var e=this.context.view,n=(0,O.U2)(e,["interactions","drill-down","cfg","transformData"],(function(t){return t})),r=n(dy({data:t.data},t[_C]));e.changeData(r);for(var i=[],a=t;a;){var o=a.data;i.unshift({id:"".concat(o.name,"_").concat(a.height,"_").concat(a.depth),name:o.name,children:n(dy({data:o},t[_C]))}),a=a.parent}this.historyCache=(this.historyCache||[]).slice(0,-1).concat(i)},e.prototype.backTo=function(t){if(t&&!(t.length<=0)){var e=this.context.view,n=(0,O.Z$)(t).children;e.changeData(n),t.length>1?(this.historyCache=t,this.drawBreadCrumb()):(this.historyCache=[],this.hideCrumbGroup())}},e.prototype.getButtonCfg=function(){var t=this.context.view,e=(0,O.U2)(t,["interactions","drill-down","cfg","drillDownConfig"]);return Py(this.breadCrumbCfg,null===e||void 0===e?void 0:e.breadCrumb,this.cfg)},e.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},e.prototype.drawBreadCrumbGroup=function(){var t=this,e=this.getButtonCfg(),n=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:RC});var r=0;n.forEach((function(i,a){var o=t.breadCrumbGroup.addShape({type:"text",id:i.id,name:"".concat(RC,"_").concat(i.name,"_text"),attrs:dy(dy({text:0!==a||(0,O.UM)(e.rootText)?i.name:e.rootText},e.textStyle),{x:r,y:0})}),s=o.getBBox();if(r+=s.width+4,o.on("click",(function(e){var r,i=e.target.get("id");if(i!==(null===(r=(0,O.Z$)(n))||void 0===r?void 0:r.id)){var a=n.slice(0,n.findIndex((function(t){return t.id===i}))+1);t.backTo(a)}})),o.on("mouseenter",(function(t){var r;t.target.get("id")!==(null===(r=(0,O.Z$)(n))||void 0===r?void 0:r.id)?o.attr(e.activeTextStyle):o.attr({cursor:"default"})})),o.on("mouseleave",(function(){o.attr(e.textStyle)})),a<n.length-1){var l=t.breadCrumbGroup.addShape({type:"text",name:"".concat(e.name,"_").concat(i.name,"_divider"),attrs:dy(dy({text:e.dividerText},e.textStyle),{x:r,y:0})}).getBBox();r+=l.width+4}}))},e.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},e.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),t.prototype.destroy.call(this)},e}(Ao);function UC(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(Array.from(t))).length,a=[];r<i;)e=t[r],n&&VC(n,e)?++r:(n=WC(a=zC(a,e)),r=0);return n}function zC(t,e){var n,r;if(GC(e,t))return[e];for(n=0;n<t.length;++n)if(HC(e,t[n])&&GC(YC(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(HC(YC(t[n],t[r]),e)&&HC(YC(t[n],e),t[r])&&HC(YC(t[r],e),t[n])&&GC(jC(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function HC(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function VC(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function GC(t,e){for(var n=0;n<e.length;++n)if(!VC(t,e[n]))return!1;return!0}function WC(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return YC(t[0],t[1]);case 3:return jC(t[0],t[1],t[2])}var e}function YC(t,e){var n=t.x,r=t.y,i=t.r,a=e.x,o=e.y,s=e.r,l=a-n,c=o-r,u=s-i,h=Math.sqrt(l*l+c*c);return{x:(n+a+l/h*u)/2,y:(r+o+c/h*u)/2,r:(h+i+s)/2}}function jC(t,e,n){var r=t.x,i=t.y,a=t.r,o=e.x,s=e.y,l=e.r,c=n.x,u=n.y,h=n.r,f=r-o,p=r-c,d=i-s,g=i-u,v=l-a,y=h-a,m=r*r+i*i-a*a,x=m-o*o-s*s+l*l,b=m-c*c-u*u+h*h,w=p*d-f*g,S=(d*b-g*x)/(2*w)-r,C=(g*v-d*y)/w,T=(p*x-f*b)/(2*w)-i,E=(f*y-p*v)/w,k=C*C+E*E-1,M=2*(a+S*C+T*E),A=S*S+T*T-a*a,O=-(k?(M+Math.sqrt(M*M-4*k*A))/(2*k):A/M);return{x:r+S+C*O,y:i+T+E*O,r:O}}function XC(t,e,n){var r,i,a,o,s=t.x-e.x,l=t.y-e.y,c=s*s+l*l;c?(i=e.r+n.r,i*=i,o=t.r+n.r,i>(o*=o)?(r=(c+o-i)/(2*c),a=Math.sqrt(Math.max(0,o/c-r*r)),n.x=t.x-r*s-a*l,n.y=t.y-r*l+a*s):(r=(c+i-o)/(2*c),a=Math.sqrt(Math.max(0,i/c-r*r)),n.x=e.x+r*s-a*l,n.y=e.y+r*l+a*s)):(n.x=e.x+n.r,n.y=e.y)}function $C(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function qC(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,a=(e.y*n.r+n.y*e.r)/r;return i*i+a*a}function ZC(t){this._=t,this.next=null,this.previous=null}function KC(t){if(!(a=(e=t,t="object"===typeof e&&"length"in e?e:Array.from(e)).length))return 0;var e,n,r,i,a,o,s,l,c,u,h,f;if((n=t[0]).x=0,n.y=0,!(a>1))return n.r;if(r=t[1],n.x=-r.r,r.x=n.r,r.y=0,!(a>2))return n.r+r.r;XC(r,n,i=t[2]),n=new ZC(n),r=new ZC(r),i=new ZC(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;t:for(l=3;l<a;++l){XC(n._,r._,i=t[l]),i=new ZC(i),c=r.next,u=n.previous,h=r._.r,f=n._.r;do{if(h<=f){if($C(c._,i._)){r=c,n.next=r,r.previous=n,--l;continue t}h+=c._.r,c=c.next}else{if($C(u._,i._)){(n=u).next=r,r.previous=n,--l;continue t}f+=u._.r,u=u.previous}}while(c!==u.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=qC(n);(i=i.next)!==r;)(s=qC(i))<o&&(n=i,o=s);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=UC(n),l=0;l<a;++l)(n=t[l]).x-=i.x,n.y-=i.y;return i.r}function JC(t){return KC(t),t}function QC(t){if("function"!==typeof t)throw new Error;return t}function tT(){return 0}function eT(t){return function(){return t}}function nT(t){return Math.sqrt(t.value)}function rT(){var t=null,e=1,n=1,r=tT;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(iT(t)).eachAfter(aT(r,.5)).eachBefore(oT(1)):i.eachBefore(iT(nT)).eachAfter(aT(tT,1)).eachAfter(aT(r,i.r/Math.min(e,n))).eachBefore(oT(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=null==(n=e)?null:QC(n),i):t;var n},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"===typeof t?t:eT(+t),i):r},i}function iT(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function aT(t,e){return function(n){if(r=n.children){var r,i,a,o=r.length,s=t(n)*e||0;if(s)for(i=0;i<o;++i)r[i].r+=s;if(a=KC(r),s)for(i=0;i<o;++i)r[i].r-=s;n.r=a+s}}}function oT(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var sT=n(4942);function lT(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}var cT=n(7762);var uT=n(4165),hT=(0,uT.Z)().mark(fT);function fT(){var t,e,n,r,i,a;return(0,uT.Z)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n=[t=this];case 1:e=n.reverse(),n=[];case 2:if(!(t=e.pop())){o.next=8;break}return o.next=5,t;case 5:if(r=t.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);o.next=2;break;case 8:if(n.length){o.next=1;break}case 9:case"end":return o.stop()}}),hT,this)}function pT(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=gT)):void 0===e&&(e=dT);for(var n,r,i,a,o,s=new mT(t),l=[s];n=l.pop();)if((i=e(n.data))&&(o=(i=Array.from(i)).length))for(n.children=i,a=o-1;a>=0;--a)l.push(r=i[a]=new mT(i[a])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(yT)}function dT(t){return t.children}function gT(t){return Array.isArray(t)?t[1]:null}function vT(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function yT(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function mT(t){this.data=t,this.depth=this.height=0,this.parent=null}mT.prototype=pT.prototype=(0,sT.Z)({constructor:mT,count:function(){return this.eachAfter(lT)},each:function(t,e){var n,r=-1,i=(0,cT.Z)(this);try{for(i.s();!(n=i.n()).done;){var a=n.value;t.call(e,a,++r,this)}}catch(o){i.e(o)}finally{i.f()}return this},eachAfter:function(t,e){for(var n,r,i,a=this,o=[a],s=[],l=-1;a=o.pop();)if(s.push(a),n=a.children)for(r=0,i=n.length;r<i;++r)o.push(n[r]);for(;a=s.pop();)t.call(e,a,++l,this);return this},eachBefore:function(t,e){for(var n,r,i=this,a=[i],o=-1;i=a.pop();)if(t.call(e,i,++o,this),n=i.children)for(r=n.length-1;r>=0;--r)a.push(n[r]);return this},find:function(t,e){var n,r=-1,i=(0,cT.Z)(this);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(t.call(e,a,++r,this))return a}}catch(o){i.e(o)}finally{i.f()}},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();for(;t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return pT(this).eachBefore(vT)}},Symbol.iterator,fT);var xT="nodeIndex",bT="childNodeCount",wT="nodeAncestor",ST="Invalid field: it must be a string!";function CT(t,e){var n=t.field,r=t.fields;if((0,O.HD)(n))return n;if((0,O.kJ)(n))return console.warn(ST),n[0];if(console.warn("".concat(ST," will try to get fields instead.")),(0,O.HD)(r))return r;if((0,O.kJ)(r)&&r.length)return r[0];if(e)return e;throw new TypeError(ST)}function TT(t){var e,n,r=[];t&&t.each?t.each((function(t){var i,a;t.parent!==e?(e=t.parent,n=0):n+=1;var o=(0,O.hX)(((null===(i=t.ancestors)||void 0===i?void 0:i.call(t))||[]).map((function(t){return r.find((function(e){return e.name===t.name}))||t})),(function(e){var n=e.depth;return n>0&&n<t.depth}));t[wT]=o,t[bT]=(null===(a=t.children)||void 0===a?void 0:a.length)||0,t[xT]=n,r.push(t)})):t&&t.eachNode&&t.eachNode((function(t){r.push(t)}));return r}var ET={field:"value",as:["x","y","r"],sort:function(t,e){return e.value-t.value}};function kT(t){var e=t.data,n=t.hierarchyConfig,r=t.rawFields,i=void 0===r?[]:r,a=t.enableDrillDown,o=function(t,e){var n,r=(e=(0,O.f0)({},ET,e)).as;if(!(0,O.kJ)(r)||3!==r.length)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');try{n=CT(e)}catch(l){console.warn(l)}var i=function(t){return rT().size(e.size).padding(e.padding)(pT(t).sum((function(t){return t[n]})).sort(e.sort))}(t),a=r[0],o=r[1],s=r[2];return i.each((function(t){t[a]=t.x,t[o]=t.y,t[s]=t.r})),TT(i)}(e,dy(dy({},n),{field:"value",as:["x","y","r"]})),s=[];return o.forEach((function(t){for(var e,r=t.data.name,o=dy({},t);o.depth>1;)r="".concat(null===(e=o.parent.data)||void 0===e?void 0:e.name," / ").concat(r),o=o.parent;if(a&&t.depth>2)return null;var l=Py({},t.data,dy(dy(dy({},Sy(t.data,i)),{path:r}),t));l.ext=n,l[_C]={hierarchyConfig:n,rawFields:i,enableDrillDown:a},s.push(l)})),s}function MT(t,e,n){var r=Vy([t,e]),i=r[0],a=r[1],o=r[2],s=r[3],l=n.width-(s+a),c=n.height-(i+o),u=Math.min(l,c),h=(l-u)/2,f=(c-u)/2;return{finalPadding:[i+f,a+h,o+f,s+h],finalSize:u<0?0:u}}function AT(t){var e=t.chart,n=Math.min(e.viewBBox.width,e.viewBBox.height);return Py({options:{size:function(t){return t.r*n}}},t)}function OT(t){var e=t.options,n=t.chart,r=n.viewBBox,i=e.padding,a=e.appendPadding,o=e.drilldown,s=a;(null===o||void 0===o?void 0:o.enabled)&&(s=Vy([Hy(n.appendPadding,(0,O.U2)(o,["breadCrumb","position"])),a]));var l=MT(i,s,r).finalPadding;return n.padding=l,n.appendPadding=0,t}function FT(t){var e=t.chart,n=t.options,r=e.padding,i=e.appendPadding,a=n.color,o=n.colorField,s=n.pointStyle,l=n.hierarchyConfig,c=n.sizeField,u=n.rawFields,h=void 0===u?[]:u,f=n.drilldown,p=kT({data:n.data,hierarchyConfig:l,enableDrillDown:null===f||void 0===f?void 0:f.enabled,rawFields:h});e.data(p);var d=MT(r,i,e.viewBBox).finalSize,g=function(t){return t.r*d};return c&&(g=function(t){return t[c]*d}),Um(Py({},t,{options:{xField:"x",yField:"y",seriesField:o,sizeField:c,rawFields:vy(vy([],DC,!0),h,!0),point:{color:a,style:s,shape:"circle",size:g}}})),t}function IT(t){return Ly(Cm({},{x:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0},y:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0}}))(t)}function PT(t){var e=t.chart,n=t.options.tooltip;if(!1===n)e.tooltip(!1);else{var r=n;(0,O.U2)(n,"fields")||(r=Py({},{customItems:function(t){return t.map((function(t){var n=(0,O.U2)(e.getOptions(),"scales"),r=(0,O.U2)(n,["name","formatter"],(function(t){return t})),i=(0,O.U2)(n,["value","formatter"],(function(t){return t}));return dy(dy({},t),{name:r(t.data.name),value:i(t.data.value)})}))}},r)),e.tooltip(r)}return t}function DT(t){return t.chart.axis(!1),t}function LT(t){var e=t.drilldown,n=t.interactions,r=void 0===n?[]:n;return(null===e||void 0===e?void 0:e.enabled)?Py({},t,{interactions:vy(vy([],r,!0),[{type:"drill-down",cfg:{drillDownConfig:e,transformData:kT,enableDrillDown:!0}}],!1)}):t}function RT(t){return ym({chart:t.chart,options:LT(t.options)}),t}function BT(t){return Ly(dm("pointStyle"),AT,OT,xm,IT,FT,DT,gm,PT,RT,mm,Tm())(t)}function _T(t){var e=(0,O.U2)(t,["event","data","data"],{});return(0,O.kJ)(e.children)&&e.children.length>0}function NT(t){var e=t.view.getCoordinate(),n=e.innerRadius;if(n){var r=t.event,i=r.x,a=r.y,o=e.center,s=o.x,l=o.y,c=e.getRadius()*n;return Math.sqrt(Math.pow(s-i,2)+Math.pow(l-a,2))<c}return!1}Do("drill-down-action",NC),Os("drill-down",{showEnable:[{trigger:"element:mouseenter",action:"cursor:pointer",isEnable:_T},{trigger:"element:mouseleave",action:"cursor:default"},{trigger:"element:mouseleave",action:"cursor:pointer",isEnable:NT}],start:[{trigger:"element:click",isEnable:_T,action:["drill-down-action:click"]},{trigger:"afterchangesize",action:["drill-down-action:resetPosition"]},{trigger:"click",isEnable:NT,action:["drill-down-action:back"]}]});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle-packing",e}py(e,t),e.getDefaultOptions=function(){return LC},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return BT},e.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))}}(Ym);var UT,zT,HT="left-axes-view",VT="right-axes-view",GT={nice:!0,label:{autoHide:!0,autoRotate:!1}},WT=dy(dy({},GT),{position:"left"}),YT=dy(dy({},GT),{position:"right",grid:null});function jT(t){return(0,O.U2)(t,"geometry")===zT.Line}function XT(t){return(0,O.U2)(t,"geometry")===zT.Column}function $T(t,e,n){return XT(n)?Py({},{geometry:zT.Column,label:n.label&&n.isRange?{content:function(t){var n;return null===(n=t[e])||void 0===n?void 0:n.join("-")}}:void 0},n):dy({geometry:zT.Line},n)}function qT(t,e){var n=t[0],r=t[1];return(0,O.kJ)(e)?[e[0],e[1]]:[(0,O.U2)(e,n),(0,O.U2)(e,r)]}function ZT(t,e){return e===UT.Left?!1!==t&&Py({},WT,t):e===UT.Right?!1!==t&&Py({},YT,t):t}function KT(t){var e=t.view,n=t.geometryOption,r=t.yField,i=t.legend,a=(0,O.U2)(i,"marker"),o=Ry(e,jT(n)?"line":"interval");if(!n.seriesField){var s=(0,O.U2)(e,"options.scales.".concat(r,".alias"))||r,l=o.getAttribute("color"),c=e.getTheme().defaultColor;return l&&(c=Tc.getMappingValue(l,s,(0,O.U2)(l,["values",0],c))),[{value:r,name:s,marker:((0,O.mf)(a)?a:!(0,O.xb)(a)&&Py({},{style:{stroke:c,fill:c}},a))||(jT(n)?{symbol:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},style:{lineWidth:2,r:6,stroke:c}}:{symbol:"square",style:{fill:c}}),isGeometry:!0,viewId:e.id}]}var u=o.getGroupAttributes();return(0,O.u4)(u,(function(t,n){var r=Tc.getLegendItems(e,o,n,e.getTheme(),a);return t.concat(r)}),[])}!function(t){t.Left="Left",t.Right="Right"}(UT||(UT={})),function(t){t.Line="line",t.Column="column"}(zT||(zT={}));var JT=function(t,e){var n=e[0],r=e[1],i=t.getOptions().data,a=t.getXScale(),o=(0,O.dp)(i);if(a&&o){var s=(0,O.I)(i,a.field),l=s,c=(0,O.dp)(l),u=Math.floor(n*(c-1)),h=Math.floor(r*(c-1));t.filter(a.field,(function(t){var e=l.indexOf(t);return!(e>-1)||function(t,e,n){var r=Math.min(e,n),i=Math.max(e,n);return t>=r&&t<=i}(e,u,h)})),t.getRootView().render(!0)}};function QT(t){var e,n=t.options,r=n.geometryOptions,i=void 0===r?[]:r,a=n.xField,o=n.yField,s=(0,O.yW)(i,(function(t){var e=t.geometry;return e===zT.Line||void 0===e}));return Py({},{options:{geometryOptions:[],meta:(e={},e[a]={type:"cat",sync:!0,range:s?[0,1]:void 0},e),tooltip:{showMarkers:s,showCrosshairs:s,shared:!0,crosshairs:{type:"x"}},interactions:s?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},t,{options:{yAxis:qT(o,n.yAxis),geometryOptions:[$T(0,o[0],i[0]),$T(0,o[1],i[1])],annotations:qT(o,n.annotations)}})}function tE(t){var e,n,r=t.chart,i=t.options.geometryOptions,a={line:0,column:1};return[{type:null===(e=i[0])||void 0===e?void 0:e.geometry,id:HT},{type:null===(n=i[1])||void 0===n?void 0:n.geometry,id:VT}].sort((function(t,e){return-a[t.type]+a[e.type]})).forEach((function(t){return r.createView({id:t.id})})),t}function eE(t){var e=t.chart,n=t.options,r=n.xField,i=n.yField,a=n.geometryOptions,o=n.data,s=n.tooltip;return[dy(dy({},a[0]),{id:HT,data:o[0],yField:i[0]}),dy(dy({},a[1]),{id:VT,data:o[1],yField:i[1]})].forEach((function(t){var n=t.id,i=t.data,a=t.yField,o=XT(t)&&t.isPercent,l=o?jm(i,a,r,a):i,c=Ky(e,n).data(l),u=o?dy({formatter:function(e){return{name:e[t.seriesField]||a,value:(100*Number(e[a])).toFixed(2)+"%"}}},s):s;!function(t){var e=t.options,n=t.chart,r=e.geometryOption,i=r.isStack,a=r.color,o=r.seriesField,s=r.groupField,l=r.isGroup,c=["xField","yField"];if(jT(r)){Nm(Py({},t,{options:dy(dy(dy({},Sy(e,c)),r),{line:{color:r.color,style:r.lineStyle}})})),Um(Py({},t,{options:dy(dy(dy({},Sy(e,c)),r),{point:r.point&&dy({color:a,shape:"circle"},r.point)})}));var u=[];l&&u.push({type:"dodge",dodgeBy:s||o,customOffset:0}),i&&u.push({type:"stack"}),u.length&&(0,O.S6)(n.geometries,(function(t){t.adjust(u)}))}XT(r)&&Mx(Py({},t,{options:dy(dy(dy({},Sy(e,c)),r),{widthRatio:r.columnWidthRatio,interval:dy(dy({},Sy(r,["color"])),{style:r.columnStyle})})}))}({chart:c,options:{xField:r,yField:a,tooltip:u,geometryOption:t}})})),t}function nE(t){var e,n=t.chart,r=t.options.geometryOptions,i=(null===(e=n.getTheme())||void 0===e?void 0:e.colors10)||[],a=0;return n.once("beforepaint",(function(){(0,O.S6)(r,(function(t,e){var r=Ky(n,0===e?HT:VT);if(!t.color){var o=r.getGroupScales(),s=(0,O.U2)(o,[0,"values","length"],1),l=i.slice(a,a+s).concat(0===e?[]:i);r.geometries.forEach((function(e){t.seriesField?e.color(t.seriesField,l):e.color(l[0])})),a+=s}})),n.render(!0)})),t}function rE(t){var e,n,r=t.chart,i=t.options,a=i.xAxis,o=i.yAxis,s=i.xField,l=i.yField;return Cm(((e={})[s]=a,e[l[0]]=o[0],e))(Py({},t,{chart:Ky(r,HT)})),Cm(((n={})[s]=a,n[l[1]]=o[1],n))(Py({},t,{chart:Ky(r,VT)})),t}function iE(t){var e=t.chart,n=t.options,r=Ky(e,HT),i=Ky(e,VT),a=n.xField,o=n.yField,s=n.xAxis,l=n.yAxis;return e.axis(a,!1),e.axis(o[0],!1),e.axis(o[1],!1),r.axis(a,s),r.axis(o[0],ZT(l[0],UT.Left)),i.axis(a,!1),i.axis(o[1],ZT(l[1],UT.Right)),t}function aE(t){var e=t.chart,n=t.options.tooltip,r=Ky(e,HT),i=Ky(e,VT);return e.tooltip(n),r.tooltip({shared:!0}),i.tooltip({shared:!0}),t}function oE(t){var e=t.chart;return ym(Py({},t,{chart:Ky(e,HT)})),ym(Py({},t,{chart:Ky(e,VT)})),t}function sE(t){var e=t.chart,n=t.options.annotations,r=(0,O.U2)(n,[0]),i=(0,O.U2)(n,[1]);return Tm(r)(Py({},t,{chart:Ky(e,HT),options:{annotations:r}})),Tm(i)(Py({},t,{chart:Ky(e,VT),options:{annotations:i}})),t}function lE(t){var e=t.chart;return xm(Py({},t,{chart:Ky(e,HT)})),xm(Py({},t,{chart:Ky(e,VT)})),xm(t),t}function cE(t){var e=t.chart;return mm(Py({},t,{chart:Ky(e,HT)})),mm(Py({},t,{chart:Ky(e,VT)})),t}function uE(t){var e=t.chart,n=t.options.yAxis;return Em(Py({},t,{chart:Ky(e,HT),options:{yAxis:n[0]}})),Em(Py({},t,{chart:Ky(e,VT),options:{yAxis:n[1]}})),t}function hE(t){var e=t.chart,n=t.options,r=n.legend,i=n.geometryOptions,a=n.yField,o=n.data,s=Ky(e,HT),l=Ky(e,VT);if(!1===r)e.legend(!1);else if((0,O.Kn)(r)&&!0===r.custom)e.legend(r);else{var c=(0,O.U2)(i,[0,"legend"],r),u=(0,O.U2)(i,[1,"legend"],r);e.once("beforepaint",(function(){var t=o[0].length?KT({view:s,geometryOption:i[0],yField:a[0],legend:c}):[],n=o[1].length?KT({view:l,geometryOption:i[1],yField:a[1],legend:u}):[];e.legend(Py({},r,{custom:!0,items:t.concat(n)}))})),i[0].seriesField&&s.legend(i[0].seriesField,c),i[1].seriesField&&l.legend(i[1].seriesField,u),e.on("legend-item:click",(function(t){var n=(0,O.U2)(t,"gEvent.delegateObject",{});if(n&&n.item){var r=n.item,i=r.value,o=r.isGeometry,s=r.viewId;if(o){if((0,O.cx)(a,(function(t){return t===i}))>-1){var l=(0,O.U2)(Ky(e,s),"geometries");(0,O.S6)(l,(function(t){t.changeVisible(!n.item.unchecked)}))}}else{var c=(0,O.U2)(e.getController("legend"),"option.items",[]);(0,O.S6)(e.views,(function(t){var n=t.getGroupScales();(0,O.S6)(n,(function(e){e.values&&e.values.indexOf(i)>-1&&t.filter(e.field,(function(t){return!(0,O.sE)(c,(function(e){return e.value===t})).unchecked}))})),e.render(!0)}))}}}))}return t}function fE(t){var e=t.chart,n=t.options.slider,r=Ky(e,HT),i=Ky(e,VT);return n&&(r.option("slider",n),r.on("slider:valuechanged",(function(t){var e=t.event,n=e.value,r=e.originValue;(0,O.Xy)(n,r)||JT(i,n)})),e.once("afterpaint",(function(){if(!(0,O.jn)(n)){var t=n.start,e=n.end;(t||e)&&JT(i,[t,e])}}))),t}function pE(t){return Ly(QT,tE,lE,eE,rE,iE,uE,aE,oE,sE,cE,nE,hE,fE)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dual-axes",e}py(e,t),e.prototype.getDefaultOptions=function(){return Py({},t.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},e.prototype.getSchemaAdaptor=function(){return pE}}(Ym);function dE(t){var e=t.chart,n=t.options,r=n.type,i=n.data,a=n.fields,o=n.eachView,s=(0,O.CE)(n,["type","data","fields","eachView","axes","meta","tooltip","coordinate","theme","legend","interactions","annotations"]);return e.data(i),e.facet(r,dy(dy({},s),{fields:a,eachView:function(t,e){var n=o(t,e);if(n.geometries)!function(t,e){var n=e.data,r=e.coordinate,i=e.interactions,a=e.annotations,o=e.animation,s=e.tooltip,l=e.axes,c=e.meta,u=e.geometries;n&&t.data(n);var h={};l&&(0,O.S6)(l,(function(t,e){h[e]=Sy(t,my)})),h=Py({},c,h),t.scale(h),r&&t.coordinate(r),!1===l?t.axis(!1):(0,O.S6)(l,(function(e,n){t.axis(n,e)})),(0,O.S6)(u,(function(e){var n=Lm({chart:t,options:e}).ext,r=e.adjust;r&&n.geometry.adjust(r)})),(0,O.S6)(i,(function(e){!1===e.enable?t.removeInteraction(e.type):t.interaction(e.type,e.cfg)})),(0,O.S6)(a,(function(e){t.annotation()[e.type](dy({},e))})),tm(t,o),s?(t.interaction("tooltip"),t.tooltip(s)):!1===s&&t.removeInteraction("tooltip")}(t,n);else{var r=n,i=r.options;i.tooltip&&t.interaction("tooltip"),kS(r.type,t,i)}}})),t}function gE(t){var e=t.chart,n=t.options,r=n.axes,i=n.meta,a=n.tooltip,o=n.coordinate,s=n.theme,l=n.legend,c=n.interactions,u=n.annotations,h={};return r&&(0,O.S6)(r,(function(t,e){h[e]=Sy(t,my)})),h=Py({},i,h),e.scale(h),e.coordinate(o),r?(0,O.S6)(r,(function(t,n){e.axis(n,t)})):e.axis(!1),a?(e.interaction("tooltip"),e.tooltip(a)):!1===a&&e.removeInteraction("tooltip"),e.legend(l),s&&e.theme(s),(0,O.S6)(c,(function(t){!1===t.enable?e.removeInteraction(t.type):e.interaction(t.type,t.cfg)})),(0,O.S6)(u,(function(t){e.annotation()[t.type](dy({},t))})),t}function vE(t){return Ly(xm,dE,gE)(t)}var yE={title:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},rowTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},columnTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}}};!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="area",e}py(e,t),e.getDefaultOptions=function(){return yE},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return vE}}(Ym);function mE(t){var e=t.chart,n=t.options,r=n.data,i=n.type,a=n.xField,o=n.yField,s=n.colorField,l=n.sizeField,c=n.sizeRatio,u=n.shape,h=n.color,f=n.tooltip,p=n.heatmapStyle,d=n.meta;e.data(r);var g="polygon";"density"===i&&(g="heatmap");var v=Im(f,[a,o,s]),y=v.fields,m=v.formatter,x=1;return(c||0===c)&&(u||l?c<0||c>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):x=c:console.warn("sizeRatio is not in effect: Must define shape or sizeField first")),Lm(Py({},t,{options:{type:g,colorField:s,tooltipFields:y,shapeField:l||"",label:void 0,mapping:{tooltip:m,shape:u&&(l?function(t){var e=r.map((function(t){return t[l]})),n=(null===d||void 0===d?void 0:d[l])||{},i=n.min,a=n.max;return i=(0,O.hj)(i)?i:Math.min.apply(Math,e),a=(0,O.hj)(a)?a:Math.max.apply(Math,e),[u,((0,O.U2)(t,l)-i)/(a-i),x]}:function(){return[u,1,x]}),color:h||s&&e.getTheme().sequenceColors.join("-"),style:p}}})),t}function xE(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,a=n.xField,o=n.yField;return Ly(Cm(((e={})[a]=r,e[o]=i,e)))(t)}function bE(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,a=n.xField,o=n.yField;return!1===r?e.axis(a,!1):e.axis(a,r),!1===i?e.axis(o,!1):e.axis(o,i),t}function wE(t){var e=t.chart,n=t.options,r=n.legend,i=n.colorField,a=n.sizeField,o=n.sizeLegend,s=!1!==r;return i&&e.legend(i,!!s&&r),a&&e.legend(a,void 0===o?r:o),s||o||e.legend(!1),t}function SE(t){var e=t.chart,n=t.options,r=n.label,i=n.colorField,a=Ry(e,"density"===n.type?"heatmap":"polygon");if(r){if(i){var o=r.callback,s=gy(r,["callback"]);a.label({fields:[i],callback:o,cfg:Ny(s)})}}else a.label(!1);return t}function CE(t){var e,n,r=t.chart,i=t.options,a=i.coordinate,o=i.reflect,s=Py({actions:[]},null!==a&&void 0!==a?a:{type:"rect"});return o&&(null===(n=null===(e=s.actions)||void 0===e?void 0:e.push)||void 0===n||n.call(e,["reflect",o])),r.coordinate(s),t}function TE(t){return Ly(xm,dm("heatmapStyle"),xE,CE,mE,bE,wE,vm,SE,Tm(),ym,mm,bm)(t)}var EE=Py({},Ym.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}});zl("polygon","circle",{draw:function(t,e){var n,r,i=t.x,a=t.y,o=this.parsePoints(t.points),s=Math.abs(o[2].x-o[1].x),l=Math.abs(o[1].y-o[0].y),c=Math.min(s,l)/2,u=Number(t.shape[1]),h=Number(t.shape[2]),f=c*Math.sqrt(h)*Math.sqrt(u),p=(null===(n=t.style)||void 0===n?void 0:n.fill)||t.color||(null===(r=t.defaultStyle)||void 0===r?void 0:r.fill);return e.addShape("circle",{attrs:dy(dy(dy({x:i,y:a,r:f},t.defaultStyle),t.style),{fill:p})})}}),zl("polygon","square",{draw:function(t,e){var n,r,i=t.x,a=t.y,o=this.parsePoints(t.points),s=Math.abs(o[2].x-o[1].x),l=Math.abs(o[1].y-o[0].y),c=Math.min(s,l),u=Number(t.shape[1]),h=Number(t.shape[2]),f=c*Math.sqrt(h)*Math.sqrt(u),p=(null===(n=t.style)||void 0===n?void 0:n.fill)||t.color||(null===(r=t.defaultStyle)||void 0===r?void 0:r.fill);return e.addShape("rect",{attrs:dy(dy(dy({x:i-f/2,y:a-f/2,width:f,height:f},t.defaultStyle),t.style),{fill:p})})}});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="heatmap",e}py(e,t),e.getDefaultOptions=function(){return EE},e.prototype.getSchemaAdaptor=function(){return TE},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()}}(Ym);var kE="liquid";function ME(t){return[{percent:t,type:kE}]}function AE(t){var e=t.chart,n=t.options,r=n.percent,i=n.liquidStyle,a=n.radius,o=n.outline,s=n.wave,l=n.shape,c=n.shapeStyle,u=n.animation;e.scale({percent:{min:0,max:1}}),e.data(ME(r));var h=n.color||e.getTheme().defaultColor,f=_m(Py({},t,{options:{xField:"type",yField:"percent",widthRatio:a,interval:{color:h,style:i,shape:"liquid-fill-gauge"}}})).ext.geometry,p={percent:r,radius:a,outline:o,wave:s,shape:l,shapeStyle:c,background:e.getTheme().background,animation:u};return f.customInfo(p),e.legend(!1),e.axis(!1),e.tooltip(!1),t}function OE(t,e){var n=t.chart,r=t.options,i=r.statistic,a=r.percent,o=r.meta;n.getController("annotation").clear(!0);var s=(0,O.U2)(o,["percent","formatter"])||function(t){return"".concat((100*t).toFixed(2),"%")},l=i.content;return l&&(l=Py({},l,{content:(0,O.UM)(l.content)?s(a):l.content})),$y(n,{statistic:dy(dy({},i),{content:l}),plotType:"liquid"},{percent:a}),e&&n.render(!0),t}function FE(t){return Ly(xm,dm("liquidStyle"),AE,OE,Cm({}),mm,ym)(t)}var IE={radius:.9,statistic:{title:!1,content:{style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"};function PE(t,e,n){return t+(e-t)*n}function DE(t,e,n,r){return 0===e?[[t+.5*n/Math.PI/2,r/2],[t+.5*n/Math.PI,r],[t+n/4,r]]:1===e?[[t+.5*n/Math.PI/2*(Math.PI-2),r],[t+.5*n/Math.PI/2*(Math.PI-1),r/2],[t+n/4,0]]:2===e?[[t+.5*n/Math.PI/2,-r/2],[t+.5*n/Math.PI,-r],[t+n/4,-r]]:[[t+.5*n/Math.PI/2*(Math.PI-2),-r],[t+.5*n/Math.PI/2*(Math.PI-1),-r/2],[t+n/4,0]]}function LE(t,e,n,r,i,a,o){for(var s=4*Math.ceil(2*t/n*4),l=[],c=r;c<2*-Math.PI;)c+=2*Math.PI;for(;c>0;)c-=2*Math.PI;var u=a-t+(c=c/Math.PI/2*n)-2*t;l.push(["M",u,e]);for(var h=0,f=0;f<s;++f){var p=DE(f*n/4,f%4,n,i);l.push(["C",p[0][0]+u,-p[0][1]+e,p[1][0]+u,-p[1][1]+e,p[2][0]+u,-p[2][1]+e]),f===s-1&&(h=p[2][0])}return l.push(["L",h+u,o+t]),l.push(["L",u,o+t]),l.push(["Z"]),l}var RE={pin:function(t,e,n,r){var i=2*n/3,a=Math.max(i,r),o=i/2,s=t,l=o+e-a/2,c=Math.asin(o/(.85*(a-o))),u=Math.sin(c)*o,h=Math.cos(c)*o,f=s-h,p=l+u,d=t,g=l+o/Math.sin(c);return"\n      M ".concat(f," ").concat(p,"\n      A ").concat(o," ").concat(o," 0 1 1 ").concat(f+2*h," ").concat(p,"\n      Q ").concat(d," ").concat(g," ").concat(t," ").concat(e+a/2,"\n      Q ").concat(d," ").concat(g," ").concat(f," ").concat(p,"\n      Z \n    ")},circle:function(t,e,n,r){var i=n/2,a=r/2;return"\n      M ".concat(t," ").concat(e-a," \n      a ").concat(i," ").concat(a," 0 1 0 0 ").concat(2*a,"\n      a ").concat(i," ").concat(a," 0 1 0 0 ").concat(2*-a,"\n      Z\n    ")},diamond:function(t,e,n,r){var i=r/2,a=n/2;return"\n      M ".concat(t," ").concat(e-i,"\n      L ").concat(t+a," ").concat(e,"\n      L ").concat(t," ").concat(e+i,"\n      L ").concat(t-a," ").concat(e,"\n      Z\n    ")},triangle:function(t,e,n,r){var i=r/2,a=n/2;return"\n      M ".concat(t," ").concat(e-i,"\n      L ").concat(t+a," ").concat(e+i,"\n      L ").concat(t-a," ").concat(e+i,"\n      Z\n    ")},rect:function(t,e,n,r){var i=r/2,a=n/2*.618;return"\n      M ".concat(t-a," ").concat(e-i,"\n      L ").concat(t+a," ").concat(e-i,"\n      L ").concat(t+a," ").concat(e+i,"\n      L ").concat(t-a," ").concat(e+i,"\n      Z\n    ")}};zl("interval","liquid-fill-gauge",{draw:function(t,e){var n=t.customInfo,r=n,i=r.percent,a=r.radius,o=r.shape,s=r.shapeStyle,l=r.background,c=r.animation,u=n.outline,h=n.wave,f=u.border,p=u.distance,d=h.count,g=h.length,v=(0,O.u4)(t.points,(function(t,e){return Math.min(t,e.x)}),1/0),y=this.parsePoint({x:.5,y:.5}),m=this.parsePoint({x:v,y:.5}),x=y.x-m.x,b=Math.min(x,m.y*a),w=function(t){var e=dy({opacity:1},t.style);return t.color&&!e.fill&&(e.fill=t.color),e}(t),S=function(t){var e=(0,O.CD)({},{fill:"#fff",fillOpacity:0,lineWidth:4},t.style);return t.color&&!e.stroke&&(e.stroke=t.color),(0,O.hj)(t.opacity)&&(e.opacity=e.strokeOpacity=t.opacity),e}((0,O.CD)({},t,u)),C=b-f/2,T=("function"===typeof o?o:RE[o]||RE.circle)(y.x,y.y,2*C,2*C);if(s&&e.addShape("path",{name:"shape",attrs:dy({path:T},s)}),i>0){var E=e.addGroup({name:"waves"}),k=E.setClip({type:"path",attrs:{path:T}});!function(t,e,n,r,i,a,o,s,l,c){for(var u=i.fill,h=i.opacity,f=o.getBBox(),p=f.maxX-f.minX,d=f.maxY-f.minY,g=0;g<r;g++){var v=r<=1?1:g/(r-1),y=a.addShape("path",{name:"waterwave-path",attrs:{path:LE(s,f.minY+d*n,l,0,p/32,t,e),fill:u,opacity:PE(.2,.9,v)*h}});try{if(!1===c)return;var m=ew([["t",l,0]]);y.stopAnimate(),y.animate({matrix:m},{duration:PE(2500,5e3,v),repeat:!0})}catch(x){console.warn("off-screen group animate error!")}}}(y.x,y.y,1-t.points[1].y,d,w,E,k,2*b,g,c)}return e.addShape("path",{name:"distance",attrs:{path:T,fill:"transparent",lineWidth:f+2*p,stroke:"transparent"===l?"#fff":l}}),e.addShape("path",{name:"wrap",attrs:(0,O.CD)(S,{path:T,fill:"transparent",lineWidth:f})}),e}});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="liquid",e}py(e,t),e.getDefaultOptions=function(){return IE},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(t){this.chart.emit(F.BEFORE_CHANGE_DATA,ll.fromData(this.chart,F.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(ME(t)),OE({chart:this.chart,options:this.options},!0),this.chart.emit(F.AFTER_CHANGE_DATA,ll.fromData(this.chart,F.AFTER_CHANGE_DATA,null))},e.prototype.getSchemaAdaptor=function(){return FE}}(Ym);function BE(t){var e=t.chart,n=t.options,r=n.data,i=n.lineStyle,a=n.color,o=n.point,s=n.area;e.data(r);var l=Py({},t,{options:{line:{style:i,color:a},point:o?dy({color:a},o):o,area:s?dy({color:a},s):s,label:void 0}}),c=Py({},l,{options:{tooltip:!1}}),u=(null===o||void 0===o?void 0:o.state)||n.state,h=Py({},l,{options:{tooltip:!1,state:u}});return Nm(l),Um(h),Rm(c),t}function _E(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,a=n.xField,o=n.yField;return Ly(Cm(((e={})[a]=r,e[o]=i,e)))(t)}function NE(t){var e=t.chart,n=t.options,r=n.radius,i=n.startAngle,a=n.endAngle;return e.coordinate("polar",{radius:r,startAngle:i,endAngle:a}),t}function UE(t){var e=t.chart,n=t.options,r=n.xField,i=n.xAxis,a=n.yField,o=n.yAxis;return e.axis(r,i),e.axis(a,o),t}function zE(t){var e=t.chart,n=t.options,r=n.label,i=n.yField,a=Ry(e,"line");if(r){var o=r.callback,s=gy(r,["callback"]);a.label({fields:[i],callback:o,cfg:Ny(s)})}else a.label(!1);return t}function HE(t){return Ly(BE,_E,xm,NE,UE,gm,vm,zE,ym,mm,Tm())(t)}var VE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return py(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),e.prototype.getTooltipItems=function(e){var n=this.getTooltipCfg(),r=n.shared,i=n.title,a=t.prototype.getTooltipItems.call(this,e);if(a.length>0){var o=this.view.geometries[0],s=o.dataArray,l=a[0].name,c=[];return s.forEach((function(t){t.forEach((function(t){var e=Tc.getTooltipItems(t,o)[0];if(!r&&e&&e.name===l){var n=(0,O.UM)(i)?l:i;c.push(dy(dy({},e),{name:e.title,title:n}))}else if(r&&e){n=(0,O.UM)(i)?e.name||l:i;c.push(dy(dy({},e),{name:e.title,title:n}))}}))})),c}return[]},e}(bl);il("radar-tooltip",VE);var GE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return py(e,t),e.prototype.init=function(){this.context.view.removeInteraction("tooltip")},e.prototype.show=function(){var t=this.context.event;this.getTooltipController().showTooltip({x:t.x,y:t.y})},e.prototype.hide=function(){this.getTooltipController().hideTooltip()},e.prototype.getTooltipController=function(){return this.context.view.getController("radar-tooltip")},e}(Ao);Do("radar-tooltip",GE),Os("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="radar",e}py(e,t),e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return Py({},t.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},e.prototype.getSchemaAdaptor=function(){return HE}}(Ym);function WE(t,e,n){var r=n.map((function(t){return t[e]})).filter((function(t){return void 0!==t})),i=r.length>0?Math.max.apply(Math,r):0,a=Math.abs(t)%360;return a?360*i/a:i}function YE(t){var e=t.chart,n=t.options,r=n.barStyle,i=n.color,a=n.tooltip,o=n.colorField,s=n.type,l=n.xField,c=n.yField,u=n.data,h=n.shape,f=Ey(u,c);return e.data(f),_m(Py({},t,{options:{tooltip:a,seriesField:o,interval:{style:r,color:i,shape:h||("line"===s?"line":"intervel")},minColumnWidth:n.minBarWidth,maxColumnWidth:n.maxBarWidth,columnBackground:n.barBackground}})),"line"===s&&Um({chart:e,options:{xField:l,yField:c,seriesField:o,point:{shape:"circle",color:i}}}),t}function jE(t){var e,n=t.options,r=n.yField,i=n.xField,a=n.data,o=n.isStack,s=n.isGroup,l=n.colorField,c=n.maxAngle,u=o&&!s&&l?function(t,e,n){var r=[];return t.forEach((function(t){var i=r.find((function(n){return n[e]===t[e]}));i?i[n]+=t[n]||null:r.push(dy({},t))})),r}(a,i,r):a,h=Ey(u,r);return Ly(Cm(((e={})[r]={min:0,max:WE(c,r,h)},e)))(t)}function XE(t){var e=t.chart,n=t.options,r=n.radius,i=n.innerRadius,a=n.startAngle,o=n.endAngle;return e.coordinate({type:"polar",cfg:{radius:r,innerRadius:i,startAngle:a,endAngle:o}}).transpose(),t}function $E(t){var e=t.chart,n=t.options,r=n.xField,i=n.xAxis;return e.axis(r,i),t}function qE(t){var e=t.chart,n=t.options,r=n.label,i=n.yField,a=Ry(e,"interval");if(r){var o=r.callback,s=gy(r,["callback"]);a.label({fields:[i],callback:o,cfg:dy(dy({},Ny(s)),{type:"polar"})})}else a.label(!1);return t}function ZE(t){return Ly(dm("barStyle"),YE,jE,$E,XE,ym,mm,xm,vm,gm,Tm(),qE)(t)}var KE=Py({},Ym.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="radial-bar",e}py(e,t),e.getDefaultOptions=function(){return KE},e.prototype.changeData=function(t){this.updateOption({data:t}),jE({chart:this.chart,options:this.options}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return ZE}}(Ym);function JE(t){var e=t.chart,n=t.options,r=n.data,i=n.sectorStyle,a=n.shape,o=n.color;return e.data(r),Ly(_m)(Py({},t,{options:{marginRatio:1,interval:{style:i,color:o,shape:a}}})),t}function QE(t){var e=t.chart,n=t.options,r=n.label,i=n.xField,a=Ry(e,"interval");if(!1===r)a.label(!1);else if((0,O.Kn)(r)){var o=r.callback,s=r.fields,l=gy(r,["callback","fields"]),c=l.offset,u=l.layout;(void 0===c||c>=0)&&(u=u?(0,O.kJ)(u)?u:[u]:[],l.layout=(0,O.hX)(u,(function(t){return"limit-in-shape"!==t.type})),l.layout.length||delete l.layout),a.label({fields:s||[i],callback:o,cfg:Ny(l)})}else wy(yy.WARN,null===r,"the label option must be an Object."),a.label({fields:[i]});return t}function tk(t){var e=t.chart,n=t.options,r=n.legend,i=n.seriesField;return!1===r?e.legend(!1):i&&e.legend(i,r),t}function ek(t){var e=t.chart,n=t.options,r=n.radius,i=n.innerRadius,a=n.startAngle,o=n.endAngle;return e.coordinate({type:"polar",cfg:{radius:r,innerRadius:i,startAngle:a,endAngle:o}}),t}function nk(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,a=n.xField,o=n.yField;return Ly(Cm(((e={})[a]=r,e[o]=i,e)))(t)}function rk(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,a=n.xField,o=n.yField;return r?e.axis(a,r):e.axis(a,!1),i?e.axis(o,i):e.axis(o,!1),t}function ik(t){Ly(dm("sectorStyle"),JE,nk,QE,ek,rk,tk,vm,ym,mm,xm,Tm(),bm)(t)}var ak=Py({},Ym.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right",radio:{}},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]}),ok=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rose",e}py(e,t),e.getDefaultOptions=function(){return ak},e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return ik}}(Ym),"x"),sk="y",lk="name",ck="nodes",uk="edges";function hk(t,e,n){if(!(0,O.kJ)(t))return[];var r=[],i=function(t,e,n){var r=[];return t.forEach((function(t){var i=t[e],a=t[n];r.includes(i)||r.push(i),r.includes(a)||r.push(a)})),r}(t,e,n),a=function(t,e,n,r){var i={};return e.forEach((function(t){i[t]={},e.forEach((function(e){i[t][e]=0}))})),t.forEach((function(t){i[t[n]][t[r]]=1})),i}(t,i,e,n),o={};function s(t){o[t]=1,i.forEach((function(e){if(0!=a[t][e])if(1==o[e])r.push("".concat(t,"_").concat(e));else{if(-1==o[e])return;s(e)}})),o[t]=-1}return i.forEach((function(t){o[t]=0})),i.forEach((function(t){-1!=o[t]&&s(t)})),0!==r.length&&console.warn("sankey data contains circle, ".concat(r.length," records removed."),r),t.filter((function(t){return r.findIndex((function(r){return r==="".concat(t[e],"_").concat(t[n])}))<0}))}function fk(t){return t.target.depth}function pk(t,e){return t.sourceLinks.length?t.depth:e-1}function dk(t){return function(){return t}}function gk(t,e){for(var n=0,r=0;r<t.length;r++)n+=e(t[r]);return n}function vk(t,e){for(var n=-1/0,r=0;r<t.length;r++)n=Math.max(e(t[r]),n);return n}function yk(t,e){return xk(t.source,e.source)||t.index-e.index}function mk(t,e){return xk(t.target,e.target)||t.index-e.index}function xk(t,e){return t.y0-e.y0}function bk(t){return t.value}function wk(t){return t.index}function Sk(t){return t.nodes}function Ck(t){return t.links}function Tk(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function Ek(t){for(var e=0,n=t.nodes;e<n.length;e++){for(var r=n[e],i=r.y0,a=i,o=0,s=r.sourceLinks;o<s.length;o++){(u=s[o]).y0=i+u.width/2,i+=u.width}for(var l=0,c=r.targetLinks;l<c.length;l++){var u;(u=c[l]).y1=a+u.width/2,a+=u.width}}}function kk(){var t,e,n,r,i=0,a=0,o=1,s=1,l=24,c=8,u=wk,h=pk,f=Sk,p=Ck,d=6;function g(g){var m={nodes:f(g),links:p(g)};return function(t){var e=t.nodes,n=t.links;e.forEach((function(t,e){t.index=e,t.sourceLinks=[],t.targetLinks=[]}));var i=new Map(e.map((function(t){return[u(t),t]})));if(n.forEach((function(t,e){t.index=e;var n=t.source,r=t.target;"object"!==typeof n&&(n=t.source=Tk(i,n)),"object"!==typeof r&&(r=t.target=Tk(i,r)),n.sourceLinks.push(t),r.targetLinks.push(t)})),null!=r)for(var a=0,o=e;a<o.length;a++){var s=o[a],l=s.sourceLinks,c=s.targetLinks;l.sort(r),c.sort(r)}}(m),function(t){for(var e=t.nodes,n=0,r=e;n<r.length;n++){var i=r[n];i.value=void 0===i.fixedValue?Math.max(gk(i.sourceLinks,bk),gk(i.targetLinks,bk)):i.fixedValue}}(m),function(t){var n=t.nodes,r=n.length,i=new Set(n),a=new Set,o=0;for(;i.size;){if(i.forEach((function(t){t.depth=o;for(var e=0,n=t.sourceLinks;e<n.length;e++){var r=n[e].target;a.add(r)}})),++o>r)throw new Error("circular link");i=a,a=new Set}if(e)for(var s=Math.max(vk(n,(function(t){return t.depth}))+1,0),l=void 0,c=0;c<n.length;c++)(l=n[c]).depth=e.call(null,l,s)}(m),function(t){var e=t.nodes,n=e.length,r=new Set(e),i=new Set,a=0;for(;r.size;){if(r.forEach((function(t){t.height=a;for(var e=0,n=t.targetLinks;e<n.length;e++){var r=n[e].source;i.add(r)}})),++a>n)throw new Error("circular link");r=i,i=new Set}}(m),function(e){var r=function(t){for(var e=t.nodes,r=Math.max(vk(e,(function(t){return t.depth}))+1,0),a=(o-i-l)/(r-1),s=new Array(r).fill(0).map((function(){return[]})),c=0,u=e;c<u.length;c++){var f=u[c],p=Math.max(0,Math.min(r-1,Math.floor(h.call(null,f,r))));f.layer=p,f.x0=i+p*a,f.x1=f.x0+l,s[p]?s[p].push(f):s[p]=[f]}if(n)for(var d=0,g=s;d<g.length;d++){g[d].sort(n)}return s}(e);t=Math.min(c,(s-a)/(vk(r,(function(t){return t.length}))-1)),function(e){for(var n=function(t,e){for(var n=1/0,r=0;r<t.length;r++)n=Math.min(e(t[r]),n);return n}(e,(function(e){return(s-a-(e.length-1)*t)/gk(e,bk)})),r=0,i=e;r<i.length;r++){for(var o=i[r],l=a,c=0,u=o;c<u.length;c++){(g=u[c]).y0=l,g.y1=l+g.value*n,l=g.y1+t;for(var h=0,f=g.sourceLinks;h<f.length;h++){var p=f[h];p.width=p.value*n}}l=(s-l+t)/(o.length+1);for(var d=0;d<o.length;++d){var g;(g=o[d]).y0+=l*(d+1),g.y1+=l*(d+1)}S(o)}}(r);for(var u=0;u<d;++u){var f=Math.pow(.99,u),p=Math.max(1-f,(u+1)/d);y(r,f,p),v(r,f,p)}}(m),Ek(m),m}function v(t,e,r){for(var i=1,a=t.length;i<a;++i){for(var o=t[i],s=0,l=o;s<l.length;s++){for(var c=l[s],u=0,h=0,f=0,p=c.targetLinks;f<p.length;f++){var d=p[f],g=d.source,v=d.value*(c.layer-g.layer);u+=C(g,c)*v,h+=v}if(h>0){var y=(u/h-c.y0)*e;c.y0+=y,c.y1+=y,w(c)}}void 0===n&&o.sort(xk),o.length&&m(o,r)}}function y(t,e,r){for(var i=t.length-2;i>=0;--i){for(var a=t[i],o=0,s=a;o<s.length;o++){for(var l=s[o],c=0,u=0,h=0,f=l.sourceLinks;h<f.length;h++){var p=f[h],d=p.target,g=p.value*(d.layer-l.layer);c+=T(l,d)*g,u+=g}if(u>0){var v=(c/u-l.y0)*e;l.y0+=v,l.y1+=v,w(l)}}void 0===n&&a.sort(xk),a.length&&m(a,r)}}function m(e,n){var r=e.length>>1,i=e[r];b(e,i.y0-t,r-1,n),x(e,i.y1+t,r+1,n),b(e,s,e.length-1,n),x(e,a,0,n)}function x(e,n,r,i){for(;r<e.length;++r){var a=e[r],o=(n-a.y0)*i;o>1e-6&&(a.y0+=o,a.y1+=o),n=a.y1+t}}function b(e,n,r,i){for(;r>=0;--r){var a=e[r],o=(a.y1-n)*i;o>1e-6&&(a.y0-=o,a.y1-=o),n=a.y0-t}}function w(t){var e=t.sourceLinks,n=t.targetLinks;if(void 0===r){for(var i=0,a=n;i<a.length;i++){a[i].source.sourceLinks.sort(mk)}for(var o=0,s=e;o<s.length;o++){s[o].target.targetLinks.sort(yk)}}}function S(t){if(void 0===r)for(var e=0,n=t;e<n.length;e++){var i=n[e],a=i.sourceLinks,o=i.targetLinks;a.sort(mk),o.sort(yk)}}function C(e,n){for(var r=e.y0-(e.sourceLinks.length-1)*t/2,i=0,a=e.sourceLinks;i<a.length;i++){var o=a[i],s=o.target,l=o.width;if(s===n)break;r+=l+t}for(var c=0,u=n.targetLinks;c<u.length;c++){var h=u[c];s=h.source,l=h.width;if(s===e)break;r-=l}return r}function T(e,n){for(var r=n.y0-(n.targetLinks.length-1)*t/2,i=0,a=n.targetLinks;i<a.length;i++){var o=a[i],s=o.source,l=o.width;if(s===e)break;r+=l+t}for(var c=0,u=e.sourceLinks;c<u.length;c++){var h=u[c];s=h.target,l=h.width;if(s===n)break;r-=l}return r}return g.update=function(t){return Ek(t),t},g.nodeId=function(t){return arguments.length?(u="function"===typeof t?t:dk(t),g):u},g.nodeAlign=function(t){return arguments.length?(h="function"===typeof t?t:dk(t),g):h},g.nodeDepth=function(t){return arguments.length?(e=t,g):e},g.nodeSort=function(t){return arguments.length?(n=t,g):n},g.nodeWidth=function(t){return arguments.length?(l=+t,g):l},g.nodePadding=function(e){return arguments.length?(c=t=+e,g):c},g.nodes=function(t){return arguments.length?(f="function"===typeof t?t:dk(t),g):f},g.links=function(t){return arguments.length?(p="function"===typeof t?t:dk(t),g):p},g.linkSort=function(t){return arguments.length?(r=t,g):r},g.size=function(t){return arguments.length?(i=a=0,o=+t[0],s=+t[1],g):[o-i,s-a]},g.extent=function(t){return arguments.length?(i=+t[0][0],o=+t[1][0],a=+t[0][1],s=+t[1][1],g):[[i,a],[o,s]]},g.iterations=function(t){return arguments.length?(d=+t,g):d},g}var Mk={left:function(t){return t.depth},right:function(t,e){return e-1-t.height},center:function(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?(0,O.F)(t.sourceLinks,fk)-1:0},justify:pk},Ak={nodeId:function(t){return t.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function Ok(t,e){var n=function(t){return(0,O.f0)({},Ak,t)}(t),r=n.nodeId,i=n.nodeSort,a=n.nodeAlign,o=n.nodeWidth,s=n.nodePadding,l=n.nodeDepth,c=kk().nodeSort(i).nodeWidth(o).nodePadding(s).nodeDepth(l).nodeAlign(function(t){return((0,O.HD)(t)?Mk[t]:(0,O.mf)(t)?t:null)||pk}(a)).extent([[0,0],[1,1]]).nodeId(r),u=c(e),h=u.nodes.map((function(t){var e=t.x0,n=t.x1,r=t.y0,i=t.y1;return t.x=[e,n,n,e],t.y=[r,r,i,i],t})).filter((function(t){return null!==t.name})),f=u.links.map((function(t){var e=t.source,n=t.target,r=e.x1,i=n.x0;t.x=[r,r,i,i];var a=t.width/2;return t.y=[t.y0+a,t.y0-a,t.y1+a,t.y1-a],t})).filter((function(t){var e=t.source,n=t.target;return null!==e.name&&null!==n.name}));return{nodes:h,links:f}}function Fk(t,e,n){return Uy(t)?t/n:e}function Ik(t,e,n){return Uy(t)?t/n:e}function Pk(t,e,n){var r,i=t.dataType,a=t.data,o=t.sourceField,s=t.targetField,l=t.weightField,c=t.nodeAlign,u=t.nodeSort,h=t.nodePadding,f=t.nodePaddingRatio,p=t.nodeWidth,d=t.nodeWidthRatio,g=t.nodeDepth,v=t.rawFields,y=void 0===v?[]:v;r=function(t){return"node-link"===t}(i)?a:Ty(hk(a,o,s),o,s,l,y);var m=Ok({nodeAlign:c,nodePadding:Ik(h,f,n),nodeWidth:Fk(p,d,e),nodeSort:u,nodeDepth:g},r),x=m.nodes,b=m.links;return{nodes:x.map((function(t){return dy(dy({},Sy(t,vy(["x","y","name"],y,!0))),{isNode:!0})})),edges:b.map((function(t){return dy(dy({source:t.source.name,target:t.target.name,name:t.source.name||t.target.name},Sy(t,vy(["x","y","value"],y,!0))),{isNode:!1})}))}}function Dk(t){var e=t.options.rawFields,n=void 0===e?[]:e;return Py({},{options:{tooltip:{fields:(0,O.jj)(vy(["name","source","target","value","isNode"],n,!0))},label:{fields:(0,O.jj)(vy(["x","name"],n,!0))}}},t)}function Lk(t){var e=t.chart,n=t.options,r=n.color,i=n.nodeStyle,a=n.edgeStyle,o=n.label,s=n.tooltip,l=n.nodeState,c=n.edgeState,u=n.rawFields,h=void 0===u?[]:u;e.legend(!1),e.tooltip(s),e.axis(!1),e.coordinate().reflect("y");var f=Pk(n,e.width,e.height),p=f.nodes,d=f.edges,g=e.createView({id:uk});g.data(d),Bm({chart:g,options:{xField:ok,yField:sk,seriesField:lk,rawFields:vy(["source","target"],h,!0),edge:{color:r,style:a,shape:"arc"},tooltip:s,state:c}});var v=e.createView({id:ck});return v.data(p),zm({chart:v,options:{xField:ok,yField:sk,seriesField:lk,polygon:{color:r,style:i},label:o,tooltip:s,state:l}}),e.interaction("element-active"),e.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color",type:"cat"}}),t}function Rk(t){var e=t.chart;return tm(e,t.options.animation,vy(vy([],e.views[0].geometries,!0),e.views[1].geometries,!0)),t}function Bk(t){var e=t.chart,n="sankey-node-draggable";return t.options.nodeDraggable?e.interaction(n):e.removeInteraction(n),t}function _k(t){var e=t.chart,n=t.options,r=n.interactions,i=void 0===r?[]:r,a=[].concat(i,n.nodeInteractions||[]),o=[].concat(i,n.edgeInteractions||[]),s=Ky(e,ck),l=Ky(e,uk);return a.forEach((function(t){!1===(null===t||void 0===t?void 0:t.enable)?s.removeInteraction(t.type):s.interaction(t.type,t.cfg||{})})),o.forEach((function(t){!1===(null===t||void 0===t?void 0:t.enable)?l.removeInteraction(t.type):l.interaction(t.type,t.cfg||{})})),t}function Nk(t){return Ly(Dk,Lk,_k,Bk,Rk,xm)(t)}var Uk=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDragging=!1,e}return py(e,t),e.prototype.isNodeElement=function(){var t=(0,O.U2)(this.context,"event.target");if(t){var e=t.get("element");return e&&e.getModel().data.isNode}return!1},e.prototype.getNodeView=function(){return Ky(this.context.view,ck)},e.prototype.getEdgeView=function(){return Ky(this.context.view,uk)},e.prototype.getCurrentDatumIdx=function(t){return this.getNodeView().geometries[0].elements.indexOf(t)},e.prototype.start=function(){if(this.isNodeElement()){this.prevPoint={x:(0,O.U2)(this.context,"event.x"),y:(0,O.U2)(this.context,"event.y")};var t=this.context.event.target.get("element"),e=this.getCurrentDatumIdx(t);if(-1===e)return;this.currentElementIdx=e,this.context.isDragging=!0,this.isDragging=!0,this.prevNodeAnimateCfg=this.getNodeView().getOptions().animate,this.prevEdgeAnimateCfg=this.getEdgeView().getOptions().animate,this.getNodeView().animate(!1),this.getEdgeView().animate(!1)}},e.prototype.translate=function(){if(this.isDragging){var t=this.context.view,e={x:(0,O.U2)(this.context,"event.x"),y:(0,O.U2)(this.context,"event.y")},n=e.x-this.prevPoint.x,r=e.y-this.prevPoint.y,i=this.getNodeView(),a=i.geometries[0].elements[this.currentElementIdx];if(a&&a.getModel()){var o=a.getModel().data,s=i.getOptions().data,l=i.getCoordinate(),c={x:n/l.getWidth(),y:r/l.getHeight()},u=dy(dy({},o),{x:o.x.map((function(t){return t+c.x})),y:o.y.map((function(t){return t+c.y}))}),h=vy([],s,!0);h[this.currentElementIdx]=u,i.data(h);var f=o.name,p=this.getEdgeView(),d=p.getOptions().data;d.forEach((function(t){t.source===f&&(t.x[0]+=c.x,t.x[1]+=c.x,t.y[0]+=c.y,t.y[1]+=c.y),t.target===f&&(t.x[2]+=c.x,t.x[3]+=c.x,t.y[2]+=c.y,t.y[3]+=c.y)})),p.data(d),this.prevPoint=e,t.render(!0)}}},e.prototype.end=function(){this.isDragging=!1,this.context.isDragging=!1,this.prevPoint=null,this.currentElementIdx=null,this.getNodeView().animate(this.prevNodeAnimateCfg),this.getEdgeView().animate(this.prevEdgeAnimateCfg)},e}(Ao);Do("sankey-node-drag",Uk),Os("sankey-node-draggable",{showEnable:[{trigger:"polygon:mouseenter",action:"cursor:pointer"},{trigger:"polygon:mouseleave",action:"cursor:default"}],start:[{trigger:"polygon:mousedown",action:"sankey-node-drag:start"}],processing:[{trigger:"plot:mousemove",action:"sankey-node-drag:translate"},{isEnable:function(t){return t.isDragging},trigger:"plot:mousemove",action:"cursor:move"}],end:[{trigger:"plot:mouseup",action:"sankey-node-drag:end"}]});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="sankey",e}py(e,t),e.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},edgeState:{active:{style:{opacity:.8,lineWidth:0}}},label:{formatter:function(t){return t.name},callback:function(t){var e=1===t[1];return{style:{fill:"#545454",textAlign:e?"end":"start"},offsetX:e?-8:8}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,showContent:function(t){return!(0,O.U2)(t,[0,"data","isNode"])},formatter:function(t){return{name:t.source+" -> "+t.target,value:t.value}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},e.prototype.changeData=function(t){this.updateOption({data:t});var e=Pk(this.options,this.chart.width,this.chart.height),n=e.nodes,r=e.edges,i=Ky(this.chart,ck),a=Ky(this.chart,uk);i.changeData(n),a.changeData(r)},e.prototype.getSchemaAdaptor=function(){return Nk},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()}}(Ym);var zk="ancestor-node",Hk="value",Vk="path",Gk=[Vk,xT,wT,bT,"name","depth","height"],Wk=Py({},Ym.getDefaultOptions(),{innerRadius:0,radius:.85,hierarchyConfig:{field:"value"},tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1},legend:!1,sunburstStyle:{lineWidth:.5,stroke:"#FFF"},drilldown:{enabled:!0}});function Yk(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function jk(t,e,n,r,i){for(var a,o=t.children,s=-1,l=o.length,c=t.value&&(r-e)/t.value;++s<l;)(a=o[s]).y0=n,a.y1=i,a.x0=e,a.x1=e+=a.value*c}function Xk(){var t=1,e=1,n=0,r=!1;function i(i){var a=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/a,i.eachBefore(function(t,e){return function(r){r.children&&jk(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,a=r.y0,o=r.x1-n,s=r.y1-n;o<i&&(i=o=(i+o)/2),s<a&&(a=s=(a+s)/2),r.x0=i,r.y0=a,r.x1=o,r.y1=s}}(e,a)),r&&i.eachBefore(Yk),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i}var $k={field:"value",size:[1,1],round:!1,padding:0,sort:function(t,e){return e.value-t.value},as:["x","y"],ignoreParentValue:!0};function qk(t,e){var n,r=(e=(0,O.f0)({},$k,e)).as;if(!(0,O.kJ)(r)||2!==r.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=CT(e)}catch(s){console.warn(s)}var i=function(t){return Xk().size(e.size).round(e.round).padding(e.padding)(pT(t).sum((function(t){return(0,O.dp)(t.children)?e.ignoreParentValue?0:t[n]-(0,O.u4)(t.children,(function(t,e){return t+e[n]}),0):t[n]})).sort(e.sort))}(t),a=r[0],o=r[1];return i.each((function(t){var e,n;t[a]=[t.x0,t.x1,t.x1,t.x0],t[o]=[t.y1,t.y1,t.y0,t.y0],t.name=t.name||(null===(e=t.data)||void 0===e?void 0:e.name)||(null===(n=t.data)||void 0===n?void 0:n.label),t.data.name=t.name,["x0","x1","y0","y1"].forEach((function(e){-1===r.indexOf(e)&&delete t[e]}))})),TT(i)}function Zk(t,e){return t.parent===e.parent?1:2}function Kk(t,e){return t+e.x}function Jk(t,e){return Math.max(t,e.y)}function Qk(){var t=Zk,e=1,n=1,r=!1;function i(i){var a,o=0;i.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(Kk,0)/t.length}(n),e.y=function(t){return 1+t.reduce(Jk,0)}(n)):(e.x=a?o+=t(e,a):0,e.y=0,a=e)}));var s=function(t){for(var e;e=t.children;)t=e[0];return t}(i),l=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),c=s.x-t(s,l)/2,u=l.x+t(l,s)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-c)/(u-c)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}var tM={depth:-1},eM={};function nM(t){return t.id}function rM(t){return t.parentId}function iM(){var t=nM,e=rM;function n(n){var r,i,a,o,s,l,c,u=Array.from(n),h=u.length,f=new Map;for(i=0;i<h;++i)r=u[i],s=u[i]=new mT(r),null!=(l=t(r,i,n))&&(l+="")&&(c=s.id=l,f.set(c,f.has(c)?eM:s)),null!=(l=e(r,i,n))&&(l+="")&&(s.parent=l);for(i=0;i<h;++i)if(l=(s=u[i]).parent){if(!(o=f.get(l)))throw new Error("missing: "+l);if(o===eM)throw new Error("ambiguous: "+l);o.children?o.children.push(s):o.children=[s],s.parent=o}else{if(a)throw new Error("multiple roots");a=s}if(!a)throw new Error("no root");if(a.parent=tM,a.eachBefore((function(t){t.depth=t.parent.depth+1,--h})).eachBefore(yT),a.parent=null,h>0)throw new Error("cycle");return a}return n.id=function(e){return arguments.length?(t=QC(e),n):t},n.parentId=function(t){return arguments.length?(e=QC(t),n):e},n}function aM(t,e){return t.parent===e.parent?1:2}function oM(t){var e=t.children;return e?e[0]:t.t}function sM(t){var e=t.children;return e?e[e.length-1]:t.t}function lM(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function cM(t,e,n){return t.a.parent===e.parent?t.a:n}function uM(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function hM(){var t=aM,e=1,n=1,r=null;function i(i){var l=function(t){for(var e,n,r,i,a,o=new uM(t,0),s=[o];e=s.pop();)if(r=e._.children)for(e.children=new Array(a=r.length),i=a-1;i>=0;--i)s.push(n=e.children[i]=new uM(r[i],i)),n.parent=e;return(o.parent=new uM(null,0)).children=[o],o}(i);if(l.eachAfter(a),l.parent.m=-l.z,l.eachBefore(o),r)i.eachBefore(s);else{var c=i,u=i,h=i;i.eachBefore((function(t){t.x<c.x&&(c=t),t.x>u.x&&(u=t),t.depth>h.depth&&(h=t)}));var f=c===u?1:t(c,u)/2,p=f-c.x,d=e/(u.x+f+p),g=n/(h.depth||1);i.eachBefore((function(t){t.x=(t.x+p)*d,t.y=t.depth*g}))}return i}function a(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,a=i.length;--a>=0;)(e=i[a]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var a=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-a):e.z=a}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,a=e,o=e,s=n,l=a.parent.children[0],c=a.m,u=o.m,h=s.m,f=l.m;s=sM(s),a=oM(a),s&&a;)l=oM(l),(o=sM(o)).a=e,(i=s.z+h-a.z-c+t(s._,a._))>0&&(lM(cM(s,e,r),e,i),c+=i,u+=i),h+=s.m,c+=a.m,f+=l.m,u+=o.m;s&&!sM(o)&&(o.t=s,o.m+=h-u),a&&!oM(l)&&(l.t=a,l.m+=c-f,r=e)}return r}(e,i,e.parent.A||r[0])}function o(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function fM(t,e,n,r,i){for(var a,o=t.children,s=-1,l=o.length,c=t.value&&(i-n)/t.value;++s<l;)(a=o[s]).x0=e,a.x1=r,a.y0=n,a.y1=n+=a.value*c}uM.prototype=Object.create(mT.prototype);var pM=(1+Math.sqrt(5))/2;function dM(t,e,n,r,i,a){for(var o,s,l,c,u,h,f,p,d,g,v,y=[],m=e.children,x=0,b=0,w=m.length,S=e.value;x<w;){l=i-n,c=a-r;do{u=m[b++].value}while(!u&&b<w);for(h=f=u,v=u*u*(g=Math.max(c/l,l/c)/(S*t)),d=Math.max(f/v,v/h);b<w;++b){if(u+=s=m[b].value,s<h&&(h=s),s>f&&(f=s),v=u*u*g,(p=Math.max(f/v,v/h))>d){u-=s;break}d=p}y.push(o={value:u,dice:l<c,children:m.slice(x,b)}),o.dice?jk(o,n,r,i,S?r+=c*u/S:a):fM(o,n,r,S?n+=l*u/S:i,a),S-=u,x=b}return y}var gM=function t(e){function n(t,n,r,i,a){dM(e,t,n,r,i,a)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(pM);function vM(){var t=gM,e=!1,n=1,r=1,i=[0],a=tT,o=tT,s=tT,l=tT,c=tT;function u(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(h),i=[0],e&&t.eachBefore(Yk),t}function h(e){var n=i[e.depth],r=e.x0+n,u=e.y0+n,h=e.x1-n,f=e.y1-n;h<r&&(r=h=(r+h)/2),f<u&&(u=f=(u+f)/2),e.x0=r,e.y0=u,e.x1=h,e.y1=f,e.children&&(n=i[e.depth+1]=a(e)/2,r+=c(e)-n,u+=o(e)-n,(h-=s(e)-n)<r&&(r=h=(r+h)/2),(f-=l(e)-n)<u&&(u=f=(u+f)/2),t(e,r,u,h,f))}return u.round=function(t){return arguments.length?(e=!!t,u):e},u.size=function(t){return arguments.length?(n=+t[0],r=+t[1],u):[n,r]},u.tile=function(e){return arguments.length?(t=QC(e),u):t},u.padding=function(t){return arguments.length?u.paddingInner(t).paddingOuter(t):u.paddingInner()},u.paddingInner=function(t){return arguments.length?(a="function"===typeof t?t:eT(+t),u):a},u.paddingOuter=function(t){return arguments.length?u.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):u.paddingTop()},u.paddingTop=function(t){return arguments.length?(o="function"===typeof t?t:eT(+t),u):o},u.paddingRight=function(t){return arguments.length?(s="function"===typeof t?t:eT(+t),u):s},u.paddingBottom=function(t){return arguments.length?(l="function"===typeof t?t:eT(+t),u):l},u.paddingLeft=function(t){return arguments.length?(c="function"===typeof t?t:eT(+t),u):c},u}function yM(t,e,n,r,i){var a,o,s=t.children,l=s.length,c=new Array(l+1);for(c[0]=o=a=0;a<l;++a)c[a+1]=o+=s[a].value;!function t(e,n,r,i,a,o,l){if(e>=n-1){var u=s[e];return u.x0=i,u.y0=a,u.x1=o,void(u.y1=l)}var h=c[e],f=r/2+h,p=e+1,d=n-1;for(;p<d;){var g=p+d>>>1;c[g]<f?p=g+1:d=g}f-c[p-1]<c[p]-f&&e+1<p&&--p;var v=c[p]-h,y=r-v;if(o-i>l-a){var m=r?(i*y+o*v)/r:o;t(e,p,v,i,a,m,l),t(p,n,y,m,a,o,l)}else{var x=r?(a*y+l*v)/r:l;t(e,p,v,i,a,o,x),t(p,n,y,i,x,o,l)}}(0,l,t.value,e,n,r,i)}function mM(t,e,n,r,i){(1&t.depth?fM:jk)(t,e,n,r,i)}var xM=function t(e){function n(t,n,r,i,a){if((o=t._squarify)&&o.ratio===e)for(var o,s,l,c,u,h=-1,f=o.length,p=t.value;++h<f;){for(l=(s=o[h]).children,c=s.value=0,u=l.length;c<u;++c)s.value+=l[c].value;s.dice?jk(s,n,r,i,p?r+=(a-r)*s.value/p:a):fM(s,n,r,p?n+=(i-n)*s.value/p:i,a),p-=s.value}else t._squarify=o=dM(e,t,n,r,i,a),o.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(pM),bM={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(t,e){return e.value-t.value},ratio:.5*(1+Math.sqrt(5))};function wM(t,e){var n,r=(e=(0,O.f0)({},bM,e)).as;if(!(0,O.kJ)(r)||2!==r.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=CT(e)}catch(u){console.warn(u)}var i,a,o=(i=e.tile,a=e.ratio,"treemapSquarify"===i?g[i].ratio(a):g[i]),s=function(t){return vM().tile(o).size(e.size).round(e.round).padding(e.padding).paddingInner(e.paddingInner).paddingOuter(e.paddingOuter).paddingTop(e.paddingTop).paddingRight(e.paddingRight).paddingBottom(e.paddingBottom).paddingLeft(e.paddingLeft)(pT(t).sum((function(t){return e.ignoreParentValue&&t.children?0:t[n]})).sort(e.sort))}(t),l=r[0],c=r[1];return s.each((function(t){t[l]=[t.x0,t.x1,t.x1,t.x0],t[c]=[t.y1,t.y1,t.y0,t.y0],["x0","x1","y0","y1"].forEach((function(e){-1===r.indexOf(e)&&delete t[e]}))})),TT(s)}function SM(t){var e=t.data,n=t.colorField,r=t.rawFields,i=t.hierarchyConfig,a=void 0===i?{}:i,o=a.activeDepth,s={partition:qk,treemap:wM},l=t.seriesField,c=t.type||"partition",u=s[c](e,dy(dy({field:l||"value"},(0,O.CE)(a,["activeDepth"])),{type:"hierarchy.".concat(c),as:["x","y"]})),h=[];return u.forEach((function(t){var e,i,s,c,u,f;if(0===t.depth)return null;if(o>0&&t.depth>o)return null;for(var p=t.data.name,d=dy({},t);d.depth>1;)p="".concat(null===(i=d.parent.data)||void 0===i?void 0:i.name," / ").concat(p),d=d.parent;var g=dy(dy(dy({},Sy(t.data,vy(vy([],r||[],!0),[a.field],!1))),((e={})[Vk]=p,e[zk]=d.data.name,e)),t);l&&(g[l]=t.data[l]||(null===(c=null===(s=t.parent)||void 0===s?void 0:s.data)||void 0===c?void 0:c[l])),n&&(g[n]=t.data[n]||(null===(f=null===(u=t.parent)||void 0===u?void 0:u.data)||void 0===f?void 0:f[n])),g.ext=a,g[_C]={hierarchyConfig:a,colorField:n,rawFields:r},h.push(g)})),h}function CM(t){var e,n=t.chart,r=t.options,i=r.color,a=r.colorField,o=void 0===a?zk:a,s=r.sunburstStyle,l=r.rawFields,c=void 0===l?[]:l,u=r.shape,h=SM(r);return n.data(h),s&&(e=function(t){return Py({},{fillOpacity:Math.pow(.85,t.depth)},(0,O.mf)(s)?s(t):s)}),zm(Py({},t,{options:{xField:"x",yField:"y",seriesField:o,rawFields:(0,O.jj)(vy(vy([],Gk,!0),c,!0)),polygon:{color:i,style:e,shape:u}}})),t}function TM(t){return t.chart.axis(!1),t}function EM(t){var e=t.chart,n=t.options.label,r=Ry(e,"polygon");if(n){var i=n.fields,a=void 0===i?["name"]:i,o=n.callback,s=gy(n,["fields","callback"]);r.label({fields:a,callback:o,cfg:Ny(s)})}else r.label(!1);return t}function kM(t){var e=t.chart,n=t.options,r=n.innerRadius,i=n.radius,a=n.reflect,o=e.coordinate({type:"polar",cfg:{innerRadius:r,radius:i}});return a&&o.reflect(a),t}function MM(t){var e,n=t.options,r=n.hierarchyConfig,i=n.meta;return Ly(Cm({},((e={})[Hk]=(0,O.U2)(i,(0,O.U2)(r,["field"],"value")),e)))(t)}function AM(t){var e=t.chart,n=t.options.tooltip;if(!1===n)e.tooltip(!1);else{var r=n;(0,O.U2)(n,"fields")||(r=Py({},{customItems:function(t){return t.map((function(t){var n=(0,O.U2)(e.getOptions(),"scales"),r=(0,O.U2)(n,[Vk,"formatter"],(function(t){return t})),i=(0,O.U2)(n,[Hk,"formatter"],(function(t){return t}));return dy(dy({},t),{name:r(t.data[Vk]),value:i(t.data.value)})}))}},r)),e.tooltip(r)}return t}function OM(t){var e=t.drilldown,n=t.interactions,r=void 0===n?[]:n;return(null===e||void 0===e?void 0:e.enabled)?Py({},t,{interactions:vy(vy([],r,!0),[{type:"drill-down",cfg:{drillDownConfig:e,transformData:SM}}],!1)}):t}function FM(t){var e=t.chart,n=t.options,r=n.drilldown;return ym({chart:e,options:OM(n)}),(null===r||void 0===r?void 0:r.enabled)&&(e.appendPadding=Hy(e.appendPadding,(0,O.U2)(r,["breadCrumb","position"]))),t}function IM(t){return Ly(xm,dm("sunburstStyle"),CM,TM,MM,gm,kM,AM,EM,FM,mm,Tm())(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="sunburst",e}py(e,t),e.getDefaultOptions=function(){return Wk},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return IM},e.SUNBURST_ANCESTOR_FIELD=zk,e.SUNBURST_PATH_FIELD=Vk,e.NODE_ANCESTORS_FIELD=wT}(Ym);function PM(t,e){if((0,O.kJ)(t))return t.find((function(t){return t.type===e}))}function DM(t,e){var n=PM(t,e);return n&&!1!==n.enable}function LM(t){var e=t.interactions,n=t.drilldown;return(0,O.U2)(n,"enabled")||DM(e,"treemap-drill-down")}function RM(t){var e=t.data,n=t.colorField,r=t.enableDrillDown,i=t.hierarchyConfig,a=wM(e,dy(dy({},i),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),o=[];return a.forEach((function(t){if(0===t.depth)return null;if(r&&1!==t.depth)return null;if(!r&&t.children)return null;var a=t.ancestors().map((function(t){return{data:t.data,height:t.height,value:t.value}})),s=r&&(0,O.kJ)(e.path)?a.concat(e.path.slice(1)):a,l=Object.assign({},t.data,dy({x:t.x,y:t.y,depth:t.depth,value:t.value,path:s},t));if(!t.data[n]&&t.parent){var c=t.ancestors().find((function(t){return t.data[n]}));l[n]=null===c||void 0===c?void 0:c.data[n]}else l[n]=t.data[n];l[_C]={hierarchyConfig:i,colorField:n,enableDrillDown:r},o.push(l)})),o}function BM(t){var e=t.options.colorField;return Py({options:{rawFields:["value"],tooltip:{fields:["name","value",e,"path"],formatter:function(t){return{name:t.name,value:t.value}}}}},t)}function _M(t){var e=t.chart,n=t.options,r=n.color,i=n.colorField,a=n.rectStyle,o=n.hierarchyConfig,s=n.rawFields,l=RM({data:n.data,colorField:n.colorField,enableDrillDown:LM(n),hierarchyConfig:o});return e.data(l),zm(Py({},t,{options:{xField:"x",yField:"y",seriesField:i,rawFields:s,polygon:{color:r,style:a}}})),e.coordinate().reflect("y"),t}function NM(t){return t.chart.axis(!1),t}function UM(t){var e=t.drilldown,n=t.interactions,r=void 0===n?[]:n;return LM(t)?Py({},t,{interactions:vy(vy([],r,!0),[{type:"drill-down",cfg:{drillDownConfig:e,transformData:RM}}],!1)}):t}function zM(t){var e=t.chart,n=t.options,r=n.interactions,i=n.drilldown;ym({chart:e,options:UM(n)});var a=PM(r,"view-zoom");return a&&(!1!==a.enable?e.getCanvas().on("mousewheel",(function(t){t.preventDefault()})):e.getCanvas().off("mousewheel")),LM(n)&&(e.appendPadding=Hy(e.appendPadding,(0,O.U2)(i,["breadCrumb","position"]))),t}function HM(t){return Ly(BM,xm,dm("rectStyle"),_M,NM,gm,vm,zM,mm,Tm())(t)}var VM={colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1,breadCrumb:{position:"bottom-left",rootText:"\u521d\u59cb",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}}}},GM=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="treemap",e}py(e,t),e.getDefaultOptions=function(){return VM},e.prototype.changeData=function(t){var e=this.options,n=e.colorField,r=e.interactions,i=e.hierarchyConfig;this.updateOption({data:t});var a=RM({data:t,colorField:n,enableDrillDown:DM(r,"treemap-drill-down"),hierarchyConfig:i});this.chart.changeData(a),function(t){var e=t.interactions["drill-down"];e&&e.context.actions.find((function(t){return"drill-down-action"===t.name})).reset()}(this.chart)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return HM}}(Ym),"id"),WM="path",YM={appendPadding:[10,0,20,0],blendMode:"multiply",tooltip:{showTitle:!1,showMarkers:!1,fields:["id","size"],formatter:function(t){return{name:t.id,value:t.size}}},legend:{position:"top-left"},label:{style:{textAlign:"center",fill:"#fff"}},interactions:[{type:"legend-filter",enable:!1}],state:{active:{style:{stroke:"#000"}},selected:{style:{stroke:"#000",lineWidth:2}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}}},defaultInteractions:["tooltip","venn-legend-active"]};function jM(t){t&&t.geometries[0].elements.forEach((function(t){t.shape.toFront()}))}var XM=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return py(e,t),e.prototype.syncElementsPos=function(){jM(this.context.view)},e.prototype.active=function(){t.prototype.active.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(Po("element-active")),$M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return py(e,t),e.prototype.syncElementsPos=function(){jM(this.context.view)},e.prototype.highlight=function(){t.prototype.highlight.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.clear=function(){t.prototype.clear.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(Po("element-highlight")),qM=Po("element-selected"),ZM=Po("element-single-selected"),KM=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return py(e,t),e.prototype.syncElementsPos=function(){jM(this.context.view)},e.prototype.selected=function(){t.prototype.selected.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(qM),JM=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return py(e,t),e.prototype.syncElementsPos=function(){jM(this.context.view)},e.prototype.selected=function(){t.prototype.selected.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(ZM);Do("venn-element-active",XM),Do("venn-element-highlight",$M),Do("venn-element-selected",KM),Do("venn-element-single-selected",JM),Os("venn-element-active",{start:[{trigger:"element:mouseenter",action:"venn-element-active:active"}],end:[{trigger:"element:mouseleave",action:"venn-element-active:reset"}]}),Os("venn-element-highlight",{start:[{trigger:"element:mouseenter",action:"venn-element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"venn-element-highlight:reset"}]}),Os("venn-element-selected",{start:[{trigger:"element:click",action:"venn-element-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-selected:reset"]}]}),Os("venn-element-single-selected",{start:[{trigger:"element:click",action:"venn-element-single-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-single-selected:reset"]}]}),Os("venn-legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","venn-element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","venn-element-active:reset"]}]}),Os("venn-legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","venn-element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","venn-element-highlight:reset"]}]});var QM=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return py(e,t),e.prototype.getLabelPoint=function(t,e,n){var r=t.data,i=r.x,a=r.y,o=t.customLabelInfo,s=o.offsetX,l=o.offsetY;return{content:t.content[n],x:i+s,y:a+l}},e}(ic);Ll("venn",QM);var tA=Array.isArray,eA="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",nA=new RegExp("([a-z])["+eA+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+eA+"]*,?["+eA+"]*)+)","ig"),rA=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+eA+"]*,?["+eA+"]*","ig");Math.PI;zl("schema","venn",{draw:function(t,e){var n=function(t){if(!t)return null;if(tA(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(nA,(function(t,r,i){var a=[],o=r.toLowerCase();if(i.replace(rA,(function(t,e){e&&a.push(+e)})),"m"===o&&a.length>2&&(n.push([r].concat(a.splice(0,2))),o="l",r="m"===r?"l":"L"),"o"===o&&1===a.length&&n.push([r,a[0]]),"r"===o)n.push([r].concat(a));else for(;a.length>=e[o]&&(n.push([r].concat(a.splice(0,e[o]))),e[o]););return""})),n}(t.data[WM]),r=function(t){return Py({},t.defaultStyle,{fill:t.color},t.style)}(t),i=e.addGroup({name:"venn-shape"});i.addShape("path",{attrs:dy(dy({},r),{path:n}),name:"venn-path"});var a=t.customInfo,o=a.offsetX,s=a.offsetY,l=Tc.transform(null,[["t",o,s]]);return i.setMatrix(l),i},getMarker:function(t){var e=t.color;return{symbol:"circle",style:{lineWidth:0,stroke:e,fill:e,r:4}}}});var iA={normal:function(t){return t},multiply:function(t,e){return t*e/255},screen:function(t,e){return 255*(1-(1-t/255)*(1-e/255))},overlay:function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},darken:function(t,e){return t>e?e:t},lighten:function(t,e){return t>e?t:e},dodge:function(t,e){return 255===t||(t=e/255*255/(1-t/255))>255?255:t},burn:function(t,e){return 255===e?255:0===t?0:255*(1-Math.min(1,(1-e/255)/(t/255)))}};function aA(t,e,n){void 0===n&&(n="normal");var r,i=(r=function(t){if(!iA[t])throw new Error("unknown blend mode "+t);return iA[t]}(n),function(t,e){var n=[];return n[0]=r(t[0],e[0]),n[1]=r(t[1],e[1]),n[2]=r(t[2],e[2]),n})(oA(t),oA(e)),a=oA(t),o=a[0],s=a[1],l=a[2],c=a[3],u=oA(e),h=u[0],f=u[1],p=u[2],d=u[3],g=Number((c+d*(1-c)).toFixed(2)),v=Math.round((c*(1-d)*(o/255)+c*d*(i[0]/255)+(1-c)*d*(h/255))/g*255),y=Math.round((c*(1-d)*(s/255)+c*d*(i[1]/255)+(1-c)*d*(f/255))/g*255),m=Math.round((c*(1-d)*(l/255)+c*d*(i[2]/255)+(1-c)*d*(p/255))/g*255);return"rgba(".concat(v,", ").concat(y,", ").concat(m,", ").concat(g,")")}function oA(t){var e,n=t.replace("/s+/g","");return"string"!==typeof n||n.startsWith("rgba")||n.startsWith("#")?(n.startsWith("rgba")&&(e=n.replace("rgba(","").replace(")","").split(",")),n.startsWith("#")&&(e=It.rgb2arr(n).concat([1])),e.map((function(t,e){return 3===e?Number(t):0|t}))):It.rgb2arr(It.toRGB(n)).concat([1])}var sA=n(9698),lA=1e-10;function cA(t,e){var n,r=function(t){for(var e=[],n=0;n<t.length;++n)for(var r=n+1;r<t.length;++r)for(var i=pA(t[n],t[r]),a=0;a<i.length;++a){var o=i[a];o.parentIndex=[n,r],e.push(o)}return e}(t),i=r.filter((function(e){return function(t,e){for(var n=0;n<e.length;++n)if(hA(t,e[n])>e[n].radius+lA)return!1;return!0}(e,t)})),a=0,o=0,s=[];if(i.length>1){var l=dA(i);for(n=0;n<i.length;++n){var c=i[n];c.angle=Math.atan2(c.x-l.x,c.y-l.y)}i.sort((function(t,e){return e.angle-t.angle}));var u=i[i.length-1];for(n=0;n<i.length;++n){var h=i[n];o+=(u.x+h.x)*(h.y-u.y);for(var f={x:(h.x+u.x)/2,y:(h.y+u.y)/2},p=null,d=0;d<h.parentIndex.length;++d)if(u.parentIndex.indexOf(h.parentIndex[d])>-1){var g=t[h.parentIndex[d]],v=Math.atan2(h.x-g.x,h.y-g.y),y=Math.atan2(u.x-g.x,u.y-g.y),m=y-v;m<0&&(m+=2*Math.PI);var x=y-m/2,b=hA(f,{x:g.x+g.radius*Math.sin(x),y:g.y+g.radius*Math.cos(x)});b>2*g.radius&&(b=2*g.radius),(null===p||p.width>b)&&(p={circle:g,width:b,p1:h,p2:u})}null!==p&&(s.push(p),a+=uA(p.circle.radius,p.width),u=h)}}else{var w=t[0];for(n=1;n<t.length;++n)t[n].radius<w.radius&&(w=t[n]);var S=!1;for(n=0;n<t.length;++n)if(hA(t[n],w)>Math.abs(w.radius-t[n].radius)){S=!0;break}S?a=o=0:(a=w.radius*w.radius*Math.PI,s.push({circle:w,p1:{x:w.x,y:w.y+w.radius},p2:{x:w.x-lA,y:w.y+w.radius},width:2*w.radius}))}return o/=2,e&&(e.area=a+o,e.arcArea=a,e.polygonArea=o,e.arcs=s,e.innerPoints=i,e.intersectionPoints=r),a+o}function uA(t,e){return t*t*Math.acos(1-e/t)-(t-e)*Math.sqrt(e*(2*t-e))}function hA(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function fA(t,e,n){if(n>=t+e)return 0;if(n<=Math.abs(t-e))return Math.PI*Math.min(t,e)*Math.min(t,e);var r=e-(n*n-t*t+e*e)/(2*n);return uA(t,t-(n*n-e*e+t*t)/(2*n))+uA(e,r)}function pA(t,e){var n=hA(t,e),r=t.radius,i=e.radius;if(n>=r+i||n<=Math.abs(r-i))return[];var a=(r*r-i*i+n*n)/(2*n),o=Math.sqrt(r*r-a*a),s=t.x+a*(e.x-t.x)/n,l=t.y+a*(e.y-t.y)/n,c=-(e.y-t.y)*(o/n),u=-(e.x-t.x)*(o/n);return[{x:s+c,y:l-u},{x:s-c,y:l+u}]}function dA(t){for(var e={x:0,y:0},n=0;n<t.length;++n)e.x+=t[n].x,e.y+=t[n].y;return e.x/=t.length,e.y/=t.length,e}function gA(t,e,n){var r,i,a=e[0].radius-hA(e[0],t);for(r=1;r<e.length;++r)(i=e[r].radius-hA(e[r],t))<=a&&(a=i);for(r=0;r<n.length;++r)(i=hA(n[r],t)-n[r].radius)<=a&&(a=i);return a}function vA(t,e){var n,r=[];for(n=0;n<t.length;++n){var i=t[n];r.push({x:i.x,y:i.y}),r.push({x:i.x+i.radius/2,y:i.y}),r.push({x:i.x-i.radius/2,y:i.y}),r.push({x:i.x,y:i.y+i.radius/2}),r.push({x:i.x,y:i.y-i.radius/2})}var a=r[0],o=gA(r[0],t,e);for(n=1;n<r.length;++n){var s=gA(r[n],t,e);s>=o&&(a=r[n],o=s)}var l=(0,sA.nelderMead)((function(n){return-1*gA({x:n[0],y:n[1]},t,e)}),[a.x,a.y],{maxIterations:500,minErrorDelta:1e-10}).x,c={x:l[0],y:l[1]},u=!0;for(n=0;n<t.length;++n)if(hA(c,t[n])>t[n].radius){u=!1;break}for(n=0;n<e.length;++n)if(hA(c,e[n])<e[n].radius){u=!1;break}if(!u)if(1==t.length)c={x:t[0].x,y:t[0].y};else{var h={};cA(t,h),c=0===h.arcs.length?{x:0,y:-1e3,disjoint:!0}:1==h.arcs.length?{x:h.arcs[0].circle.x,y:h.arcs[0].circle.y}:e.length?vA(t,[]):dA(h.arcs.map((function(t){return t.p1})))}return c}function yA(t,e){for(var n={},r=function(t){var e={},n=[];for(var r in t)n.push(r),e[r]=[];for(var i=0;i<n.length;i++)for(var a=t[n[i]],o=i+1;o<n.length;++o){var s=t[n[o]],l=hA(a,s);l+s.radius<=a.radius+1e-10?e[n[o]].push(n[i]):l+a.radius<=s.radius+1e-10&&e[n[i]].push(n[o])}return e}(t),i=0;i<e.length;++i){for(var a=e[i].sets,o={},s={},l=0;l<a.length;++l){o[a[l]]=!0;for(var c=r[a[l]],u=0;u<c.length;++u)s[c[u]]=!0}var h=[],f=[];for(var p in t)p in o?h.push(t[p]):p in s||f.push(t[p]);var d=vA(h,f);n[a]=d,d.disjoint&&e[i].size>0&&console.log("WARNING: area "+a+" not represented on screen")}return n}var mA=1e-10;function xA(t,e,n){return Math.min(t,e)*Math.min(t,e)*Math.PI<=n+mA?Math.abs(t-e):(0,sA.bisect)((function(r){return fA(t,e,r)-n}),0,t+e)}function bA(t,e){var n=function(t,e){for(var n,r=e&&e.lossFunction?e.lossFunction:wA,i={},a={},o=0;o<t.length;++o){var s=t[o];1==s.sets.length&&(n=s.sets[0],i[n]={x:1e10,y:1e10,rowid:Object.keys(i).length,size:s.size,radius:Math.sqrt(s.size/Math.PI)},a[n]=[])}t=t.filter((function(t){return 2==t.sets.length}));for(o=0;o<t.length;++o){var l=t[o],c=l.hasOwnProperty("weight")?l.weight:1,u=l.sets[0],h=l.sets[1];l.size+mA>=Math.min(i[u].size,i[h].size)&&(c=0),a[u].push({set:h,size:l.size,weight:c}),a[h].push({set:u,size:l.size,weight:c})}var f=[];for(n in a)if(a.hasOwnProperty(n)){var p=0;for(o=0;o<a[n].length;++o)p+=a[n][o].size*a[n][o].weight;f.push({set:n,size:p})}function d(t,e){return e.size-t.size}f.sort(d);var g={};function v(t){return t.set in g}function y(t,e){i[e].x=t.x,i[e].y=t.y,g[e]=!0}y({x:0,y:0},f[0].set);for(o=1;o<f.length;++o){var m=f[o].set,x=a[m].filter(v);if(n=i[m],x.sort(d),0===x.length)throw"ERROR: missing pairwise overlap information";for(var b=[],w=0;w<x.length;++w){var S=i[x[w].set],C=xA(n.radius,S.radius,x[w].size);b.push({x:S.x+C,y:S.y}),b.push({x:S.x-C,y:S.y}),b.push({y:S.y+C,x:S.x}),b.push({y:S.y-C,x:S.x});for(var T=w+1;T<x.length;++T)for(var E=i[x[T].set],k=xA(n.radius,E.radius,x[T].size),M=pA({x:S.x,y:S.y,radius:C},{x:E.x,y:E.y,radius:k}),A=0;A<M.length;++A)b.push(M[A])}var O=1e50,F=b[0];for(w=0;w<b.length;++w){i[m].x=b[w].x,i[m].y=b[w].y;var I=r(i,t);I<O&&(O=I,F=b[w])}y(F,m)}return i}(t,e),r=e.lossFunction||wA;if(t.length>=8){var i=function(t,e){e=e||{};var n,r=e.restarts||10,i=[],a={};for(n=0;n<t.length;++n){var o=t[n];1==o.sets.length&&(a[o.sets[0]]=i.length,i.push(o))}var s=function(t,e,n){var r=(0,sA.zerosM)(e.length,e.length),i=(0,sA.zerosM)(e.length,e.length);return t.filter((function(t){return 2==t.sets.length})).map((function(t){var a=n[t.sets[0]],o=n[t.sets[1]],s=xA(Math.sqrt(e[a].size/Math.PI),Math.sqrt(e[o].size/Math.PI),t.size);r[a][o]=r[o][a]=s;var l=0;t.size+1e-10>=Math.min(e[a].size,e[o].size)?l=1:t.size<=1e-10&&(l=-1),i[a][o]=i[o][a]=l})),{distances:r,constraints:i}}(t,i,a),l=s.distances,c=s.constraints,u=(0,sA.norm2)(l.map(sA.norm2))/l.length;l=l.map((function(t){return t.map((function(t){return t/u}))}));var h,f,p=function(t,e){return function(t,e,n,r){var i,a=0;for(i=0;i<e.length;++i)e[i]=0;for(i=0;i<n.length;++i)for(var o=t[2*i],s=t[2*i+1],l=i+1;l<n.length;++l){var c=t[2*l],u=t[2*l+1],h=n[i][l],f=r[i][l],p=(c-o)*(c-o)+(u-s)*(u-s),d=Math.sqrt(p),g=p-h*h;f>0&&d<=h||f<0&&d>=h||(a+=2*g*g,e[2*i]+=4*g*(o-c),e[2*i+1]+=4*g*(s-u),e[2*l]+=4*g*(c-o),e[2*l+1]+=4*g*(u-s))}return a}(t,e,l,c)};for(n=0;n<r;++n){var d=(0,sA.zeros)(2*l.length).map(Math.random);f=(0,sA.conjugateGradient)(p,d,e),(!h||f.fx<h.fx)&&(h=f)}var g=h.x,v={};for(n=0;n<i.length;++n){var y=i[n];v[y.sets[0]]={x:g[2*n]*u,y:g[2*n+1]*u,radius:Math.sqrt(y.size/Math.PI)}}if(e.history)for(n=0;n<e.history.length;++n)(0,sA.scale)(e.history[n].x,u);return v}(t,e);r(i,t)+1e-8<r(n,t)&&(n=i)}return n}function wA(t,e){var n=0;for(var r=0;r<e.length;++r){var i=e[r],a=void 0;if(1!=i.sets.length){if(2==i.sets.length){var o=t[i.sets[0]],s=t[i.sets[1]];a=fA(o.radius,s.radius,hA(o,s))}else a=cA(i.sets.map((function(e){return t[e]})));n+=(i.hasOwnProperty("weight")?i.weight:1)*(a-i.size)*(a-i.size)}}return n}function SA(t){var e=function(e){return{max:Math.max.apply(null,t.map((function(t){return t[e]+t.radius}))),min:Math.min.apply(null,t.map((function(t){return t[e]-t.radius})))}};return{xRange:e("x"),yRange:e("y")}}var CA=(0,O.HP)((function(t,e,n,r){var i=new Map,a=t.length;return e.forEach((function(e,o){if(1===e[r].length)i.set(e[GM],t[(o+a)%a]);else{var s=e[r].map((function(t){return i.get(t)}));i.set(e[GM],s.slice(1).reduce((function(t,e){return aA(t,e,n)}),s[0]))}})),i}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return JSON.stringify(t)}));function TA(t,e,n,r){void 0===r&&(r=0);var i=t.data,a=t.setsField,o=t.sizeField;if(0===i.length)return wy(yy.WARN,!1,"warn: %s","\u6570\u636e\u4e0d\u80fd\u4e3a\u7a7a"),[];var s=i.map((function(t){var e;return dy(dy({},t),((e={sets:t[a]||[],size:t[o]})[WM]="",e[GM]="",e))}));s.sort((function(t,e){return t.sets.length-e.sets.length}));var l=function(t,e){(e=e||{}).maxIterations=e.maxIterations||500;var n=e.initialLayout||bA,r=e.lossFunction||wA;t=function(t){t=t.slice();var e,n,r,i,a=[],o={};for(e=0;e<t.length;++e){var s=t[e];1==s.sets.length?a.push(s.sets[0]):2==s.sets.length&&(o[[r=s.sets[0],i=s.sets[1]]]=!0,o[[i,r]]=!0)}for(a.sort((function(t,e){return t>e?1:-1})),e=0;e<a.length;++e)for(r=a[e],n=e+1;n<a.length;++n)[r,i=a[n]]in o||t.push({sets:[r,i],size:0});return t}(t);var i,a=n(t,e),o=[],s=[];for(i in a)a.hasOwnProperty(i)&&(o.push(a[i].x),o.push(a[i].y),s.push(i));for(var l=(0,sA.nelderMead)((function(e){for(var n={},i=0;i<s.length;++i){var o=s[i];n[o]={x:e[2*i],y:e[2*i+1],radius:a[o].radius}}return r(n,t)}),o,e),c=l.x,u=0;u<s.length;++u)i=s[u],a[i].x=c[2*u],a[i].y=c[2*u+1];return a}(s),c=function(t,e,n,r){var i=[],a=[];for(var o in t)t.hasOwnProperty(o)&&(a.push(o),i.push(t[o]));e-=2*r,n-=2*r;var s=SA(i),l=s.xRange,c=s.yRange;if(l.max==l.min||c.max==c.min)return console.log("not scaling solution: zero size detected"),t;for(var u=e/(l.max-l.min),h=n/(c.max-c.min),f=Math.min(h,u),p=(e-(l.max-l.min)*f)/2,d=(n-(c.max-c.min)*f)/2,g={},v=0;v<i.length;++v){var y=i[v];g[a[v]]={radius:f*y.radius,x:r+p+(y.x-l.min)*f,y:r+d+(y.y-c.min)*f}}return g}(l,e,n,r),u=yA(c,s);return s.forEach((function(t){var e=t.sets,n=e.join(",");t[GM]=n;var r=e.map((function(t){return c[t]})),i=function(t){var e={};cA(t,e);var n=e.arcs;if(0===n.length)return"M 0 0";if(1==n.length){var r=n[0].circle;return function(t,e,n){var r=[],i=t-n,a=e;return r.push("M",i,a),r.push("A",n,n,0,1,0,i+2*n,a),r.push("A",n,n,0,1,0,i,a),r.join(" ")}(r.x,r.y,r.radius)}for(var i=["\nM",n[0].p2.x,n[0].p2.y],a=0;a<n.length;++a){var o=n[a],s=o.circle.radius,l=o.width>s;i.push("\nA",s,s,0,l?1:0,1,o.p1.x,o.p1.y)}return i.join(" ")}(r);/[zZ]$/.test(i)||(i+=" Z"),t[WM]=i;var a=u[n]||{x:0,y:0};(0,O.f0)(t,a)})),s}var EA=40;function kA(t,e,n){var r=t.chart,i=t.options,a=i.blendMode,o=i.setsField,s=r.getTheme(),l=s.colors10,c=s.colors20,u=n;(0,O.kJ)(u)||(u=e.filter((function(t){return 1===t[o].length})).length<=10?l:c);var h=CA(u,e,a,o);return function(t){return h.get(t)||u[0]}}function MA(t){var e=t.chart,n=t.options,r=n.legend,i=n.appendPadding,a=n.padding,o=zy(i);return!1!==r&&(o=Hy(i,(0,O.U2)(r,"position"),EA)),e.appendPadding=Vy([o,a]),t}function AA(t){var e=t.options.data;e||(wy(yy.WARN,!1,"warn: %s","\u6570\u636e\u4e0d\u80fd\u4e3a\u7a7a"),e=[]);var n=e.filter((function(t){return 1===t.sets.length})).map((function(t){return t.sets[0]})),r=e.filter((function(t){var e=t.sets;return function(t,e){for(var n=0;n<e.length;n++)if(!t.includes(e[n]))return!1;return!0}(n,e)}));return(0,O.Xy)(r,e)||wy(yy.WARN,!1,"warn: %s","\u4ea4\u96c6\u4e2d\u4e0d\u80fd\u51fa\u73b0\u4e0d\u5b58\u5728\u7684\u96c6\u5408, \u8bf7\u8f93\u5165\u5408\u6cd5\u6570\u636e"),(0,O.b$)({},t,{options:{data:r}})}function OA(t){var e=t.chart,n=t.options,r=n.pointStyle,i=n.setsField,a=n.sizeField,o=zy(e.appendPadding),s=o[0],l=o[1],c=o[2],u=o[3],h={offsetX:u,offsetY:s},f=e.viewBBox,p=f.width,d=f.height,g=TA(n,Math.max(p-(l+u),0),Math.max(d-(s+c),0),0);e.data(g);var v=Hm(Py({},t,{options:{xField:"x",yField:"y",sizeField:a,seriesField:GM,rawFields:[i,a],schema:{shape:"venn",style:r}}})).ext.geometry;v.customInfo(h);var y=function(t,e){var n=t.options.color;if("function"!==typeof n){var r=kA(t,e,"string"===typeof n?[n]:n);return function(t){return r(t[GM])}}return n}(t,g);return"function"===typeof y&&v.color(GM,(function(e){var n=g.find((function(t){return t[GM]===e})),r=kA(t,g)(e);return y(n,r)})),t}function FA(t){var e=t.chart,n=t.options.label,r=zy(e.appendPadding),i=r[0],a={offsetX:r[3],offsetY:i},o=Ry(e,"schema");if(n){var s=n.callback,l=gy(n,["callback"]);o.label({fields:["id"],callback:s,cfg:(0,O.b$)({},Ny(l),{type:"venn",customLabelInfo:a})})}else o.label(!1);return t}function IA(t){var e=t.chart,n=t.options,r=n.legend,i=n.sizeField;return e.legend(GM,r),e.legend(i,!1),t}function PA(t){return t.chart.axis(!1),t}function DA(t){var e=t.options,n=t.chart,r=e.interactions;if(r){var i={"legend-active":"venn-legend-active","legend-highlight":"venn-legend-highlight"};ym(Py({},t,{options:{interactions:r.map((function(t){return dy(dy({},t),{type:i[t.type]||t.type})}))}}))}return n.removeInteraction("legend-active"),n.removeInteraction("legend-highlight"),t}function LA(t){return Ly(MA,xm,AA,OA,FA,Cm({}),IA,PA,vm,DA,mm)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="venn",e}py(e,t),e.getDefaultOptions=function(){return YM},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return LA},e.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))}}(Ym);var RA="x",BA="violinY",_A="violinSize",NA="minMax",UA="quantile",zA="median",HA="violin_view",VA="min_max_view",GA="quantile_view",WA="median_view",YA=Py({},Ym.getDefaultOptions(),{syncViewPadding:!0,kde:{type:"triangular",sampleSize:32,width:3},violinStyle:{lineWidth:1,fillOpacity:.3,strokeOpacity:.75},xAxis:{grid:{line:null},tickLine:{alignTick:!1}},yAxis:{grid:{line:{style:{lineWidth:.5,lineDash:[4,4]}}}},legend:{position:"top-left"},tooltip:{showMarkers:!1}}),jA=n(1024),XA=n.n(jA);function $A(t,e){var n=t.length*e;if(0===t.length)throw new Error("quantile requires at least one data point.");if(e<0||e>1)throw new Error("quantiles must be between 0 and 1");return 1===e?t[t.length-1]:0===e?t[0]:n%1!==0?t[Math.ceil(n)-1]:t.length%2===0?(t[n-1]+t[n])/2:t[n]}function qA(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function ZA(t,e,n,r){for(n=n||0,r=r||t.length-1;r>n;){if(r-n>600){var i=r-n+1,a=e-n+1,o=Math.log(i),s=.5*Math.exp(2*o/3),l=.5*Math.sqrt(o*s*(i-s)/i);a-i/2<0&&(l*=-1),ZA(t,e,Math.max(n,Math.floor(e-a*s/i+l)),Math.min(r,Math.floor(e+(i-a)*s/i+l)))}var c=t[e],u=n,h=r;for(qA(t,n,e),t[r]>c&&qA(t,n,r);u<h;){for(qA(t,u,h),u++,h--;t[u]<c;)u++;for(;t[h]>c;)h--}t[n]===c?qA(t,n,h):qA(t,++h,r),h<=e&&(n=h+1),e<=h&&(r=h-1)}}function KA(t,e){var n=t.slice();if(Array.isArray(e)){!function(t,e){for(var n=[0],r=0;r<e.length;r++)n.push(tO(t.length,e[r]));n.push(t.length-1),n.sort(QA);var i=[0,n.length-1];for(;i.length;){var a=Math.ceil(i.pop()),o=Math.floor(i.pop());if(!(a-o<=1)){var s=Math.floor((o+a)/2);JA(t,n[s],Math.floor(n[o]),Math.ceil(n[a])),i.push(o,s,s,a)}}}(n,e);for(var r=[],i=0;i<e.length;i++)r[i]=$A(n,e[i]);return r}return JA(n,tO(n.length,e),0,n.length-1),$A(n,e)}function JA(t,e,n,r){e%1===0?ZA(t,e,n,r):(ZA(t,e=Math.floor(e),n,r),ZA(t,e+1,e+1,r))}function QA(t,e){return t-e}function tO(t,e){var n=t*e;return 1===e?t-1:0===e?0:n%1!==0?Math.ceil(n)-1:t%2===0?n-.5:n}var eO=function(t){return{low:(0,O.VV)(t),high:(0,O.Fp)(t),q1:KA(t,.25),q3:KA(t,.75),median:KA(t,[.5]),minMax:[(0,O.VV)(t),(0,O.Fp)(t)],quantile:[KA(t,.25),KA(t,.75)]}},nO=function(t,e){var n=XA().create(t,e);return{violinSize:n.map((function(t){return t.y})),violinY:n.map((function(t){return t.x}))}},rO=function(t){var e=t.xField,n=t.yField,r=t.seriesField,i=t.data,a=t.kde,o={min:a.min,max:a.max,size:a.sampleSize,width:a.width};if(!r){var s=(0,O.vM)(i,e);return Object.keys(s).map((function(t){var e=s[t].map((function(t){return t[n]}));return dy(dy({x:t},nO(e,o)),eO(e))}))}var l=[],c=(0,O.vM)(i,r);return Object.keys(c).forEach((function(t){var i=(0,O.vM)(c[t],e);return Object.keys(i).forEach((function(e){var a,s=i[e].map((function(t){return t[n]}));l.push(dy(dy(((a={x:e})[r]=t,a),nO(s,o)),eO(s)))}))})),l},iO=["low","high","q1","q3","median"],aO=[{type:"dodge",marginRatio:1/32}];function oO(t){var e=t.chart,n=t.options;return e.data(rO(n)),t}function sO(t){var e=t.chart,n=t.options,r=n.seriesField,i=n.color,a=n.shape,o=void 0===a?"violin":a,s=n.violinStyle,l=n.tooltip,c=n.state,u=e.createView({id:HA});return function(t){var e=t.options,n=e.violin,r=e.xField,i=e.yField,a=e.seriesField,o=e.sizeField,s=Im(e.tooltip,[r,i,a,o]),l=s.fields,c=s.formatter;n&&Lm(Py({},t,{options:{type:"violin",colorField:a,tooltipFields:l,mapping:dy({tooltip:c},n)}}))}({chart:u,options:{xField:RA,yField:BA,seriesField:r||RA,sizeField:_A,tooltip:dy({fields:iO},l),violin:{style:s,color:i,shape:o},state:c}}),u.geometries[0].adjust(aO),t}function lO(t){var e=t.chart,n=t.options,r=n.seriesField,i=n.color,a=n.tooltip,o=n.box;if(!1===o)return t;var s=e.createView({id:VA});_m({chart:s,options:{xField:RA,yField:NA,seriesField:r||RA,tooltip:dy({fields:iO},a),state:"object"===typeof o?o.state:{},interval:{color:i,size:1,style:{lineWidth:0}}}}),s.geometries[0].adjust(aO);var l=e.createView({id:GA});_m({chart:l,options:{xField:RA,yField:UA,seriesField:r||RA,tooltip:dy({fields:iO},a),state:"object"===typeof o?o.state:{},interval:{color:i,size:8,style:{fillOpacity:1}}}}),l.geometries[0].adjust(aO);var c=e.createView({id:WA});return Um({chart:c,options:{xField:RA,yField:zA,seriesField:r||RA,tooltip:dy({fields:iO},a),state:"object"===typeof o?o.state:{},point:{color:i,size:1,style:{fill:"white",lineWidth:0}}}}),c.geometries[0].adjust(aO),l.axis(!1),s.axis(!1),c.axis(!1),c.legend(!1),s.legend(!1),l.legend(!1),t}function cO(t){var e,n=t.chart,r=t.options,i=r.meta,a=r.xAxis,o=r.yAxis,s=Py({},i,((e={})[RA]=dy(dy({sync:!0},Sy(a,my)),{type:"cat"}),e[BA]=dy({sync:!0},Sy(o,my)),e[NA]=dy({sync:BA},Sy(o,my)),e[UA]=dy({sync:BA},Sy(o,my)),e[zA]=dy({sync:BA},Sy(o,my)),e));return n.scale(s),t}function uO(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,a=Ky(e,HA);return!1===r?a.axis(RA,!1):a.axis(RA,r),!1===i?a.axis(BA,!1):a.axis(BA,i),e.axis(!1),t}function hO(t){var e=t.chart,n=t.options,r=n.legend,i=n.seriesField,a=n.shape;if(!1===r)e.legend(!1);else{var o=i||RA,s=(0,O.CE)(r,["selected"]);a&&a.startsWith("hollow")||(0,O.U2)(s,["marker","style","lineWidth"])||(0,O.t8)(s,["marker","style","lineWidth"],0),e.legend(o,s),(0,O.U2)(r,"selected")&&(0,O.S6)(e.views,(function(t){return t.legend(o,r)}))}return t}function fO(t){var e=Ky(t.chart,HA);return Tm()(dy(dy({},t),{chart:e})),t}function pO(t){var e=t.chart,n=t.options.animation;return(0,O.S6)(e.views,(function(t){tm(t,n)})),t}function dO(t){return Ly(xm,oO,sO,lO,cO,vm,uO,hO,ym,fO,pO)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="violin",e}py(e,t),e.getDefaultOptions=function(){return YA},e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(rO(this.options))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return dO}}(Ym);var gO="$$yField$$",vO="$$diffField$$",yO="$$absoluteField$$",mO="$$isTotal$$",xO={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}};function bO(t,e,n,r){var i=function(t,e,n,r,i){var a,o=[];if((0,O.u4)(t,(function(t,e){var i;wy(yy.WARN,(0,O.hj)(e[n]),"".concat(e[n]," is not a valid number"));var a=(0,O.o8)(e[n])?null:e[n];return o.push(dy(dy({},e),((i={})[r]=[t,t+a],i))),t+a}),0),o.length&&i){var s=(0,O.U2)(o,[[t.length-1],r,[1]]);o.push(((a={})[e]=i.label,a[n]=s,a[r]=[0,s],a))}return o}(t,e,n,gO,r);return i.map((function(e,n){var r;return(0,O.Kn)(e)?dy(dy({},e),((r={})[yO]=e[gO][1],r[vO]=e[gO][1]-e[gO][0],r[mO]=n===t.length,r)):e}))}function wO(t){var e=t.options,n=e.locale,r=e.total,i=Fm(n).get(["waterfall","total"]);return r&&"string"!==typeof r.label&&i&&(t.options.total.label=i),t}function SO(t){var e=t.chart,n=t.options,r=n.data,i=n.xField,a=n.yField,o=n.total,s=n.leaderLine,l=n.columnWidthRatio,c=n.waterfallStyle,u=n.risingFill,h=n.fallingFill,f=n.color,p=n.shape,d=n.customInfo;return e.data(bO(r,i,a,o)),_m(Py({},t,{options:{xField:i,yField:gO,seriesField:i,rawFields:[a,vO,mO,gO],widthRatio:l,interval:{style:c,shape:p||"waterfall",color:f||function(t){return(0,O.U2)(t,[mO])?(0,O.U2)(o,["style","fill"],""):(0,O.U2)(t,[gO,1])-(0,O.U2)(t,[gO,0])>0?u:h}}}})).ext.geometry.customInfo(dy(dy({},d),{leaderLine:s})),t}function CO(t){var e,n,r=t.options,i=r.xAxis,a=r.yAxis,o=r.xField,s=r.yField,l=r.meta,c=Py({},{alias:s},(0,O.U2)(l,s));return Ly(Cm(((e={})[o]=i,e[s]=a,e[gO]=a,e),Py({},l,((n={})[gO]=c,n[vO]=c,n[yO]=c,n))))(t)}function TO(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,a=n.xField,o=n.yField;return!1===r?e.axis(a,!1):e.axis(a,r),!1===i?(e.axis(o,!1),e.axis(gO,!1)):(e.axis(o,i),e.axis(gO,i)),t}function EO(t){var e=t.chart,n=t.options,r=n.legend,i=n.total,a=n.risingFill,o=n.fallingFill,s=Fm(n.locale);if(!1===r)e.legend(!1);else{var l=[{name:s.get(["general","increase"]),value:"increase",marker:{symbol:"square",style:{r:5,fill:a}}},{name:s.get(["general","decrease"]),value:"decrease",marker:{symbol:"square",style:{r:5,fill:o}}}];i&&l.push({name:i.label||"",value:"total",marker:{symbol:"square",style:Py({},{r:5},(0,O.U2)(i,"style"))}}),e.legend(Py({},{custom:!0,position:"top",items:l},r)),e.removeInteraction("legend-filter")}return t}function kO(t){var e=t.chart,n=t.options,r=n.label,i=n.labelMode,a=n.xField,o=Ry(e,"interval");if(r){var s=r.callback,l=gy(r,["callback"]);o.label({fields:"absolute"===i?[yO,a]:[vO,a],callback:s,cfg:Ny(l)})}else o.label(!1);return t}function MO(t){var e=t.chart,n=t.options,r=n.tooltip,i=n.xField,a=n.yField;if(!1!==r){e.tooltip(dy({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[a]},r));var o=e.geometries[0];(null===r||void 0===r?void 0:r.formatter)?o.tooltip("".concat(i,"*").concat(a),r.formatter):o.tooltip(a)}else e.tooltip(!1);return t}function AO(t){return Ly(wO,xm,SO,CO,TO,EO,MO,kO,bm,ym,mm,Tm())(t)}zl("interval","waterfall",{draw:function(t,e){var n=t.customInfo,r=t.points,i=t.nextPoints,a=e.addGroup(),o=this.parsePath(function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(r){var i=0===n?"M":"L";e.push([i,r.x,r.y])}}var a=t[0];return e.push(["L",a.x,a.y]),e.push(["z"]),e}(r)),s=function(t){return Py({},t.defaultStyle,t.style,{fill:t.color})}(t);a.addShape("path",{attrs:dy(dy({},s),{path:o})});var l=(0,O.U2)(n,"leaderLine");if(l&&i){var c=[["M",r[2].x,r[2].y],["L",i[0].x,i[0].y]];r[2].y===i[1].y&&(c[1]=["L",i[1].x,i[1].y]),c=this.parsePath(c),a.addShape("path",{attrs:dy({path:c},l.style||{})})}return a}});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="waterfall",e}py(e,t),e.getDefaultOptions=function(){return xO},e.prototype.changeData=function(t){var e=this.options,n=e.xField,r=e.yField,i=e.total;this.updateOption({data:t}),this.chart.changeData(bO(t,n,r,i))},e.prototype.getSchemaAdaptor=function(){return AO},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()}}(Ym);var OO="color",FO=Py({},Ym.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value",OO],formatter:function(t){return{name:t.text,value:t.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}}),IO={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function PO(t,e){return function(t,e){var n=function(){var t=[256,256],e=_O,n=UO,r=NO,i=zO,a=HO,o=jO,s=Math.random,l=[],c=1/0,u=BO,h=NO,f=$O,p={};function d(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,1,1).data.length>>2);t.width=(LO<<5)/e,t.height=RO/e;var n=t.getContext("2d",{willReadFrequently:!0});return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:e}}function g(e,n,r){for(var i,a,l,c=n.x,u=n.y,h=Math.sqrt(t[0]*t[0]+t[1]*t[1]),f=o(t),p=s()<.5?1:-1,d=-p;(i=f(d+=p))&&(a=~~i[0],l=~~i[1],!(Math.min(Math.abs(a),Math.abs(l))>=h));)if(n.x=c+a,n.y=u+l,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>t[0]||n.y+n.y1>t[1])&&(!r||!GO(n,e,t[0]))&&(!r||YO(n,r))){for(var g=n.sprite,v=n.width>>5,y=t[0]>>5,m=n.x-(v<<4),x=127&m,b=32-x,w=n.y1-n.y0,S=void 0,C=(n.y+n.y0)*y+(m>>5),T=0;T<w;T++){S=0;for(var E=0;E<=v;E++)e[C+E]|=S<<b|(E<v?(S=g[T*v+E])>>>x:0);C+=y}return delete n.sprite,!0}return!1}return p.start=function(){var o=t[0],v=t[1],y=d(f()),m=p.board?p.board:XO((t[0]>>5)*t[1]),x=l.length,b=[],w=l.map((function(t,o,s){return t.text=u.call(this,t,o,s),t.font=e.call(this,t,o,s),t.style=h.call(this,t,o,s),t.weight=r.call(this,t,o,s),t.rotate=i.call(this,t,o,s),t.size=~~n.call(this,t,o,s),t.padding=a.call(this,t,o,s),t})).sort((function(t,e){return e.size-t.size})),S=-1,C=p.board?[{x:0,y:0},{x:o,y:v}]:null;function T(){for(var e=Date.now();Date.now()-e<c&&++S<x;){var n=w[S];n.x=o*(s()+.5)>>1,n.y=v*(s()+.5)>>1,VO(y,n,w,S),n.hasText&&g(m,n,C)&&(b.push(n),C?p.hasImage||WO(C,n):C=[{x:n.x+n.x0,y:n.y+n.y0},{x:n.x+n.x1,y:n.y+n.y1}],n.x-=t[0]>>1,n.y-=t[1]>>1)}p._tags=b,p._bounds=C}return T(),p},p.createMask=function(e){var n=document.createElement("canvas"),r=t[0],i=t[1];if(r&&i){var a=r>>5,o=XO((r>>5)*i);n.width=r,n.height=i;var s=n.getContext("2d");s.drawImage(e,0,0,e.width,e.height,0,0,r,i);for(var l=s.getImageData(0,0,r,i).data,c=0;c<i;c++)for(var u=0;u<r;u++){var h=a*c+(u>>5),f=c*r+u<<2,d=l[f]>=250&&l[f+1]>=250&&l[f+2]>=250?1<<31-u%32:0;o[h]|=d}p.board=o,p.hasImage=!0}},p.timeInterval=function(t){c=null==t?1/0:t},p.words=function(t){l=t},p.size=function(e){t=[+e[0],+e[1]]},p.font=function(t){e=qO(t)},p.fontWeight=function(t){r=qO(t)},p.rotate=function(t){i=qO(t)},p.spiral=function(t){o=ZO[t]||t},p.fontSize=function(t){n=qO(t)},p.padding=function(t){a=qO(t)},p.random=function(t){s=qO(t)},p}();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach((function(t){(0,O.UM)(e[t])||n[t](e[t])})),n.words(t),e.imageMask&&n.createMask(e.imageMask);var r=n.start(),i=r._tags;i.forEach((function(t){t.x+=e.size[0]/2,t.y+=e.size[1]/2}));var a=e.size,o=a[0],s=a[1];return i.push({text:"",value:0,x:0,y:0,opacity:0}),i.push({text:"",value:0,x:o,y:s,opacity:0}),i}(t,e=(0,O.f0)({},IO,e))}var DO=Math.PI/180,LO=64,RO=2048;function BO(t){return t.text}function _O(){return"serif"}function NO(){return"normal"}function UO(t){return t.value}function zO(){return 90*~~(2*Math.random())}function HO(){return 1}function VO(t,e,n,r){if(!e.sprite){var i=t.context,a=t.ratio;i.clearRect(0,0,(LO<<5)/a,RO/a);var o=0,s=0,l=0,c=n.length;for(--r;++r<c;){e=n[r],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/a)+"px "+e.font;var u=i.measureText(e.text+"m").width*a,h=e.size<<1;if(e.rotate){var f=Math.sin(e.rotate*DO),p=Math.cos(e.rotate*DO),d=u*p,g=u*f,v=h*p,y=h*f;u=Math.max(Math.abs(d+y),Math.abs(d-y))+31>>5<<5,h=~~Math.max(Math.abs(g+v),Math.abs(g-v))}else u=u+31>>5<<5;if(h>l&&(l=h),o+u>=LO<<5&&(o=0,s+=l,l=0),s+h>=RO)break;i.translate((o+(u>>1))/a,(s+(h>>1))/a),e.rotate&&i.rotate(e.rotate*DO),i.fillText(e.text,0,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,0,0)),i.restore(),e.width=u,e.height=h,e.xoff=o,e.yoff=s,e.x1=u>>1,e.y1=h>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,o+=u}for(var m=i.getImageData(0,0,(LO<<5)/a,RO/a).data,x=[];--r>=0;)if((e=n[r]).hasText){for(var b=(u=e.width)>>5,w=(h=e.y1-e.y0,0);w<h*b;w++)x[w]=0;if(null==(o=e.xoff))return;s=e.yoff;for(var S=0,C=-1,T=0;T<h;T++){for(w=0;w<u;w++){var E=b*T+(w>>5),k=m[(s+T)*(LO<<5)+(o+w)<<2]?1<<31-w%32:0;x[E]|=k,S|=k}S?C=T:(e.y0++,h--,T--,s++)}e.y1=e.y0+C,e.sprite=x.slice(0,(e.y1-e.y0)*b)}}}function GO(t,e,n){n>>=5;for(var r,i=t.sprite,a=t.width>>5,o=t.x-(a<<4),s=127&o,l=32-s,c=t.y1-t.y0,u=(t.y+t.y0)*n+(o>>5),h=0;h<c;h++){r=0;for(var f=0;f<=a;f++)if((r<<l|(f<a?(r=i[h*a+f])>>>s:0))&e[u+f])return!0;u+=n}return!1}function WO(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function YO(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function jO(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function XO(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}function $O(){return document.createElement("canvas")}function qO(t){return(0,O.mf)(t)?t:function(){return t}}var ZO={archimedean:jO,rectangular:function(t){var e=4*t[0]/t[1],n=0,r=0;return function(t){var i=t<0?-1:1;switch(Math.sqrt(1+4*i*t)-i&3){case 0:n+=e;break;case 1:r+=4;break;case 2:n-=e;break;default:r-=4}return[n,r]}}};function KO(t){var e=t.options,n=t.chart,r=n,i=r.width,a=r.height,o=r.padding,s=r.appendPadding,l=r.ele,c=e.data,u=e.imageMask,h=e.wordField,f=e.weightField,p=e.colorField,d=e.wordStyle,g=e.timeInterval,v=e.random,y=e.spiral,m=e.autoFit,x=void 0===m||m,b=e.placementStrategy;if(!c||!c.length)return[];var w,S=d.fontFamily,C=d.fontWeight,T=d.padding,E=d.fontSize,k=function(t,e){return t.map((function(t){return t[e]})).filter((function(t){return"number"===typeof t&&!isNaN(t)}))}(c,f),M=[(w=k,Math.min.apply(Math,w)),eF(k)],A=c.map((function(t){return{text:t[h],value:t[f],color:t[p],datum:t}})),F={imageMask:u,font:S,fontSize:QO(E,M),fontWeight:C,size:JO({width:i,height:a,padding:o,appendPadding:s,autoFit:x,container:l}),padding:T,timeInterval:g,random:v,spiral:y,rotate:tF(e)};if((0,O.mf)(b)){var I=A.map((function(t,e,r){return dy(dy(dy({},t),{hasText:!!t.text,font:qO(F.font)(t,e,r),weight:qO(F.fontWeight)(t,e,r),rotate:qO(F.rotate)(t,e,r),size:qO(F.fontSize)(t,e,r),style:"normal"}),b.call(n,t,e,r))}));return I.push({text:"",value:0,x:0,y:0,opacity:0}),I.push({text:"",value:0,x:F.size[0],y:F.size[1],opacity:0}),I}return PO(A,F)}function JO(t){var e=t.width,n=t.height,r=t.container,i=t.autoFit,a=t.padding,o=t.appendPadding;if(i){var s=Dy(r);e=s.width,n=s.height}e=e||400,n=n||400;var l=function(t){var e=zy(t.padding),n=zy(t.appendPadding),r=e[0]+n[0],i=e[1]+n[1],a=e[2]+n[2],o=e[3]+n[3];return[r,i,a,o]}({padding:a,appendPadding:o}),c=l[0],u=l[1],h=l[2];return[e-(l[3]+u),n-(c+h)]}function QO(t,e){if((0,O.mf)(t))return t;if((0,O.kJ)(t)){var n=t[0],r=t[1];if(!e)return function(){return(r+n)/2};var i=e[0],a=e[1];return a===i?function(){return(r+n)/2}:function(t){var e=t.value;return(r-n)/(a-i)*(e-i)+n}}return function(){return t}}function tF(t){var e=function(t){var e=t.wordStyle.rotationSteps;e<1&&(wy(yy.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),e=1);return{rotation:t.wordStyle.rotation,rotationSteps:e}}(t),n=e.rotation,r=e.rotationSteps;if(!(0,O.kJ)(n))return n;var i=n[0],a=n[1],o=1===r?0:(a-i)/(r-1);return function(){return a===i?a:Math.floor(Math.random()*r)*o}}function eF(t){return Math.max.apply(Math,t)}function nF(t){var e=t.chart,n=t.options,r=n.colorField,i=n.color,a=KO(t);return e.data(a),Um(Py({},t,{options:{xField:"x",yField:"y",seriesField:r&&OO,rawFields:(0,O.mf)(i)&&vy(vy([],(0,O.U2)(n,"rawFields",[]),!0),["datum"],!1),point:{color:i,shape:"word-cloud"}}})).ext.geometry.label(!1),e.coordinate().reflect("y"),e.axis(!1),t}function rF(t){return Ly(Cm({x:{nice:!1},y:{nice:!1}}))(t)}function iF(t){var e=t.chart,n=t.options,r=n.legend,i=n.colorField;return!1===r?e.legend(!1):i&&e.legend(OO,r),t}function aF(t){Ly(nF,rF,vm,iF,ym,mm,xm,bm)(t)}function oF(t){return{fontSize:t.data.size,text:t.data.text,textAlign:"center",fontFamily:t.data.font,fontWeight:t.data.weight,fill:t.color||t.defaultStyle.stroke,textBaseline:"alphabetic"}}zl("point","word-cloud",{draw:function(t,e){var n=t.x,r=t.y,i=e.addShape("text",{attrs:dy(dy({},oF(t)),{x:n,y:r})}),a=t.data.rotate;return"number"===typeof a&&Tc.rotate(i,a*Math.PI/180),i}});(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="word-cloud",e}py(e,t),e.getDefaultOptions=function(){return FO},e.prototype.changeData=function(t){this.updateOption({data:t}),this.options.imageMask?this.render():this.chart.changeData(KO({chart:this.chart,options:this.options}))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.render=function(){var e=this;return new Promise((function(n){var r=e.options.imageMask;if(!r)return t.prototype.render.call(e),void n();var i,a=function(r){e.options=dy(dy({},e.options),{imageMask:r||null}),t.prototype.render.call(e),n()};(i=r,new Promise((function(t,e){if(i instanceof HTMLImageElement)t(i);else{if((0,O.HD)(i)){var n=new Image;return n.crossOrigin="anonymous",n.src=i,n.onload=function(){t(n)},void(n.onerror=function(){wy(yy.ERROR,!1,"image %s load failed !!!",i),e()})}wy(yy.WARN,void 0===i,"The type of imageMask option must be String or HTMLImageElement."),e()}}))).then(a).catch(a)}))},e.prototype.getSchemaAdaptor=function(){return aF},e.prototype.triggerResize=function(){var e=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout((function(){t.prototype.triggerResize.call(e)})))}})(Ym),function(t){function e(e,n,r,i){var a=t.call(this,e,Py({},i,n))||this;return a.type="g2-plot",a.defaultOptions=i,a.adaptor=r,a}py(e,t),e.prototype.getDefaultOptions=function(){return this.defaultOptions},e.prototype.getSchemaAdaptor=function(){return this.adaptor}}(Ym);Om("en-US",{locale:"en-US",general:{increase:"Increase",decrease:"Decrease",root:"Root"},statistic:{total:"Total"},conversionTag:{label:"Rate"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"Total"}}),Om("zh-CN",{locale:"zh-CN",general:{increase:"\u589e\u52a0",decrease:"\u51cf\u5c11",root:"\u521d\u59cb"},statistic:{total:"\u603b\u8ba1"},conversionTag:{label:"\u8f6c\u5316\u7387"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"\u603b\u8ba1"}});var sF,lF=n(4164),cF=function(){return cF=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},cF.apply(this,arguments)},uF=cF({},n.t(lF,2)),hF=uF.version,fF=uF.render;uF.unmountComponentAtNode;try{Number((hF||"").split(".")[0])>=18&&(sF=uF.createRoot)}catch(BF){}function pF(t){var e=uF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&"object"===typeof e&&(e.usingClientEntryPoint=t)}var dF="__rc_react_root__";function gF(t,e){sF?function(t,e){pF(!0);var n=e[dF]||sF(e);pF(!1),n.render(t),e[dF]=n}(t,e):function(t,e){fF(t,e)}(t,e)}var vF=new Map,yF=function(t,e,n){var r=document.createElement("div");return"tooltip"===e&&(r.setAttribute("data-uuid",n),vF.has(n)?r=vF.get(n):vF.set(n,r),r.className="g2-tooltip"),gF(t,r),r},mF=function(t,e){return{}.toString.call(t)==="[object ".concat(e,"]")},xF=function t(e){return e&&"object"===typeof e?(Array.isArray(e)?n=e.map((function(e){return t(e)})):(n={},Object.keys(e).forEach((function(r){return n[r]=t(e[r])}))),n):e;var n},bF=function(t,e){for(var n=t,r=0;r<e.length;r+=1){if(!(null===n||void 0===n?void 0:n[e[r]])){n=void 0;break}n=n[e[r]]}return n},wF=function(){return wF=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},wF.apply(this,arguments)},SF=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function CF(t,e){var n=(0,v.useRef)(),r=(0,v.useRef)(),i=(0,v.useRef)(null),a=e.onReady,o=e.onEvent,s=function(t,e,n,r){var i=bF(t,e);!function(t,e,n){if(!t)return t;var r=t;e.forEach((function(t,i){i<e.length-1?r=r[t]:r[t]=n}))}(t,e,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var a=mF(i,"Function")?i.apply(void 0,t):i;return mF(a,"String")||mF(a,"Number")||mF(a,"HTMLDivElement")?a:yF(a,n,r)}))},l=function(){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}));bF(e,["statistic","content","customHtml"])&&s(e,["statistic","content","customHtml"]),bF(e,["statistic","title","customHtml"])&&s(e,["statistic","title","customHtml"]),"object"===typeof e.tooltip&&(bF(e,["tooltip","container"])&&s(e,["tooltip","container"],"tooltip",t),bF(e,["tooltip","customContent"])&&s(e,["tooltip","customContent"],"tooltip",t))};return(0,v.useEffect)((function(){if(n.current&&!(0,O.Xy)(r.current,e)){var t=!1;if(r.current){var i=r.current,a=(i.data,i.value,i.percent,SF(i,["data","value","percent"])),o=(e.data,e.value,e.percent,SF(e,["data","value","percent"]));t=(0,O.Xy)(a,o)}if(r.current=xF(e),t&&"Mix"!==(0,O.U2)(e,"chartType")){var s="data",c=Object.keys(e);["percent"].forEach((function(t){c.includes(t)&&(s=t)})),n.current.changeData((null===e||void 0===e?void 0:e[s])||[]),n.current.render()}else l(),n.current.update(e)}}),[e]),(0,v.useEffect)((function(){if(!i.current)return function(){return null};r.current||(r.current=xF(e)),l();var s=new t(i.current,wF({},e));s.toDataURL=function(t,e){return function(t,e){var r;return void 0===t&&(t="image/png"),null===(r=n.current)||void 0===r?void 0:r.chart.canvas.cfg.el.toDataURL(t,e)}(t,e)},s.downloadImage=function(t,e,r){return function(t,e,r){var i;void 0===t&&(t="download"),void 0===e&&(e="image/png");var a=t;-1===t.indexOf(".")&&(a="".concat(t,".").concat(e.split("/")[1]));var o=null===(i=n.current)||void 0===i?void 0:i.chart.canvas.cfg.el.toDataURL(e,r),s=document.createElement("a");return s.href=o,s.download=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),s=null,a}(t,e,r)},s.render(),n.current=function(t){if(!t)return t;var e={};for(var n in t)e[n]=t[n];return e}(s),a&&a(s);var c=function(t){o&&o(s,t)};return s.on("*",c),function(){n.current&&(n.current.destroy(),n.current.off("*",c),n.current=void 0)}}),[]),{chart:n,container:i}}var TF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),EF=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={hasError:!1},e.renderError=function(t){var n=e.props.errorTemplate;return"function"===typeof n?n(t):n||v.createElement("h5",null,"\u7ec4\u4ef6\u51fa\u9519\u4e86\uff0c\u8bf7\u6838\u67e5\u540e\u91cd\u8bd5\uff1a ",t.message)},e}return TF(e,t),e.getDerivedStateFromError=function(t){return{hasError:!0,error:t}},e.getDerivedStateFromProps=function(t,e){return e.children!==t.children?{children:t.children,hasError:!1,error:void 0}:null},e.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):v.createElement(v.Fragment,null,this.props.children)},e}(v.Component),kF=EF,MF=function(){return MF=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},MF.apply(this,arguments)};var AF=function(t){var e=t.animate,n=t.backgroundColor,r=t.backgroundOpacity,i=t.baseUrl,a=t.children,o=t.foregroundColor,s=t.foregroundOpacity,l=t.gradientRatio,c=t.uniqueKey,u=t.interval,h=t.rtl,f=t.speed,p=t.style,d=t.title,g=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(t,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","interval","rtl","speed","style","title"]),y=c||Math.random().toString(36).substring(6),m=y+"-diff",x=y+"-animated-diff",b=y+"-aria",w=h?{transform:"scaleX(-1)"}:null,S="0; "+u+"; 1",C=f+"s";return(0,v.createElement)("svg",MF({"aria-labelledby":b,role:"img",style:MF(MF({},p),w)},g),d?(0,v.createElement)("title",{id:b},d):null,(0,v.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+i+"#"+m+")",style:{fill:"url("+i+"#"+x+")"}}),(0,v.createElement)("defs",{role:"presentation"},(0,v.createElement)("clipPath",{id:m},a),(0,v.createElement)("linearGradient",{id:x},(0,v.createElement)("stop",{offset:"0%",stopColor:n,stopOpacity:r},e&&(0,v.createElement)("animate",{attributeName:"offset",values:-l+"; "+-l+"; 1",keyTimes:S,dur:C,repeatCount:"indefinite"})),(0,v.createElement)("stop",{offset:"50%",stopColor:o,stopOpacity:s},e&&(0,v.createElement)("animate",{attributeName:"offset",values:-l/2+"; "+-l/2+"; "+(1+l/2),keyTimes:S,dur:C,repeatCount:"indefinite"})),(0,v.createElement)("stop",{offset:"100%",stopColor:n,stopOpacity:r},e&&(0,v.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+l),keyTimes:S,dur:C,repeatCount:"indefinite"})))))};AF.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading..."};var OF=function(t){return t.children?(0,v.createElement)(AF,MF({},t)):(0,v.createElement)(FF,MF({},t))},FF=function(t){return(0,v.createElement)(OF,MF({viewBox:"0 0 476 124"},t),(0,v.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,v.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,v.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,v.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,v.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,v.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},IF=OF,PF=function(t){var e=t.loadingTemplate,n=t.theme,r=void 0===n?"light":n;return v.createElement("div",{className:"charts-loading-container",style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,backgroundColor:"dark"===r?"rgb(20, 20, 20)":"rgb(255, 255, 255)"}},e||v.createElement(IF,{viewBox:"0 0 400 180",width:200,height:90,speed:1,backgroundColor:"dark"===r?"#262626":"#D9D9D9"},v.createElement("rect",{x:"20",y:"5",rx:"0",ry:"0",width:"1",height:"170"}),v.createElement("rect",{x:"20",y:"175",rx:"0",ry:"0",width:"360",height:"1"}),v.createElement("rect",{x:"40",y:"75",rx:"0",ry:"0",width:"35",height:"100"}),v.createElement("rect",{x:"80",y:"125",rx:"0",ry:"0",width:"35",height:"50"}),v.createElement("rect",{x:"120",y:"105",rx:"0",ry:"0",width:"35",height:"70"}),v.createElement("rect",{x:"160",y:"35",rx:"0",ry:"0",width:"35",height:"140"}),v.createElement("rect",{x:"200",y:"55",rx:"0",ry:"0",width:"35",height:"120"}),v.createElement("rect",{x:"240",y:"15",rx:"0",ry:"0",width:"35",height:"160"}),v.createElement("rect",{x:"280",y:"135",rx:"0",ry:"0",width:"35",height:"40"}),v.createElement("rect",{x:"320",y:"85",rx:"0",ry:"0",width:"35",height:"90"})))},DF=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},LF=(0,v.forwardRef)((function(t,e){var n=t.chartRef,r=t.style,i=void 0===r?{height:"inherit"}:r,a=t.className,o=t.loading,s=t.loadingTemplate,l=t.errorTemplate,c=DF(t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),u=CF(Jb,c),h=u.chart,f=u.container;return(0,v.useEffect)((function(){!function(t,e){t&&((0,O.mf)(t)?t(e):t.current=e)}(n,h.current)}),[h.current]),(0,v.useImperativeHandle)(e,(function(){return{getChart:function(){return h.current}}})),v.createElement(kF,{errorTemplate:l},o&&v.createElement(PF,{loadingTemplate:s,theme:t.theme}),v.createElement("div",{className:a,style:i,ref:f}))})),RF=LF},2469:function(t,e){"use strict";var n=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},t.prototype.once=function(t,e){return this.on(t,e,!0)},t.prototype.emit=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[t]||[],a=this._events["*"]||[],o=function(r){for(var i=r.length,a=0;a<i;a++)if(r[a]){var o=r[a],s=o.callback;o.once&&(r.splice(a,1),0===r.length&&delete e._events[t],i--,a--),s.apply(e,n)}};o(i),o(a)},t.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],r=n.length,i=0;i<r;i++)n[i].callback===e&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}();e.Z=n},9753:function(t,e,n){"use strict";var r=n(9080),i=n(2469),a=n(2489),o=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var r=n.getDefaultCfg();return n.cfg=(0,a.CD)(r,e),n}return(0,r.ZT)(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,e){this.cfg[t]=e},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(i.Z);e.Z=o},495:function(t,e,n){"use strict";n.d(e,{Z:function(){return zt}});var r,i,a=n(9080),o=n(9761),s=n(6277),l=n(2489),c=n(8696),u=0,h=0,f=0,p=1e3,d=0,g=0,v=0,y="object"===typeof performance&&performance.now?performance:Date,m="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function x(){return g||(m(b),g=y.now()+v)}function b(){g=0}function w(){this._call=this._time=this._next=null}function S(t,e,n){var r=new w;return r.restart(t,e,n),r}function C(){g=(d=y.now())+v,u=h=0;try{!function(){x(),++u;for(var t,e=r;e;)(t=g-e._time)>=0&&e._call.call(null,t),e=e._next;--u}()}finally{u=0,function(){var t,e,n=r,a=1/0;for(;n;)n._call?(a>n._time&&(a=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:r=e);i=t,E(a)}(),g=0}}function T(){var t=y.now(),e=t-d;e>p&&(v-=e,d=t)}function E(t){u||(h&&(h=clearTimeout(h)),t-g>24?(t<1/0&&(h=setTimeout(C,t-y.now()-v)),f&&(f=clearInterval(f))):(f||(d=y.now(),f=setInterval(T,p)),u=1,m(C)))}function k(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function M(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function A(){}w.prototype=S.prototype={constructor:w,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?x():+n)+(null==e?0:+e),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=t,this._time=n,E()},stop:function(){this._call&&(this._call=null,this._time=1/0,E())}};var O=.7,F=1/O,I="\\s*([+-]?\\d+)\\s*",P="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",D="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",L=/^#([0-9a-f]{3,8})$/,R=new RegExp("^rgb\\(".concat(I,",").concat(I,",").concat(I,"\\)$")),B=new RegExp("^rgb\\(".concat(D,",").concat(D,",").concat(D,"\\)$")),_=new RegExp("^rgba\\(".concat(I,",").concat(I,",").concat(I,",").concat(P,"\\)$")),N=new RegExp("^rgba\\(".concat(D,",").concat(D,",").concat(D,",").concat(P,"\\)$")),U=new RegExp("^hsl\\(".concat(P,",").concat(D,",").concat(D,"\\)$")),z=new RegExp("^hsla\\(".concat(P,",").concat(D,",").concat(D,",").concat(P,"\\)$")),H={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function V(){return this.rgb().formatHex()}function G(){return this.rgb().formatRgb()}function W(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=L.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Y(e):3===n?new $(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?j(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?j(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=R.exec(t))?new $(e[1],e[2],e[3],1):(e=B.exec(t))?new $(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=_.exec(t))?j(e[1],e[2],e[3],e[4]):(e=N.exec(t))?j(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=U.exec(t))?tt(e[1],e[2]/100,e[3]/100,1):(e=z.exec(t))?tt(e[1],e[2]/100,e[3]/100,e[4]):H.hasOwnProperty(t)?Y(H[t]):"transparent"===t?new $(NaN,NaN,NaN,0):null}function Y(t){return new $(t>>16&255,t>>8&255,255&t,1)}function j(t,e,n,r){return r<=0&&(t=e=n=NaN),new $(t,e,n,r)}function X(t,e,n,r){return 1===arguments.length?((i=t)instanceof A||(i=W(i)),i?new $((i=i.rgb()).r,i.g,i.b,i.opacity):new $):new $(t,e,n,null==r?1:r);var i}function $(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function q(){return"#".concat(Q(this.r)).concat(Q(this.g)).concat(Q(this.b))}function Z(){var t=K(this.opacity);return"".concat(1===t?"rgb(":"rgba(").concat(J(this.r),", ").concat(J(this.g),", ").concat(J(this.b)).concat(1===t?")":", ".concat(t,")"))}function K(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function J(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Q(t){return((t=J(t))<16?"0":"")+t.toString(16)}function tt(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new nt(t,e,n,r)}function et(t){if(t instanceof nt)return new nt(t.h,t.s,t.l,t.opacity);if(t instanceof A||(t=W(t)),!t)return new nt;if(t instanceof nt)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=e===a?(n-r)/s+6*(n<r):n===a?(r-e)/s+2:(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new nt(o,s,l,t.opacity)}function nt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function rt(t){return(t=(t||0)%360)<0?t+360:t}function it(t){return Math.max(0,Math.min(1,t||0))}function at(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function ot(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}k(A,W,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:V,formatHex:V,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return et(this).formatHsl()},formatRgb:G,toString:G}),k($,X,M(A,{brighter:function(t){return t=null==t?F:Math.pow(F,t),new $(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?O:Math.pow(O,t),new $(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},clamp:function(){return new $(J(this.r),J(this.g),J(this.b),K(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:q,formatHex:q,formatHex8:function(){return"#".concat(Q(this.r)).concat(Q(this.g)).concat(Q(this.b)).concat(Q(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Z,toString:Z})),k(nt,(function(t,e,n,r){return 1===arguments.length?et(t):new nt(t,e,n,null==r?1:r)}),M(A,{brighter:function(t){return t=null==t?F:Math.pow(F,t),new nt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?O:Math.pow(O,t),new nt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new $(at(t>=240?t-240:t+120,i,r),at(t,i,r),at(t<120?t+240:t-120,i,r),this.opacity)},clamp:function(){return new nt(rt(this.h),it(this.s),it(this.l),K(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=K(this.opacity);return"".concat(1===t?"hsl(":"hsla(").concat(rt(this.h),", ").concat(100*it(this.s),"%, ").concat(100*it(this.l),"%").concat(1===t?")":", ".concat(t,")"))}}));var st=function(t){return function(){return t}};function lt(t,e){return function(n){return t+n*e}}function ct(t){return 1===(t=+t)?ut:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):st(isNaN(e)?n:e)}}function ut(t,e){var n=e-t;return n?lt(t,n):st(isNaN(t)?e:t)}var ht=function t(e){var n=ct(e);function r(t,e){var r=n((t=X(t)).r,(e=X(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=ut(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function ft(t){return function(e){var n,r,i=e.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=X(e[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=t(a),o=t(o),s=t(s),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=s(t),r+""}}}ft((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return ot((n-r/e)*e,o,i,a,s)}})),ft((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],o=t[(r+1)%e],s=t[(r+2)%e];return ot((n-r/e)*e,i,a,o,s)}}));function pt(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(a){for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}}function dt(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function gt(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=St(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}}function vt(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function yt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function mt(t,e){var n,r={},i={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=St(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var xt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bt=new RegExp(xt.source,"g");function wt(t,e){var n,r,i,a=xt.lastIndex=bt.lastIndex=0,o=-1,s=[],l=[];for(t+="",e+="";(n=xt.exec(t))&&(r=bt.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:yt(n,r)})),a=bt.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function St(t,e){var n,r=typeof e;return null==e||"boolean"===r?st(e):("number"===r?yt:"string"===r?(n=W(e))?(e=n,ht):wt:e instanceof W?ht:e instanceof Date?vt:dt(e)?pt:Array.isArray(e)?gt:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?mt:yt)(t,e)}var Ct=n(3169),Tt=n(1607),Et=function(t){return["fill","stroke","fillStyle","strokeStyle"].includes(t)},kt=function(t){return/^[r,R,L,l]{1}[\s]*\(/.test(t)},Mt=[1,0,0,0,1,0,0,0,1];function At(t,e,n){var r,i=e.startTime;if(n<i+e.delay||e._paused)return!1;var a=e.duration,o=e.easing,s=(0,Ct._)(o);if(n=n-i-e.delay,e.repeat)r=s(r=n%a/a);else{if(!((r=n/a)<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),!0;r=s(r)}if(e.onFrame){var l=e.onFrame(r);t.attr(l)}else!function(t,e,n){var r={},i=e.fromAttrs,a=e.toAttrs;if(!t.destroyed){var o,s,l;for(var u in a)if(!(0,c.Xy)(i[u],a[u]))if("path"===u){var h=a[u],f=i[u];h.length>f.length?(h=Tt.parsePathString(a[u]),f=Tt.parsePathString(i[u]),f=Tt.fillPathByDiff(f,h),f=Tt.formatPath(f,h),e.fromAttrs.path=f,e.toAttrs.path=h):e.pathFormatted||(h=Tt.parsePathString(a[u]),f=Tt.parsePathString(i[u]),f=Tt.formatPath(f,h),e.fromAttrs.path=f,e.toAttrs.path=h,e.pathFormatted=!0),r[u]=[];for(var p=0;p<h.length;p++){for(var d=h[p],g=f[p],v=[],y=0;y<d.length;y++)(0,c.hj)(d[y])&&g&&(0,c.hj)(g[y])?(o=St(g[y],d[y]),v.push(o(n))):v.push(d[y]);r[u].push(v)}}else if("matrix"===u){var m=(s=i[u]||Mt,(dt(l=a[u]||Mt)?pt:gt)(s,l))(n);r[u]=m}else Et(u)&&kt(a[u])?r[u]=a[u]:(0,c.mf)(a[u])||(o=St(i[u],a[u]),r[u]=o(n));t.attr(r)}}(t,e,r);return!1}var Ot=function(){function t(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return t.prototype.initTimer=function(){var t,e,n,r=this;this.timer=S((function(i){if(r.current=i,r.animators.length>0){for(var a=r.animators.length-1;a>=0;a--)if((t=r.animators[a]).destroyed)r.removeAnimator(a);else{if(!t.isAnimatePaused())for(var o=(e=t.get("animations")).length-1;o>=0;o--)n=e[o],At(t,n,i)&&(e.splice(o,1),!1,n.callback&&n.callback());0===e.length&&r.removeAnimator(a)}r.canvas.get("autoDraw")||r.canvas.draw()}}))},t.prototype.addAnimator=function(t){this.animators.push(t)},t.prototype.removeAnimator=function(t){this.animators.splice(t,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach((function(e){e.stopAnimate(t)})),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}(),Ft=Ot,It=n(9168),Pt=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Dt(t,e,n){n.name=e,n.target=t,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}function Lt(t,e,n){if(n.bubbles){var r=void 0,i=!1;if("mouseenter"===e?(r=n.fromShape,i=!0):"mouseleave"===e&&(i=!0,r=n.toShape),t.isCanvas()&&i)return;if(r&&(0,l.UY)(t,r))return void(n.bubbles=!1);n.name=e,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}}var Rt=function(){function t(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var n=t.type;e._triggerEvent(n,t)},this._onDocumentMove=function(t){if(e.canvas.get("el")!==t.target&&(e.dragging||e.currentShape)){var n=e._getPointInfo(t);e.dragging&&e._emitEvent("drag",t,n,e.draggingShape)}},this._onDocumentMouseUp=function(t){if(e.canvas.get("el")!==t.target&&e.dragging){var n=e._getPointInfo(t);e.draggingShape&&e._emitEvent("drop",t,n,null),e._emitEvent("dragend",t,n,e.draggingShape),e._afterDrag(e.draggingShape,n,t)}},this.canvas=t.canvas}return t.prototype.init=function(){this._bindEvents()},t.prototype._bindEvents=function(){var t=this,e=this.canvas.get("el");(0,l.S6)(Pt,(function(n){e.addEventListener(n,t._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._clearEvents=function(){var t=this,e=this.canvas.get("el");(0,l.S6)(Pt,(function(n){e.removeEventListener(n,t._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._getEventObj=function(t,e,n,r,i,a){var o=new It.Z(t,e);return o.fromShape=i,o.toShape=a,o.x=n.x,o.y=n.y,o.clientX=n.clientX,o.clientY=n.clientY,o.propagationPath.push(r),o},t.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},t.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),r=e.getPointByEvent(t);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},t.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),r=this._getShape(n,e),i=this["_on"+t],a=!1;if(i)i.call(this,n,r,e);else{var o=this.currentShape;"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,n,null,null,r),r&&this._emitEvent(t,e,n,r,null,r),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,n,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(a=!0,o&&this._emitEvent(t,e,n,o,o,null),this._emitEvent(t,e,n,null,o,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,n,null)):this._emitEvent(t,e,n,r,null,null)}if(a||(this.currentShape=r),r&&!r.get("destroyed")){var s=this.canvas;s.get("el").style.cursor=r.attr("cursor")||s.get("cursor")}},t.prototype._onmousedown=function(t,e,n){0===n.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,t,e,null,null)},t.prototype._emitMouseoverEvents=function(t,e,n,r){var i=this.canvas.get("el");n!==r&&(n&&(this._emitEvent("mouseout",t,e,n,n,r),this._emitEvent("mouseleave",t,e,n,n,r),r&&!r.get("destroyed")||(i.style.cursor=this.canvas.get("cursor"))),r&&(this._emitEvent("mouseover",t,e,r,n,r),this._emitEvent("mouseenter",t,e,r,n,r)))},t.prototype._emitDragoverEvents=function(t,e,n,r,i){r?(r!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,r),this._emitEvent("dragenter",t,e,r,n,r)),i||this._emitEvent("dragover",t,e,r)):n&&this._emitEvent("dragleave",t,e,n,n,r),i&&this._emitEvent("dragover",t,e,r)},t.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(e,n);r!==t&&this._emitMouseoverEvents(n,e,t,r),this.currentShape=r},t.prototype._onmouseup=function(t,e,n){if(0===n.button){var r=this.draggingShape;this.dragging?(r&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,r),this._afterDrag(r,t,n)):(this._emitEvent("mouseup",n,t,e),e===this.mousedownShape&&this._emitEvent("click",n,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},t.prototype._ondragover=function(t,e,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,t,r,e,!0)},t.prototype._onmousemove=function(t,e,n){var r=this.canvas,i=this.currentShape,a=this.draggingShape;if(this.dragging)a&&this._emitDragoverEvents(n,t,i,e,!1),this._emitEvent("drag",n,t,a);else{var o=this.mousedownPoint;if(o){var s=this.mousedownShape,l=n.timeStamp-this.mousedownTimeStamp,c=o.clientX-t.clientX,u=o.clientY-t.clientY;l>120||c*c+u*u>40?s&&s.get("draggable")?((a=this.mousedownShape).set("capture",!1),this.draggingShape=a,this.dragging=!0,this._emitEvent("dragstart",n,t,a),this.mousedownShape=null,this.mousedownPoint=null):!s&&r.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e))}else this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)}},t.prototype._emitEvent=function(t,e,n,r,i,a){var o=this._getEventObj(t,e,n,r,i,a);if(r){o.shape=r,Dt(r,t,o);for(var s=r.getParent();s;)s.emitDelegation(t,o),o.propagationStopped||Lt(s,t,o),o.propagationPath.push(s),s=s.getParent()}else{Dt(this.canvas,t,o)}},t.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},t}(),Bt=Rt,_t=(0,o.qY)(),Nt=_t&&"firefox"===_t.name,Ut=function(t){function e(e){var n=t.call(this,e)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return(0,a.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.cursor="default",e.supportCSSTransform=!1,e},e.prototype.initContainer=function(){var t=this.get("container");(0,l.HD)(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t),this.get("container").appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new Bt({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new Ft(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,e){var n=this.get("el");l.jU&&(n.style.width=t+"px",n.style.height=e+"px")},e.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");l.jU&&e&&(e.style.cursor=t)},e.prototype.getPointByEvent=function(t){if(this.get("supportCSSTransform")){if(Nt&&!(0,l.kK)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!(0,l.kK)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var e=this.getClientByEvent(t),n=e.x,r=e.y;return this.getPointByClient(n,r)},e.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},e.prototype.getPointByClient=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t-n.left,y:e-n.top}},e.prototype.getClientByPoint=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t+n.left,y:e+n.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){this.get("eventController").destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var e=this.get("timeline");this.get("destroyed")||(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))},e}(s.Z),zt=Ut},6277:function(t,e,n){"use strict";var r=n(9080),i=n(5597),a=n(2489),o={},s="_INDEX";function l(t,e){if(t.set("canvas",e),t.isGroup()){var n=t.get("children");n.length&&n.forEach((function(t){l(t,e)}))}}function c(t,e){if(t.set("timeline",e),t.isGroup()){var n=t.get("children");n.length&&n.forEach((function(t){c(t,e)}))}}var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return i.length>0?(0,a.S6)(i,(function(i){var a=i.getBBox(),o=a.minX,s=a.maxX,l=a.minY,c=a.maxY;o<t&&(t=o),s>e&&(e=s),l<n&&(n=l),c>r&&(r=c)})):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return i.length>0?(0,a.S6)(i,(function(i){var a=i.getCanvasBBox(),o=a.minX,s=a.maxX,l=a.minY,c=a.maxY;o<t&&(t=o),s>e&&(e=s),l<n&&(n=l),c>r&&(r=c)})):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.children=[],e},e.prototype.onAttrChange=function(e,n,r){if(t.prototype.onAttrChange.call(this,e,n,r),"matrix"===e){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},e.prototype.applyMatrix=function(e){var n=this.getTotalMatrix();t.prototype.applyMatrix.call(this,e);var r=this.getTotalMatrix();r!==n&&this._applyChildrenMarix(r)},e.prototype._applyChildrenMarix=function(t){var e=this.getChildren();(0,a.S6)(e,(function(e){e.applyMatrix(t)}))},e.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];(0,a.Kn)(n)?r=n:r.type=n;var i=o[r.type];i||(i=(0,a.jC)(r.type),o[r.type]=i);var s=new(this.getShapeBase()[i])(r);return this.add(s),s},e.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=t[0],i=t[1];if((0,a.mf)(r))n=new r(i||{parent:this});else{var o=r||{};n=new(this.getGroupBase())(o)}return this.add(n),n},e.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},e.prototype.getShape=function(t,e,n){if(!(0,a.pP)(this))return null;var r,i=this.getChildren();if(this.isCanvas())r=this._findShape(i,t,e,n);else{var o=[t,e,1];o=this.invertFromMatrix(o),this.isClipped(o[0],o[1])||(r=this._findShape(i,o[0],o[1],n))}return r},e.prototype._findShape=function(t,e,n,r){for(var i=null,o=t.length-1;o>=0;o--){var s=t[o];if((0,a.pP)(s)&&(s.isGroup()?i=s.getShape(e,n,r):s.isHit(e,n)&&(i=s)),i)break}return i},e.prototype.add=function(t){var e=this.getCanvas(),n=this.getChildren(),r=this.get("timeline"),i=t.getParent();i&&function(t,e,n){void 0===n&&(n=!0),n?e.destroy():(e.set("parent",null),e.set("canvas",null)),(0,a.As)(t.getChildren(),e)}(i,t,!1),t.set("parent",this),e&&l(t,e),r&&c(t,r),n.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},e.prototype.getChildren=function(){return this.get("children")},e.prototype.sort=function(){var t,e=this.getChildren();(0,a.S6)(e,(function(t,e){return t[s]=e,t})),e.sort((t=function(t,e){return t.get("zIndex")-e.get("zIndex")},function(e,n){var r=t(e,n);return 0===r?e[s]-n[s]:r})),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;e>=0;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),t.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){return this.getChildren()[t]},e.prototype.getCount=function(){return this.getChildren().length},e.prototype.contain=function(t){return this.getChildren().indexOf(t)>-1},e.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},e.prototype.findAll=function(t){var e=[],n=this.getChildren();return(0,a.S6)(n,(function(n){t(n)&&e.push(n),n.isGroup()&&(e=e.concat(n.findAll(t)))})),e},e.prototype.find=function(t){var e=null,n=this.getChildren();return(0,a.S6)(n,(function(n){if(t(n)?e=n:n.isGroup()&&(e=n.find(t)),e)return!1})),e},e.prototype.findById=function(t){return this.find((function(e){return e.get("id")===t}))},e.prototype.findByClassName=function(t){return this.find((function(e){return e.get("className")===t}))},e.prototype.findAllByName=function(t){return this.findAll((function(e){return e.get("name")===t}))},e}(i.Z);e.Z=u},5597:function(t,e,n){"use strict";var r=n(9080),i=n(8696),a=n(6403),o=n(2489),s=n(5313),l=n(9753),c=a.vs,u="matrix",h=["zIndex","capture","visible","type"],f=["repeat"];function p(t,e){var n={},r=e.attrs;for(var i in t)n[i]=r[i];return n}var d=function(t){function e(e){var n=t.call(this,e)||this;n.attrs={};var r=n.getDefaultAttrs();return(0,i.CD)(r,e.attrs),n.attrs=r,n.initAttrs(r),n.initAnimate(),n}return(0,r.ZT)(e,t),e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],a=e[1];if(!r)return this.attrs;if((0,i.Kn)(r)){for(var o in r)this.setAttr(o,r[o]);return this.afterAttrsChange(r),this}return 2===e.length?(this.setAttr(r,a),this.afterAttrsChange(((t={})[r]=a,t)),this):this.attrs[r]},e.prototype.isClipped=function(t,e){var n=this.getClip();return n&&!n.isHit(t,e)},e.prototype.setAttr=function(t,e){var n=this.attrs[t];n!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,n))},e.prototype.onAttrChange=function(t,e,n){"matrix"===t&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var e=this.cfg.applyTo;e&&e.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?((0,o.As)(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr(u,this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr(u)},e.prototype.setMatrix=function(t){this.attr(u,t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var e=this.attr("matrix"),n=this.cfg.parentMatrix;t=n&&e?(0,s.xq)(n,e):e||n,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var e=this.attr("matrix"),n=null;n=t&&e?(0,s.xq)(t,e):e||t,this.set("totalMatrix",n),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?(0,s.rG)(e,t):t},e.prototype.invertFromMatrix=function(t){var e=this.attr("matrix");if(e){var n=(0,s.U_)(e);if(n)return(0,s.rG)(n,t)}return t},e.prototype.setClip=function(t){var e=this.getCanvas(),n=null;if(t){var r=this.getShapeBase()[(0,i.jC)(t.type)];r&&(n=new r({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:e}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,e=this.attrs,n={};(0,i.S6)(e,(function(t,r){(0,i.kJ)(e[r])?n[r]=function(t){for(var e=[],n=0;n<t.length;n++)(0,i.kJ)(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}(e[r]):n[r]=e[r]}));var r=new(0,this.constructor)({attrs:n});return(0,i.S6)(h,(function(e){r.set(e,t.get(e))})),r},e.prototype.destroy=function(){this.destroyed||(this.attrs={},t.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var r=this.get("animations")||[];n.timer||n.initTimer();var a,o,s,l,c,u=t[0],h=t[1],d=t[2],g=void 0===d?"easeLinear":d,v=t[3],y=void 0===v?i.ZT:v,m=t[4],x=void 0===m?0:m;(0,i.mf)(u)?(a=u,u={}):(0,i.Kn)(u)&&u.onFrame&&(a=u.onFrame,o=u.repeat),(0,i.Kn)(h)?(h=(c=h).duration,g=c.easing||"easeLinear",x=c.delay||0,o=c.repeat||o||!1,y=c.callback||i.ZT,s=c.pauseCallback||i.ZT,l=c.resumeCallback||i.ZT):((0,i.hj)(y)&&(x=y,y=null),(0,i.mf)(g)?(y=g,g="easeLinear"):g=g||"easeLinear");var b=function(t,e){var n={},r=e.attr();return(0,i.S6)(t,(function(t,e){-1!==f.indexOf(e)||(0,i.Xy)(r[e],t)||(n[e]=t)})),n}(u,this),w={fromAttrs:p(b,this),toAttrs:b,duration:h,easing:g,repeat:o,callback:y,pauseCallback:s,resumeCallback:l,delay:x,startTime:n.getTime(),id:(0,i.EL)(),onFrame:a,pathFormatted:!1};r.length>0?r=function(t,e){if(e.onFrame)return t;var n=e.startTime,r=e.delay,a=e.duration,o=Object.prototype.hasOwnProperty;return(0,i.S6)(t,(function(t){n+r<t.startTime+t.delay+t.duration&&a>t.delay&&(0,i.S6)(e.toAttrs,(function(e,n){o.call(t.toAttrs,n)&&(delete t.toAttrs[n],delete t.fromAttrs[n])}))})),t}(r,w):n.addAnimator(this),r.push(w),this.set("animations",r),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0);var n=this.get("animations");(0,i.S6)(n,(function(n){t&&(n.onFrame?e.attr(n.onFrame(1)):e.attr(n.toAttrs)),n.callback&&n.callback()})),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),n=t.getTime();return(0,i.S6)(e,(function(t){t._paused=!0,t._pauseTime=n,t.pauseCallback&&t.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline").getTime(),e=this.get("animations"),n=this.get("_pause").pauseTime;return(0,i.S6)(e,(function(e){e.startTime=e.startTime+(t-n),e._paused=!1,e._pauseTime=null,e.resumeCallback&&e.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",e),this},e.prototype.emitDelegation=function(t,e){var n,r=this,a=e.propagationPath;this.getEvents();"mouseenter"===t?n=e.fromShape:"mouseleave"===t&&(n=e.toShape);for(var s=function(t){var s=a[t],c=s.get("name");if(c){if((s.isGroup()||s.isCanvas&&s.isCanvas())&&n&&(0,o.UY)(s,n))return"break";(0,i.kJ)(c)?(0,i.S6)(c,(function(t){r.emitDelegateEvent(s,t,e)})):l.emitDelegateEvent(s,c,e)}},l=this,c=0;c<a.length;c++){if("break"===s(c))break}},e.prototype.emitDelegateEvent=function(t,e,n){var r=this.getEvents(),i=e+":"+n.type;(r[i]||r["*"])&&(n.name=i,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get("delegateObject"),this.emit(i,n))},e.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getMatrix(),r=c(n,[["t",t,e]]);return this.setMatrix(r),this},e.prototype.move=function(t,e){var n=this.attr("x")||0,r=this.attr("y")||0;return this.translate(t-n,e-r),this},e.prototype.moveTo=function(t,e){return this.move(t,e)},e.prototype.scale=function(t,e){var n=this.getMatrix(),r=c(n,[["s",t,e||t]]);return this.setMatrix(r),this},e.prototype.rotate=function(t){var e=this.getMatrix(),n=c(e,[["r",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var e=this.attr(),n=e.x,r=e.y,i=this.getMatrix(),a=c(i,[["t",-n,-r],["r",t],["t",n,r]]);return this.setMatrix(a),this},e.prototype.rotateAtPoint=function(t,e,n){var r=this.getMatrix(),i=c(r,[["t",-t,-e],["r",n],["t",t,e]]);return this.setMatrix(i),this},e}(l.Z);e.Z=d},9157:function(t,e,n){"use strict";var r=n(9080),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=this.getChildren(),r=0;r<n.length;r++){var i=n[r];e.add(i.clone())}return e},e}(n(6277).Z);e.Z=i},5403:function(t,e,n){"use strict";var r=n(9080),i=n(5597),a=n(5313),o=function(t){function e(e){return t.call(this,e)||this}return(0,r.ZT)(e,t),e.prototype._isInBBox=function(t,e){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=e&&n.maxY>=e},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(e){t.prototype.applyMatrix.call(this,e),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),n=t.minX,r=t.minY,i=t.maxX,o=t.maxY;if(e){var s=(0,a.rG)(e,[t.minX,t.minY]),l=(0,a.rG)(e,[t.maxX,t.minY]),c=(0,a.rG)(e,[t.minX,t.maxY]),u=(0,a.rG)(e,[t.maxX,t.maxY]);n=Math.min(s[0],l[0],c[0],u[0]),i=Math.max(s[0],l[0],c[0],u[0]),r=Math.min(s[1],l[1],c[1],u[1]),o=Math.max(s[1],l[1],c[1],u[1])}var h=this.attrs;if(h.shadowColor){var f=h.shadowBlur,p=void 0===f?0:f,d=h.shadowOffsetX,g=void 0===d?0:d,v=h.shadowOffsetY,y=void 0===v?0:v,m=n-p+g,x=i+p+g,b=r-p+y,w=o+p+y;n=Math.min(n,m),i=Math.max(i,x),r=Math.min(r,b),o=Math.max(o,w)}return{x:n,y:r,minX:n,minY:r,maxX:i,maxY:o,width:i-n,height:o-r}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,e){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,e){var n=this.get("startArrowShape"),r=this.get("endArrowShape"),i=[t,e,1],a=(i=this.invertFromMatrix(i))[0],o=i[1],s=this._isInBBox(a,o);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(a,o)){if(this.isInShape(a,o))return!0;if(n&&n.isHit(a,o))return!0;if(r&&r.isHit(a,o))return!0}return!1},e}(i.Z);e.Z=o},3169:function(t,e,n){"use strict";n.d(e,{_:function(){return $},C:function(){return q}});var r={};function i(t){return+t}function a(t){return t*t}function o(t){return t*(2-t)}function s(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function l(t){return t*t*t}function c(t){return--t*t*t+1}function u(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}n.r(r),n.d(r,{easeBack:function(){return V},easeBackIn:function(){return z},easeBackInOut:function(){return V},easeBackOut:function(){return H},easeBounce:function(){return _},easeBounceIn:function(){return B},easeBounceInOut:function(){return N},easeBounceOut:function(){return _},easeCircle:function(){return E},easeCircleIn:function(){return C},easeCircleInOut:function(){return E},easeCircleOut:function(){return T},easeCubic:function(){return u},easeCubicIn:function(){return l},easeCubicInOut:function(){return u},easeCubicOut:function(){return c},easeElastic:function(){return Y},easeElasticIn:function(){return W},easeElasticInOut:function(){return j},easeElasticOut:function(){return Y},easeExp:function(){return S},easeExpIn:function(){return b},easeExpInOut:function(){return S},easeExpOut:function(){return w},easeLinear:function(){return i},easePoly:function(){return p},easePolyIn:function(){return h},easePolyInOut:function(){return p},easePolyOut:function(){return f},easeQuad:function(){return s},easeQuadIn:function(){return a},easeQuadInOut:function(){return s},easeQuadOut:function(){return o},easeSin:function(){return m},easeSinIn:function(){return v},easeSinInOut:function(){return m},easeSinOut:function(){return y}});var h=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),f=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),p=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),d=Math.PI,g=d/2;function v(t){return 1===+t?1:1-Math.cos(t*g)}function y(t){return Math.sin(t*g)}function m(t){return(1-Math.cos(d*t))/2}function x(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function b(t){return x(1-+t)}function w(t){return 1-x(t)}function S(t){return((t*=2)<=1?x(1-t):2-x(t-1))/2}function C(t){return 1-Math.sqrt(1-t*t)}function T(t){return Math.sqrt(1- --t*t)}function E(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var k=4/11,M=6/11,A=8/11,O=3/4,F=9/11,I=10/11,P=15/16,D=21/22,L=63/64,R=1/k/k;function B(t){return 1-_(1-t)}function _(t){return(t=+t)<k?R*t*t:t<A?R*(t-=M)*t+O:t<I?R*(t-=F)*t+P:R*(t-=D)*t+L}function N(t){return((t*=2)<=1?1-_(1-t):_(t-1)+1)/2}var U=1.70158,z=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(U),H=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(U),V=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(U),G=2*Math.PI,W=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=G);function i(t){return e*x(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*G)},i.period=function(n){return t(e,n)},i}(1,.3),Y=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=G);function i(t){return 1-e*x(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*G)},i.period=function(n){return t(e,n)},i}(1,.3),j=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=G);function i(t){return((t=2*t-1)<0?e*x(-t)*Math.sin((r-t)/n):2-e*x(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*G)},i.period=function(n){return t(e,n)},i}(1,.3),X={};function $(t){return X[t.toLowerCase()]||r[t]}function q(t,e){X[t.toLowerCase()]=e}},6007:function(t,e,n){"use strict";n.d(e,{b:function(){return a},W:function(){return i}});var r=new Map;function i(t,e){r.set(t,e)}function a(t){return r.get(t)}function o(t){var e=t.attr();return{x:e.x,y:e.y,width:e.width,height:e.height}}function s(t){var e=t.attr(),n=e.x,r=e.y,i=e.r;return{x:n-i,y:r-i,width:2*i,height:2*i}}var l=n(1622);function c(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function u(t,e){var n=t.get("startArrowShape"),r=t.get("endArrowShape");return n&&(e=c(e,n.getCanvasBBox())),r&&(e=c(e,r.getCanvasBBox())),e}var h=n(9341);var f=n(3313),p=n(8696);function d(t,e){var n=t.prePoint,r=t.currentPoint,i=t.nextPoint,a=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),o=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),l=Math.acos((a+o-s)/(2*Math.sqrt(a)*Math.sqrt(o)));if(!l||0===Math.sin(l)||(0,p.vQ)(l,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),u=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));return c=c>Math.PI/2?Math.PI-c:c,u=u>Math.PI/2?Math.PI-u:u,{xExtra:Math.cos(l/2-c)*(e/2*(1/Math.sin(l/2)))-e/2||0,yExtra:Math.cos(u-l/2)*(e/2*(1/Math.sin(l/2)))-e/2||0}}i("rect",o),i("image",o),i("circle",s),i("marker",s),i("polyline",(function(t){for(var e=t.attr().points,n=[],r=[],i=0;i<e.length;i++){var a=e[i];n.push(a[0]),r.push(a[1])}var o=l.Zr.getBBoxByArray(n,r),s=o.x,c=o.y,h={minX:s,minY:c,maxX:s+o.width,maxY:c+o.height};return{x:(h=u(t,h)).minX,y:h.minY,width:h.maxX-h.minX,height:h.maxY-h.minY}})),i("polygon",(function(t){for(var e=t.attr().points,n=[],r=[],i=0;i<e.length;i++){var a=e[i];n.push(a[0]),r.push(a[1])}return l.Zr.getBBoxByArray(n,r)})),i("text",(function(t){var e=t.attr(),n=e.x,r=e.y,i=e.text,a=e.fontSize,o=e.lineHeight,s=e.font;s||(s=(0,h.$O)(e));var l,c=(0,h.mY)(i,s);if(c){var u=e.textAlign,f=e.textBaseline,p=(0,h.FE)(i,a,o),d={x:n,y:r-p};u&&("end"===u||"right"===u?d.x-=c:"center"===u&&(d.x-=c/2)),f&&("top"===f?d.y+=p:"middle"===f&&(d.y+=p/2)),l={x:d.x,y:d.y,width:c,height:p}}else l={x:n,y:r,width:0,height:0};return l})),i("path",(function(t){var e=t.attr(),n=e.path,r=e.stroke?e.lineWidth:0,i=function(t,e){for(var n=[],r=[],i=[],a=0;a<t.length;a++){var o=(m=t[a]).currentPoint,s=m.params,c=m.prePoint,u=void 0;switch(m.command){case"Q":u=l.lD.box(c[0],c[1],s[1],s[2],s[3],s[4]);break;case"C":u=l.Ll.box(c[0],c[1],s[1],s[2],s[3],s[4],s[5],s[6]);break;case"A":var h=m.arcParams;u=l.wN.box(h.cx,h.cy,h.rx,h.ry,h.xRotation,h.startAngle,h.endAngle);break;default:n.push(o[0]),r.push(o[1])}u&&(m.box=u,n.push(u.x,u.x+u.width),r.push(u.y,u.y+u.height)),e&&("L"===m.command||"M"===m.command)&&m.prePoint&&m.nextPoint&&i.push(m)}n=n.filter((function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0})),r=r.filter((function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0}));var f=(0,p.VV)(n),g=(0,p.VV)(r),v=(0,p.Fp)(n),y=(0,p.Fp)(r);if(0===i.length)return{x:f,y:g,width:v-f,height:y-g};for(a=0;a<i.length;a++){var m;(o=(m=i[a]).currentPoint)[0]===f?f-=d(m,e).xExtra:o[0]===v&&(v+=d(m,e).xExtra),o[1]===g?g-=d(m,e).yExtra:o[1]===y&&(y+=d(m,e).yExtra)}return{x:f,y:g,width:v-f,height:y-g}}(t.get("segments")||(0,f.zx)(n),r),a=i.x,o=i.y,s={minX:a,minY:o,maxX:a+i.width,maxY:o+i.height};return{x:(s=u(t,s)).minX,y:s.minY,width:s.maxX-s.minX,height:s.maxY-s.minY}})),i("line",(function(t){var e=t.attr(),n=e.x1,r=e.y1,i=e.x2,a=e.y2,o={minX:Math.min(n,i),maxX:Math.max(n,i),minY:Math.min(r,a),maxY:Math.max(r,a)};return{x:(o=u(t,o)).minX,y:o.minY,width:o.maxX-o.minX,height:o.maxY-o.minY}})),i("ellipse",(function(t){var e=t.attr(),n=e.x,r=e.y,i=e.rx,a=e.ry;return{x:n-i,y:r-a,width:2*i,height:2*a}}))},9168:function(t,e){"use strict";var n=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}();e.Z=n},4494:function(t,e,n){"use strict";n.r(e),n.d(e,{AbstractCanvas:function(){return u.Z},AbstractGroup:function(){return h.Z},AbstractShape:function(){return f.Z},Base:function(){return c.Z},Event:function(){return l.Z},PathUtil:function(){return r},assembleFont:function(){return d.$O},getBBoxMethod:function(){return p.b},getOffScreenContext:function(){return y.L},getTextHeight:function(){return d.FE},invert:function(){return v.U_},isAllowCapture:function(){return g.pP},multiplyVec2:function(){return v.rG},registerBBox:function(){return p.W},registerEasing:function(){return m.C},version:function(){return x}});var r=n(1607),i=n(6135),a={};for(var o in i)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(o)<0&&(a[o]=function(t){return i[t]}.bind(0,o));n.d(e,a);var s=n(468);a={};for(var o in s)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(o)<0&&(a[o]=function(t){return s[t]}.bind(0,o));n.d(e,a);var l=n(9168),c=n(9753),u=n(495),h=n(9157),f=n(5403),p=n(6007),d=n(9341),g=n(2489),v=n(5313),y=n(3841),m=n(3169),x="0.5.11"},468:function(){},6135:function(){},5313:function(t,e,n){"use strict";function r(t,e){var n=[],r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],f=e[0],p=e[1],d=e[2],g=e[3],v=e[4],y=e[5],m=e[6],x=e[7],b=e[8];return n[0]=f*r+p*o+d*c,n[1]=f*i+p*s+d*u,n[2]=f*a+p*l+d*h,n[3]=g*r+v*o+y*c,n[4]=g*i+v*s+y*u,n[5]=g*a+v*l+y*h,n[6]=m*r+x*o+b*c,n[7]=m*i+x*s+b*u,n[8]=m*a+x*l+b*h,n}function i(t,e){var n=[],r=e[0],i=e[1];return n[0]=t[0]*r+t[3]*i+t[6],n[1]=t[1]*r+t[4]*i+t[7],n}function a(t){var e=[],n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],c=t[7],u=t[8],h=u*o-s*c,f=-u*a+s*l,p=c*a-o*l,d=n*h+r*f+i*p;return d?(d=1/d,e[0]=h*d,e[1]=(-u*r+i*c)*d,e[2]=(s*r-i*o)*d,e[3]=f*d,e[4]=(u*n-i*l)*d,e[5]=(-s*n+i*a)*d,e[6]=p*d,e[7]=(-c*n+r*l)*d,e[8]=(o*n-r*a)*d,e):null}n.d(e,{U_:function(){return a},rG:function(){return i},xq:function(){return r}})},3841:function(t,e,n){"use strict";n.d(e,{L:function(){return i}});var r=null;function i(){if(!r){var t=document.createElement("canvas");t.width=1,t.height=1,r=t.getContext("2d")}return r}},1607:function(t,e,n){"use strict";n.r(e),n.d(e,{catmullRomToBezier:function(){return l},fillPath:function(){return F},fillPathByDiff:function(){return D},formatPath:function(){return B},intersection:function(){return M},parsePathArray:function(){return v},parsePathString:function(){return s},pathToAbsolute:function(){return u},pathToCurve:function(){return d},rectPath:function(){return S}});var r=n(8696),i="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",a=new RegExp("([a-z])["+i+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+i+"]*,?["+i+"]*)+)","ig"),o=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+i+"]*,?["+i+"]*","ig"),s=function(t){if(!t)return null;if((0,r.kJ)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(a,(function(r,i,a){var s=[],l=i.toLowerCase();if(a.replace(o,(function(t,e){e&&s.push(+e)})),"m"===l&&s.length>2&&(n.push([i].concat(s.splice(0,2))),l="l",i="m"===i?"l":"L"),"o"===l&&1===s.length&&n.push([i,s[0]]),"r"===l)n.push([i].concat(s));else for(;s.length>=e[l]&&(n.push([i].concat(s.splice(0,e[l]))),e[l]););return t})),n},l=function(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var a=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?a[3]={x:+t[0],y:+t[1]}:i-2===r&&(a[2]={x:+t[0],y:+t[1]},a[3]={x:+t[2],y:+t[3]}):a[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?a[3]=a[2]:r||(a[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return n},c=function(t,e,n,r,i){var a=[];if(null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i){var o=Math.PI/180,s=t+n*Math.cos(-r*o),l=t+n*Math.cos(-i*o);a=[["M",s,e+n*Math.sin(-r*o)],["A",n,n,0,+(i-r>180),0,l,e+n*Math.sin(-i*o)]]}else a=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return a},u=function(t){if(!(t=s(t))||!t.length)return[["M",0,0]];var e,n,r=[],i=0,a=0,o=0,u=0,h=0;"M"===t[0][0]&&(o=i=+t[0][1],u=a=+t[0][2],h++,r[0]=["M",i,a]);for(var f=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),p=void 0,d=void 0,g=h,v=t.length;g<v;g++){if(r.push(p=[]),(e=(d=t[g])[0])!==e.toUpperCase())switch(p[0]=e.toUpperCase(),p[0]){case"A":p[1]=d[1],p[2]=d[2],p[3]=d[3],p[4]=d[4],p[5]=d[5],p[6]=+d[6]+i,p[7]=+d[7]+a;break;case"V":p[1]=+d[1]+a;break;case"H":p[1]=+d[1]+i;break;case"R":for(var y=2,m=(n=[i,a].concat(d.slice(1))).length;y<m;y++)n[y]=+n[y]+i,n[++y]=+n[y]+a;r.pop(),r=r.concat(l(n,f));break;case"O":r.pop(),(n=c(i,a,d[1],d[2])).push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(c(i,a,d[1],d[2],d[3])),p=["U"].concat(r[r.length-1].slice(-2));break;case"M":o=+d[1]+i,u=+d[2]+a;break;default:for(y=1,m=d.length;y<m;y++)p[y]=+d[y]+(y%2?i:a)}else if("R"===e)n=[i,a].concat(d.slice(1)),r.pop(),r=r.concat(l(n,f)),p=["R"].concat(d.slice(-2));else if("O"===e)r.pop(),(n=c(i,a,d[1],d[2])).push(n[0]),r=r.concat(n);else if("U"===e)r.pop(),r=r.concat(c(i,a,d[1],d[2],d[3])),p=["U"].concat(r[r.length-1].slice(-2));else for(var x=0,b=d.length;x<b;x++)p[x]=d[x];if("O"!==(e=e.toUpperCase()))switch(p[0]){case"Z":i=+o,a=+u;break;case"H":i=p[1];break;case"V":a=p[1];break;case"M":o=p[p.length-2],u=p[p.length-1];break;default:i=p[p.length-2],a=p[p.length-1]}}return r},h=function(t,e,n,r){return[t,e,n,r,n,r]},f=function(t,e,n,r,i,a){var o=1/3,s=2/3;return[o*t+s*n,o*e+s*r,o*i+s*n,o*a+s*r,i,a]},p=function t(e,n,r,i,a,o,s,l,c,u){r===i&&(r+=1);var h,f,p,d,g,v=120*Math.PI/180,y=Math.PI/180*(+a||0),m=[],x=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}};if(u)f=u[0],p=u[1],d=u[2],g=u[3];else{e=(h=x(e,n,-y)).x,n=h.y,l=(h=x(l,c,-y)).x,c=h.y,e===l&&n===c&&(l+=1,c+=1);var b=(e-l)/2,w=(n-c)/2,S=b*b/(r*r)+w*w/(i*i);S>1&&(r*=S=Math.sqrt(S),i*=S);var C=r*r,T=i*i,E=(o===s?-1:1)*Math.sqrt(Math.abs((C*T-C*w*w-T*b*b)/(C*w*w+T*b*b)));d=E*r*w/i+(e+l)/2,g=E*-i*b/r+(n+c)/2,f=Math.asin(((n-g)/i).toFixed(9)),p=Math.asin(((c-g)/i).toFixed(9)),f=e<d?Math.PI-f:f,p=l<d?Math.PI-p:p,f<0&&(f=2*Math.PI+f),p<0&&(p=2*Math.PI+p),s&&f>p&&(f-=2*Math.PI),!s&&p>f&&(p-=2*Math.PI)}var k=p-f;if(Math.abs(k)>v){var M=p,A=l,O=c;p=f+v*(s&&p>f?1:-1),m=t(l=d+r*Math.cos(p),c=g+i*Math.sin(p),r,i,a,0,s,A,O,[p,M,d,g])}k=p-f;var F=Math.cos(f),I=Math.sin(f),P=Math.cos(p),D=Math.sin(p),L=Math.tan(k/4),R=4/3*r*L,B=4/3*i*L,_=[e,n],N=[e+R*I,n-B*F],U=[l+R*D,c-B*P],z=[l,c];if(N[0]=2*_[0]-N[0],N[1]=2*_[1]-N[1],u)return[N,U,z].concat(m);for(var H=[],V=0,G=(m=[N,U,z].concat(m).join().split(",")).length;V<G;V++)H[V]=V%2?x(m[V-1],m[V],y).y:x(m[V],m[V+1],y).x;return H},d=function(t,e){var n,r=u(t),i=e&&u(e),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],l=[],c="",d="",g=function(t,e,n){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(p.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*e.x-e.bx,i=2*e.y-e.by):(r=e.x,i=e.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(f(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(f(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(h(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(h(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(h(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(h(e.x,e.y,e.X,e.Y))}return t},v=function(t,e){if(t[e].length>7){t[e].shift();for(var a=t[e];a.length;)s[e]="A",i&&(l[e]="A"),t.splice(e++,0,["C"].concat(a.splice(0,6)));t.splice(e,1),n=Math.max(r.length,i&&i.length||0)}},y=function(t,e,a,o,s){t&&e&&"M"===t[s][0]&&"M"!==e[s][0]&&(e.splice(s,0,["M",o.x,o.y]),a.bx=0,a.by=0,a.x=t[s][1],a.y=t[s][2],n=Math.max(r.length,i&&i.length||0))};n=Math.max(r.length,i&&i.length||0);for(var m=0;m<n;m++){r[m]&&(c=r[m][0]),"C"!==c&&(s[m]=c,m&&(d=s[m-1])),r[m]=g(r[m],a,d),"A"!==s[m]&&"C"===c&&(s[m]="C"),v(r,m),i&&(i[m]&&(c=i[m][0]),"C"!==c&&(l[m]=c,m&&(d=l[m-1])),i[m]=g(i[m],o,d),"A"!==l[m]&&"C"===c&&(l[m]="C"),v(i,m)),y(r,i,a,o,m),y(i,r,o,a,m);var x=r[m],b=i&&i[m],w=x.length,S=i&&b.length;a.x=x[w-2],a.y=x[w-1],a.bx=parseFloat(x[w-4])||a.x,a.by=parseFloat(x[w-3])||a.y,o.bx=i&&(parseFloat(b[S-4])||o.x),o.by=i&&(parseFloat(b[S-3])||o.y),o.x=i&&b[S-2],o.y=i&&b[S-1]}return i?[r,i]:r},g=/,?([a-z]),?/gi,v=function(t){return t.join(",").replace(g,"$1")},y=function(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n},m=function(t,e,n,r,i,a,o,s,l){null===l&&(l=1);for(var c=(l=l>1?1:l<0?0:l)/2,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,p=0;p<12;p++){var d=c*u[p]+c,g=y(d,t,n,i,o),v=y(d,e,r,a,s),m=g*g+v*v;f+=h[p]*Math.sqrt(m)}return c*f},x=function(t,e,n,r,i,a,o,s){for(var l,c,u,h,f=[],p=[[],[]],d=0;d<2;++d)if(0===d?(c=6*t-12*n+6*i,l=-3*t+9*n-9*i+3*o,u=3*n-3*t):(c=6*e-12*r+6*a,l=-3*e+9*r-9*a+3*s,u=3*r-3*e),Math.abs(l)<1e-12){if(Math.abs(c)<1e-12)continue;(h=-u/c)>0&&h<1&&f.push(h)}else{var g=c*c-4*u*l,v=Math.sqrt(g);if(!(g<0)){var y=(-c+v)/(2*l);y>0&&y<1&&f.push(y);var m=(-c-v)/(2*l);m>0&&m<1&&f.push(m)}}for(var x,b=f.length,w=b;b--;)x=1-(h=f[b]),p[0][b]=x*x*x*t+3*x*x*h*n+3*x*h*h*i+h*h*h*o,p[1][b]=x*x*x*e+3*x*x*h*r+3*x*h*h*a+h*h*h*s;return p[0][w]=t,p[1][w]=e,p[0][w+1]=o,p[1][w+1]=s,p[0].length=p[1].length=w+2,{min:{x:Math.min.apply(0,p[0]),y:Math.min.apply(0,p[1])},max:{x:Math.max.apply(0,p[0]),y:Math.max.apply(0,p[1])}}},b=function(t,e,n,r,i,a,o,s){if(!(Math.max(t,n)<Math.min(i,o)||Math.min(t,n)>Math.max(i,o)||Math.max(e,r)<Math.min(a,s)||Math.min(e,r)>Math.max(a,s))){var l=(t-n)*(a-s)-(e-r)*(i-o);if(l){var c=((t*r-e*n)*(i-o)-(t-n)*(i*s-a*o))/l,u=((t*r-e*n)*(a-s)-(e-r)*(i*s-a*o))/l,h=+c.toFixed(2),f=+u.toFixed(2);if(!(h<+Math.min(t,n).toFixed(2)||h>+Math.max(t,n).toFixed(2)||h<+Math.min(i,o).toFixed(2)||h>+Math.max(i,o).toFixed(2)||f<+Math.min(e,r).toFixed(2)||f>+Math.max(e,r).toFixed(2)||f<+Math.min(a,s).toFixed(2)||f>+Math.max(a,s).toFixed(2)))return{x:c,y:u}}}},w=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},S=function(t,e,n,r,i){if(i)return[["M",+t+ +i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var a=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return a.parsePathArray=v,a},C=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:S(t,e,n,r),vb:[t,e,n,r].join(" ")}},T=function(t,e,n,i,a,o,s,l){(0,r.kJ)(t)||(t=[t,e,n,i,a,o,s,l]);var c=x.apply(null,t);return C(c.min.x,c.min.y,c.max.x-c.min.x,c.max.y-c.min.y)},E=function(t,e,n,r,i,a,o,s,l){var c=1-l,u=Math.pow(c,3),h=Math.pow(c,2),f=l*l,p=f*l,d=t+2*l*(n-t)+f*(i-2*n+t),g=e+2*l*(r-e)+f*(a-2*r+e),v=n+2*l*(i-n)+f*(o-2*i+n),y=r+2*l*(a-r)+f*(s-2*a+r);return{x:u*t+3*h*l*n+3*c*l*l*i+p*o,y:u*e+3*h*l*r+3*c*l*l*a+p*s,m:{x:d,y:g},n:{x:v,y:y},start:{x:c*t+l*n,y:c*e+l*r},end:{x:c*i+l*o,y:c*a+l*s},alpha:90-180*Math.atan2(d-v,g-y)/Math.PI}},k=function(t,e,n){if(!function(t,e){return t=C(t),e=C(e),w(e,t.x,t.y)||w(e,t.x2,t.y)||w(e,t.x,t.y2)||w(e,t.x2,t.y2)||w(t,e.x,e.y)||w(t,e.x2,e.y)||w(t,e.x,e.y2)||w(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(T(t),T(e)))return n?0:[];for(var r=~~(m.apply(0,t)/8),i=~~(m.apply(0,e)/8),a=[],o=[],s={},l=n?0:[],c=0;c<r+1;c++){var u=E.apply(0,t.concat(c/r));a.push({x:u.x,y:u.y,t:c/r})}for(c=0;c<i+1;c++){u=E.apply(0,e.concat(c/i));o.push({x:u.x,y:u.y,t:c/i})}for(c=0;c<r;c++)for(var h=0;h<i;h++){var f=a[c],p=a[c+1],d=o[h],g=o[h+1],v=Math.abs(p.x-f.x)<.001?"y":"x",y=Math.abs(g.x-d.x)<.001?"y":"x",x=b(f.x,f.y,p.x,p.y,d.x,d.y,g.x,g.y);if(x){if(s[x.x.toFixed(4)]===x.y.toFixed(4))continue;s[x.x.toFixed(4)]=x.y.toFixed(4);var S=f.t+Math.abs((x[v]-f[v])/(p[v]-f[v]))*(p.t-f.t),k=d.t+Math.abs((x[y]-d[y])/(g[y]-d[y]))*(g.t-d.t);S>=0&&S<=1&&k>=0&&k<=1&&(n?l+=1:l.push({x:x.x,y:x.y,t1:S,t2:k}))}}return l},M=function(t,e){return function(t,e,n){var r,i,a,o,s,l,c,u,h,f;t=d(t),e=d(e);for(var p=n?0:[],g=0,v=t.length;g<v;g++){var y=t[g];if("M"===y[0])r=s=y[1],i=l=y[2];else{"C"===y[0]?(h=[r,i].concat(y.slice(1)),r=h[6],i=h[7]):(h=[r,i,r,i,s,l,s,l],r=s,i=l);for(var m=0,x=e.length;m<x;m++){var b=e[m];if("M"===b[0])a=c=b[1],o=u=b[2];else{"C"===b[0]?(f=[a,o].concat(b.slice(1)),a=f[6],o=f[7]):(f=[a,o,a,o,c,u,c,u],a=c,o=u);var w=k(h,f,n);if(n)p+=w;else{for(var S=0,C=w.length;S<C;S++)w[S].segment1=g,w[S].segment2=m,w[S].bez1=h,w[S].bez2=f;p=p.concat(w)}}}}}return p}(t,e)};function A(t,e){var n=[],r=[];return t.length&&function t(e,i){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var a=[],o=0;o<e.length-1;o++)0===o&&n.push(e[0]),o===e.length-2&&r.push(e[o+1]),a[o]=[(1-i)*e[o][0]+i*e[o+1][0],(1-i)*e[o][1]+i*e[o+1][1]];t(a,i)}}(t,e),{left:n,right:r.reverse()}}var O=function(t,e,n){if(1===n)return[[].concat(t)];var r=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])r=r.concat(function(t,e,n){var r=[[t[1],t[2]]];n=n||2;var i=[];"A"===e[0]?(r.push(e[6]),r.push(e[7])):"C"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var a=r,o=1/n,s=0;s<n-1;s++){var l=A(a,o/(1-o*s));i.push(l.left),a=l.right}return i.push(a),i.map((function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e.concat(t[t.length-1])}))}(t,e,n));else{var i=[].concat(t);"M"===i[0]&&(i[0]="L");for(var a=0;a<=n-1;a++)r.push(i)}return r},F=function(t,e){if(1===t.length)return t;var n=t.length-1,r=e.length-1,i=n/r,a=[];if(1===t.length&&"M"===t[0][0]){for(var o=0;o<r-n;o++)t.push(t[0]);return t}for(o=0;o<r;o++){var s=Math.floor(i*o);a[s]=(a[s]||0)+1}var l=a.reduce((function(e,r,i){return i===n?e.concat(t[n]):e.concat(O(t[i],t[i+1],r))}),[]);return l.unshift(t[0]),"Z"!==e[r]&&"z"!==e[r]||l.push("Z"),l},I=function(t,e){if(t.length!==e.length)return!1;var n=!0;return(0,r.S6)(t,(function(t,r){if(t!==e[r])return n=!1,!1})),n};function P(t,e,n){var r=null,i=n;return e<i&&(i=e,r="add"),t<i&&(i=t,r="del"),{type:r,min:i}}var D=function(t,e){var n=function(t,e){var n,r,i=t.length,a=e.length,o=0;if(0===i||0===a)return null;for(var s=[],l=0;l<=i;l++)s[l]=[],s[l][0]={min:l};for(var c=0;c<=a;c++)s[0][c]={min:c};for(l=1;l<=i;l++)for(n=t[l-1],c=1;c<=a;c++){r=e[c-1],o=I(n,r)?0:1;var u=s[l-1][c].min+1,h=s[l][c-1].min+1,f=s[l-1][c-1].min+o;s[l][c]=P(u,h,f)}return s}(t,e),r=t.length,i=e.length,a=[],o=1,s=1;if(n[r][i].min!==r){for(var l=1;l<=r;l++){var c=n[l][l].min;s=l;for(var u=o;u<=i;u++)n[l][u].min<c&&(c=n[l][u].min,s=u);o=s,n[l][o].type&&a.push({index:l-1,type:n[l][o].type})}for(l=a.length-1;l>=0;l--)o=a[l].index,"add"===a[l].type?t.splice(o,0,[].concat(t[o])):t.splice(o,1)}var h=i-(r=t.length);if(r<i)for(l=0;l<h;l++)"z"===t[r-1][0]||"Z"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]),r+=1;return t};function L(t,e,n){for(var r,i=[].concat(t),a=1/(n+1),o=R(e)[0],s=1;s<=n;s++)a*=s,0===(r=Math.floor(t.length*a))?i.unshift([o[0]*a+t[r][0]*(1-a),o[1]*a+t[r][1]*(1-a)]):i.splice(r,0,[o[0]*a+t[r][0]*(1-a),o[1]*a+t[r][1]*(1-a)]);return i}function R(t){var e=[];switch(t[0]){case"M":case"L":case"T":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}var B=function(t,e){if(t.length<=1)return t;for(var n,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=R(t[r]),e[r][0]){case"M":t[r]=["M"].concat(n[0]);break;case"L":t[r]=["L"].concat(n[0]);break;case"A":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=L(n,t[r-1],1)}t[r]=["Q"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"T":t[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){t[r]=e[r];break}n=L(n,t[r-1],2)}t[r]=["C"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"S":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=L(n,t[r-1],1)}t[r]=["S"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;default:t[r]=e[r]}return t}},9341:function(t,e,n){"use strict";n.d(e,{$O:function(){return s},FE:function(){return a},mY:function(){return o}});var r=n(2489),i=n(3841);function a(t,e,n){var i=1;if((0,r.HD)(t)&&(i=t.split("\n").length),i>1){var a=function(t,e){return e?e-t:.14*t}(e,n);return e*i+a*(i-1)}return e}function o(t,e){var n=(0,i.L)(),a=0;if((0,r.kK)(t)||""===t)return a;if(n.save(),n.font=e,(0,r.HD)(t)&&t.includes("\n")){var o=t.split("\n");(0,r.S6)(o,(function(t){var e=n.measureText(t).width;a<e&&(a=e)}))}else a=n.measureText(t).width;return n.restore(),a}function s(t){var e=t.fontSize,n=t.fontFamily,r=t.fontWeight;return[t.fontStyle,t.fontVariant,r,e+"px",n].join(" ").trim()}},2489:function(t,e,n){"use strict";n.d(e,{As:function(){return i},CD:function(){return r.CD},HD:function(){return r.HD},Kn:function(){return r.Kn},S6:function(){return r.S6},UY:function(){return o},jC:function(){return r.jC},jU:function(){return a},kK:function(){return r.UM},mf:function(){return r.mf},pP:function(){return s}});var r=n(8696);function i(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}var a="undefined"!==typeof window&&"undefined"!==typeof window.document;function o(t,e){if(t.isCanvas())return!0;for(var n=e.getParent(),r=!1;n;){if(n===t){r=!0;break}n=n.getParent()}return r}function s(t){return t.cfg.visible&&t.cfg.capture}},1622:function(t,e,n){"use strict";n.d(e,{wN:function(){return I},Ll:function(){return T},x1:function(){return h},aH:function(){return _},lD:function(){return m},Zr:function(){return r}});var r={};n.r(r),n.d(r,{distance:function(){return a},getBBoxByArray:function(){return s},getBBoxRange:function(){return l},isNumberEqual:function(){return o},piMod:function(){return c}});var i=n(8696);function a(t,e,n,r){var i=t-n,a=e-r;return Math.sqrt(i*i+a*a)}function o(t,e){return Math.abs(t-e)<.001}function s(t,e){var n=(0,i.VV)(t),r=(0,i.VV)(e);return{x:n,y:r,width:(0,i.Fp)(t)-n,height:(0,i.Fp)(e)-r}}function l(t,e,n,r){return{minX:(0,i.VV)([t,n]),maxX:(0,i.Fp)([t,n]),minY:(0,i.VV)([e,r]),maxY:(0,i.Fp)([e,r])}}function c(t){return(t+2*Math.PI)%(2*Math.PI)}var u=n(9874),h={box:function(t,e,n,r){return s([t,n],[e,r])},length:function(t,e,n,r){return a(t,e,n,r)},pointAt:function(t,e,n,r,i){return{x:(1-i)*t+i*n,y:(1-i)*e+i*r}},pointDistance:function(t,e,n,r,i,o){var s=(n-t)*(i-t)+(r-e)*(o-e);return s<0?a(t,e,i,o):s>(n-t)*(n-t)+(r-e)*(r-e)?a(n,r,i,o):this.pointToLine(t,e,n,r,i,o)},pointToLine:function(t,e,n,r,i,a){var o=[n-t,r-e];if(u.I6(o,[0,0]))return Math.sqrt((i-t)*(i-t)+(a-e)*(a-e));var s=[-o[1],o[0]];u.Fv(s,s);var l=[i-t,a-e];return Math.abs(u.AK(l,s))},tangentAngle:function(t,e,n,r){return Math.atan2(r-e,n-t)}};function f(t,e,n,r,i,o){var s,l=1/0,c=[n,r],u=20;o&&o>200&&(u=o/10);for(var h=1/u,f=h/10,p=0;p<=u;p++){var d=p*h,g=[i.apply(null,t.concat([d])),i.apply(null,e.concat([d]))];(x=a(c[0],c[1],g[0],g[1]))<l&&(s=d,l=x)}if(0===s)return{x:t[0],y:e[0]};if(1===s){var v=t.length;return{x:t[v-1],y:e[v-1]}}l=1/0;for(p=0;p<32&&!(f<1e-4);p++){var y=s-f,m=s+f,x=(g=[i.apply(null,t.concat([y])),i.apply(null,e.concat([y]))],a(c[0],c[1],g[0],g[1]));if(y>=0&&x<l)s=y,l=x;else{var b=[i.apply(null,t.concat([m])),i.apply(null,e.concat([m]))],w=a(c[0],c[1],b[0],b[1]);m<=1&&w<l?(s=m,l=w):f*=.5}}return{x:i.apply(null,t.concat([s])),y:i.apply(null,e.concat([s]))}}function p(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function d(t,e,n){var r=t+n-2*e;if(o(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}function g(t,e,n,r){return 2*(1-r)*(e-t)+2*r*(n-e)}function v(t,e,n,r,i,a,o){var s=p(t,n,i,o),l=p(e,r,a,o),c=h.pointAt(t,e,n,r,o),u=h.pointAt(n,r,i,a,o);return[[t,e,c.x,c.y,s,l],[s,l,u.x,u.y,i,a]]}function y(t,e,n,r,i,o,s){if(0===s)return(a(t,e,n,r)+a(n,r,i,o)+a(t,e,i,o))/2;var l=v(t,e,n,r,i,o,.5),c=l[0],u=l[1];return c.push(s-1),u.push(s-1),y.apply(null,c)+y.apply(null,u)}var m={box:function(t,e,n,r,i,a){var o=d(t,n,i)[0],l=d(e,r,a)[0],c=[t,i],u=[e,a];return void 0!==o&&c.push(p(t,n,i,o)),void 0!==l&&u.push(p(e,r,a,l)),s(c,u)},length:function(t,e,n,r,i,a){return y(t,e,n,r,i,a,3)},nearestPoint:function(t,e,n,r,i,a,o,s){return f([t,n,i],[e,r,a],o,s,p)},pointDistance:function(t,e,n,r,i,o,s,l){var c=this.nearestPoint(t,e,n,r,i,o,s,l);return a(c.x,c.y,s,l)},interpolationAt:p,pointAt:function(t,e,n,r,i,a,o){return{x:p(t,n,i,o),y:p(e,r,a,o)}},divide:function(t,e,n,r,i,a,o){return v(t,e,n,r,i,a,o)},tangentAngle:function(t,e,n,r,i,a,o){var s=g(t,n,i,o),l=g(e,r,a,o);return c(Math.atan2(l,s))}};function x(t,e,n,r,i){var a=1-i;return a*a*a*t+3*e*i*a*a+3*n*i*i*a+r*i*i*i}function b(t,e,n,r,i){var a=1-i;return 3*(a*a*(e-t)+2*a*i*(n-e)+i*i*(r-n))}function w(t,e,n,r){var i,a,s,l=-3*t+9*e-9*n+3*r,c=6*t-12*e+6*n,u=3*e-3*t,h=[];if(o(l,0))o(c,0)||(i=-u/c)>=0&&i<=1&&h.push(i);else{var f=c*c-4*l*u;o(f,0)?h.push(-c/(2*l)):f>0&&(a=(-c-(s=Math.sqrt(f)))/(2*l),(i=(-c+s)/(2*l))>=0&&i<=1&&h.push(i),a>=0&&a<=1&&h.push(a))}return h}function S(t,e,n,r,i,a,o,s,l){var c=x(t,n,i,o,l),u=x(e,r,a,s,l),f=h.pointAt(t,e,n,r,l),p=h.pointAt(n,r,i,a,l),d=h.pointAt(i,a,o,s,l),g=h.pointAt(f.x,f.y,p.x,p.y,l),v=h.pointAt(p.x,p.y,d.x,d.y,l);return[[t,e,f.x,f.y,g.x,g.y,c,u],[c,u,v.x,v.y,d.x,d.y,o,s]]}function C(t,e,n,r,i,o,s,l,c){if(0===c)return function(t,e){for(var n=0,r=t.length,i=0;i<r;i++)n+=a(t[i],e[i],t[(i+1)%r],e[(i+1)%r]);return n/2}([t,n,i,s],[e,r,o,l]);var u=S(t,e,n,r,i,o,s,l,.5),h=u[0],f=u[1];return h.push(c-1),f.push(c-1),C.apply(null,h)+C.apply(null,f)}var T={extrema:w,box:function(t,e,n,r,i,a,o,l){for(var c=[t,o],u=[e,l],h=w(t,n,i,o),f=w(e,r,a,l),p=0;p<h.length;p++)c.push(x(t,n,i,o,h[p]));for(p=0;p<f.length;p++)u.push(x(e,r,a,l,f[p]));return s(c,u)},length:function(t,e,n,r,i,a,o,s){return C(t,e,n,r,i,a,o,s,3)},nearestPoint:function(t,e,n,r,i,a,o,s,l,c,u){return f([t,n,i,o],[e,r,a,s],l,c,x,u)},pointDistance:function(t,e,n,r,i,o,s,l,c,u,h){var f=this.nearestPoint(t,e,n,r,i,o,s,l,c,u,h);return a(f.x,f.y,c,u)},interpolationAt:x,pointAt:function(t,e,n,r,i,a,o,s,l){return{x:x(t,n,i,o,l),y:x(e,r,a,s,l)}},divide:function(t,e,n,r,i,a,o,s,l){return S(t,e,n,r,i,a,o,s,l)},tangentAngle:function(t,e,n,r,i,a,o,s,l){var u=b(t,n,i,o,l),h=b(e,r,a,s,l);return c(Math.atan2(h,u))}};function E(t,e){var n=Math.abs(t);return e>0?n:-1*n}var k=function(t,e,n,r,i,a){var o=n,s=r;if(0===o||0===s)return{x:t,y:e};for(var l,c,u=i-t,h=a-e,f=Math.abs(u),p=Math.abs(h),d=o*o,g=s*s,v=Math.PI/4,y=0;y<4;y++){l=o*Math.cos(v),c=s*Math.sin(v);var m=(d-g)*Math.pow(Math.cos(v),3)/o,x=(g-d)*Math.pow(Math.sin(v),3)/s,b=l-m,w=c-x,S=f-m,C=p-x,T=Math.hypot(w,b),k=Math.hypot(C,S);v+=T*Math.asin((b*C-w*S)/(T*k))/Math.sqrt(d+g-l*l-c*c),v=Math.min(Math.PI/2,Math.max(0,v))}return{x:t+E(l,u),y:e+E(c,h)}};function M(t,e,n,r,i,a){return n*Math.cos(i)*Math.cos(a)-r*Math.sin(i)*Math.sin(a)+t}function A(t,e,n,r,i,a){return n*Math.sin(i)*Math.cos(a)+r*Math.cos(i)*Math.sin(a)+e}function O(t,e,n){return{x:t*Math.cos(n),y:e*Math.sin(n)}}function F(t,e,n){var r=Math.cos(n),i=Math.sin(n);return[t*r-e*i,t*i+e*r]}var I={box:function(t,e,n,r,i,a,o){for(var s=function(t,e,n){return Math.atan(-e/t*Math.tan(n))}(n,r,i),l=1/0,c=-1/0,u=[a,o],h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var f=s+h;a<o?a<f&&f<o&&u.push(f):o<f&&f<a&&u.push(f)}for(h=0;h<u.length;h++){var p=M(t,0,n,r,i,u[h]);p<l&&(l=p),p>c&&(c=p)}var d=function(t,e,n){return Math.atan(e/(t*Math.tan(n)))}(n,r,i),g=1/0,v=-1/0,y=[a,o];for(h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var m=d+h;a<o?a<m&&m<o&&y.push(m):o<m&&m<a&&y.push(m)}for(h=0;h<y.length;h++){var x=A(0,e,n,r,i,y[h]);x<g&&(g=x),x>v&&(v=x)}return{x:l,y:g,width:c-l,height:v-g}},length:function(t,e,n,r,i,a,o){},nearestPoint:function(t,e,n,r,i,a,o,s,l){var c=F(s-t,l-e,-i),u=c[0],h=c[1],f=k(0,0,n,r,u,h),p=function(t,e,n,r){return(Math.atan2(r*t,n*e)+2*Math.PI)%(2*Math.PI)}(n,r,f.x,f.y);p<a?f=O(n,r,a):p>o&&(f=O(n,r,o));var d=F(f.x,f.y,i);return{x:d[0]+t,y:d[1]+e}},pointDistance:function(t,e,n,r,i,o,s,l,c){var u=this.nearestPoint(t,e,n,r,l,c);return a(u.x,u.y,l,c)},pointAt:function(t,e,n,r,i,a,o,s){var l=(o-a)*s+a;return{x:M(t,0,n,r,i,l),y:A(0,e,n,r,i,l)}},tangentAngle:function(t,e,n,r,i,a,o,s){var l=(o-a)*s+a,u=function(t,e,n,r,i,a,o,s){return-1*n*Math.cos(i)*Math.sin(s)-r*Math.sin(i)*Math.cos(s)}(0,0,n,r,i,0,0,l),h=function(t,e,n,r,i,a,o,s){return-1*n*Math.sin(i)*Math.sin(s)+r*Math.cos(i)*Math.cos(s)}(0,0,n,r,i,0,0,l);return c(Math.atan2(h,u))}};function P(t){for(var e=0,n=[],r=0;r<t.length-1;r++){var i=t[r],o=t[r+1],s=a(i[0],i[1],o[0],o[1]),l={from:i,to:o,length:s};n.push(l),e+=s}return{segments:n,totalLength:e}}function D(t){if(t.length<2)return 0;for(var e=0,n=0;n<t.length-1;n++){var r=t[n],i=t[n+1];e+=a(r[0],r[1],i[0],i[1])}return e}function L(t,e){if(e>1||e<0||t.length<2)return null;var n=P(t),r=n.segments,i=n.totalLength;if(0===i)return{x:t[0][0],y:t[0][1]};for(var a=0,o=null,s=0;s<r.length;s++){var l=r[s],c=l.from,u=l.to,f=l.length/i;if(e>=a&&e<=a+f){var p=(e-a)/f;o=h.pointAt(c[0],c[1],u[0],u[1],p);break}a+=f}return o}function R(t,e){if(e>1||e<0||t.length<2)return 0;for(var n=P(t),r=n.segments,i=n.totalLength,a=0,o=0,s=0;s<r.length;s++){var l=r[s],c=l.from,u=l.to,h=l.length/i;if(e>=a&&e<=a+h){o=Math.atan2(u[1]-c[1],u[0]-c[0]);break}a+=h}return o}function B(t,e,n){for(var r=1/0,i=0;i<t.length-1;i++){var a=t[i],o=t[i+1],s=h.pointDistance(a[0],a[1],o[0],o[1],e,n);s<r&&(r=s)}return r}var _={box:function(t){for(var e=[],n=[],r=0;r<t.length;r++){var i=t[r];e.push(i[0]),n.push(i[1])}return s(e,n)},length:function(t){return D(t)},pointAt:function(t,e){return L(t,e)},pointDistance:function(t,e,n){return B(t,e,n)},tangentAngle:function(t,e){return R(t,e)}}},6403:function(t,e,n){"use strict";n.d(e,{Dg:function(){return c},lh:function(){return s},m$:function(){return a},vs:function(){return l},zu:function(){return o}});var r=n(5742),i=n(9874);function a(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.vc(i,n),r.Jp(t,i,e)}function o(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.Us(i,n),r.Jp(t,i,e)}function s(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.xJ(i,n),r.Jp(t,i,e)}function l(t,e){for(var n,i,l,c=t?[].concat(t):[1,0,0,0,1,0,0,0,1],u=0,h=e.length;u<h;u++){var f=e[u];switch(f[0]){case"t":a(c,c,[f[1],f[2]]);break;case"s":s(c,c,[f[1],f[2]]);break;case"r":o(c,c,f[1]);break;case"m":n=c,i=c,l=f[1],r.Jp(n,l,i)}}return c}function c(t,e,n){var r=i.EU(t,e),a=function(t,e){return t[0]*e[1]-e[0]*t[1]}(t,e)>=0;return n?a?2*Math.PI-r:r:a?r:2*Math.PI-r}},3313:function(t,e,n){"use strict";n.d(e,{e9:function(){return l},Wq:function(){return I},tr:function(){return f},wb:function(){return g},zx:function(){return S}});var r=n(8696),i=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,a=/[^\s\,]+/gi;var o=function(t){var e=t||[];return(0,r.kJ)(e)?e:(0,r.HD)(e)?(e=e.match(i),(0,r.S6)(e,(function(t,n){if((t=t.match(a))[0].length>1){var i=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=i}(0,r.S6)(t,(function(e,n){isNaN(e)||(t[n]=+e)})),e[n]=t})),e):void 0},s=n(9874);var l=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=[[0,0],[1,1]]);for(var r=!!e,i=[],a=0,o=t.length;a<o;a+=2)i.push([t[a],t[a+1]]);var l,c,u,h=function(t,e,n,r){var i,a,o,l,c,u,h,f=[],p=!!r;if(p){o=r[0],l=r[1];for(var d=0,g=t.length;d<g;d+=1){var v=t[d];o=s.VV([0,0],o,v),l=s.Fp([0,0],l,v)}}d=0;for(var y=t.length;d<y;d+=1)if(v=t[d],0!==d||n)if(d!==y-1||n){i=t[[d?d-1:y-1,d-1][n?0:1]],a=t[n?(d+1)%y:d+1];var m=[0,0];m=s.lu(m,a,i),m=s.bA(m,m,e);var x=s.TE(v,i),b=s.TE(v,a),w=x+b;0!==w&&(x/=w,b/=w);var S=s.bA([0,0],m,-x),C=s.bA([0,0],m,b);u=s.IH([0,0],v,S),c=s.IH([0,0],v,C),c=s.VV([0,0],c,s.Fp([0,0],a,v)),c=s.Fp([0,0],c,s.VV([0,0],a,v)),S=s.lu([0,0],c,v),S=s.bA([0,0],S,-x/b),u=s.IH([0,0],v,S),u=s.VV([0,0],u,s.Fp([0,0],i,v)),u=s.Fp([0,0],u,s.VV([0,0],i,v)),C=s.lu([0,0],v,u),C=s.bA([0,0],C,b/x),c=s.IH([0,0],v,C),p&&(u=s.Fp([0,0],u,o),u=s.VV([0,0],u,l),c=s.Fp([0,0],c,o),c=s.VV([0,0],c,l)),f.push(h),f.push(u),h=c}else u=v,f.push(h),f.push(u);else h=v;return n&&f.push(f.shift()),f}(i,.4,r,n),f=i.length,p=[];for(a=0;a<f-1;a+=1)l=h[2*a],c=h[2*a+1],u=i[a+1],p.push(["C",l[0],l[1],c[0],c[1],u[0],u[1]]);return r&&(l=h[f],c=h[f+1],u=i[0],p.push(["C",l[0],l[1],c[0],c[1],u[0],u[1]])),p};var c="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",u=new RegExp("([a-z])["+c+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+c+"]*,?["+c+"]*)+)","ig"),h=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+c+"]*,?["+c+"]*","ig");function f(t){if(!t)return null;if((0,r.kJ)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(u,(function(t,r,i){var a=[],o=r.toLowerCase();if(i.replace(h,(function(t,e){e&&a.push(+e)})),"m"===o&&a.length>2&&(n.push([r].concat(a.splice(0,2))),o="l",r="m"===r?"l":"L"),"o"===o&&1===a.length&&n.push([r,a[0]]),"r"===o)n.push([r].concat(a));else for(;a.length>=e[o]&&(n.push([r].concat(a.splice(0,e[o]))),e[o]););return""})),n}var p=/[a-z]/;function d(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function g(t){var e=f(t);if(!e||!e.length)return[["M",0,0]];for(var n=!1,r=0;r<e.length;r++){var i=e[r][0];if(p.test(i)||["V","H","T","S"].indexOf(i)>=0){n=!0;break}}if(!n)return e;var a=[],o=0,s=0,l=0,c=0,u=0,h=e[0];"M"!==h[0]&&"m"!==h[0]||(l=o=+h[1],c=s=+h[2],u++,a[0]=["M",o,s]);r=u;for(var g=e.length;r<g;r++){var v=e[r],y=a[r-1],m=[],x=(i=v[0]).toUpperCase();if(i!==x)switch(m[0]=x,x){case"A":m[1]=v[1],m[2]=v[2],m[3]=v[3],m[4]=v[4],m[5]=v[5],m[6]=+v[6]+o,m[7]=+v[7]+s;break;case"V":m[1]=+v[1]+s;break;case"H":m[1]=+v[1]+o;break;case"M":l=+v[1]+o,c=+v[2]+s,m[1]=l,m[2]=c;break;default:for(var b=1,w=v.length;b<w;b++)m[b]=+v[b]+(b%2?o:s)}else m=e[r];switch(x){case"Z":o=+l,s=+c;break;case"H":m=["L",o=m[1],s];break;case"V":m=["L",o,s=m[1]];break;case"T":o=m[1],s=m[2];var S=d([y[1],y[2]],[y[3],y[4]]);m=["Q",S[0],S[1],o,s];break;case"S":o=m[m.length-2],s=m[m.length-1];var C=y.length,T=d([y[C-4],y[C-3]],[y[C-2],y[C-1]]);m=["C",T[0],T[1],m[1],m[2],o,s];break;case"M":l=m[m.length-2],c=m[m.length-1];break;default:o=m[m.length-2],s=m[m.length-1]}a.push(m)}return a}Math.PI;function v(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function y(t,e){return v(t)*v(e)?(t[0]*e[0]+t[1]*e[1])/(v(t)*v(e)):1}function m(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(y(t,e))}function x(t,e){return t[0]===e[0]&&t[1]===e[1]}function b(t,e){var n=e[1],i=e[2],a=(0,r.wQ)((0,r.c$)(e[3]),2*Math.PI),o=e[4],s=e[5],l=t[0],c=t[1],u=e[6],h=e[7],f=Math.cos(a)*(l-u)/2+Math.sin(a)*(c-h)/2,p=-1*Math.sin(a)*(l-u)/2+Math.cos(a)*(c-h)/2,d=f*f/(n*n)+p*p/(i*i);d>1&&(n*=Math.sqrt(d),i*=Math.sqrt(d));var g=n*n*(p*p)+i*i*(f*f),v=g?Math.sqrt((n*n*(i*i)-g)/g):1;o===s&&(v*=-1),isNaN(v)&&(v=0);var b=i?v*n*p/i:0,w=n?v*-i*f/n:0,S=(l+u)/2+Math.cos(a)*b-Math.sin(a)*w,C=(c+h)/2+Math.sin(a)*b+Math.cos(a)*w,T=[(f-b)/n,(p-w)/i],E=[(-1*f-b)/n,(-1*p-w)/i],k=m([1,0],T),M=m(T,E);return y(T,E)<=-1&&(M=Math.PI),y(T,E)>=1&&(M=0),0===s&&M>0&&(M-=2*Math.PI),1===s&&M<0&&(M+=2*Math.PI),{cx:S,cy:C,rx:x(t,[u,h])?0:n,ry:x(t,[u,h])?0:i,startAngle:k,endAngle:k+M,xRotation:a,arcFlag:o,sweepFlag:s}}function w(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function S(t){for(var e=[],n=null,r=null,i=null,a=0,s=(t=o(t)).length,l=0;l<s;l++){var c=t[l];r=t[l+1];var u=c[0],h={command:u,prePoint:n,params:c,startTangent:null,endTangent:null};switch(u){case"M":i=[c[1],c[2]],a=l;break;case"A":var f=b(n,c);h.arcParams=f}if("Z"===u)n=i,r=t[a+1];else{var p=c.length;n=[c[p-2],c[p-1]]}r&&"Z"===r[0]&&(r=t[a],e[a]&&(e[a].prePoint=n)),h.currentPoint=n,e[a]&&x(n,e[a].currentPoint)&&(e[a].prePoint=h.prePoint);var d=r?[r[r.length-2],r[r.length-1]]:null;h.nextPoint=d;var g=h.prePoint;if(["L","H","V"].includes(u))h.startTangent=[g[0]-n[0],g[1]-n[1]],h.endTangent=[n[0]-g[0],n[1]-g[1]];else if("Q"===u){var v=[c[1],c[2]];h.startTangent=[g[0]-v[0],g[1]-v[1]],h.endTangent=[n[0]-v[0],n[1]-v[1]]}else if("T"===u){v=w((S=e[l-1]).currentPoint,g);"Q"===S.command?(h.command="Q",h.startTangent=[g[0]-v[0],g[1]-v[1]],h.endTangent=[n[0]-v[0],n[1]-v[1]]):(h.command="TL",h.startTangent=[g[0]-n[0],g[1]-n[1]],h.endTangent=[n[0]-g[0],n[1]-g[1]])}else if("C"===u){var y=[c[1],c[2]],m=[c[3],c[4]];h.startTangent=[g[0]-y[0],g[1]-y[1]],h.endTangent=[n[0]-m[0],n[1]-m[1]],0===h.startTangent[0]&&0===h.startTangent[1]&&(h.startTangent=[y[0]-m[0],y[1]-m[1]]),0===h.endTangent[0]&&0===h.endTangent[1]&&(h.endTangent=[m[0]-y[0],m[1]-y[1]])}else if("S"===u){var S;y=w((S=e[l-1]).currentPoint,g),m=[c[1],c[2]];"C"===S.command?(h.command="C",h.startTangent=[g[0]-y[0],g[1]-y[1]],h.endTangent=[n[0]-m[0],n[1]-m[1]]):(h.command="SQ",h.startTangent=[g[0]-m[0],g[1]-m[1]],h.endTangent=[n[0]-m[0],n[1]-m[1]])}else if("A"===u){var C=.001,T=h.arcParams||{},E=T.cx,k=void 0===E?0:E,M=T.cy,A=void 0===M?0:M,O=T.rx,F=void 0===O?0:O,I=T.ry,P=void 0===I?0:I,D=T.sweepFlag,L=void 0===D?0:D,R=T.startAngle,B=void 0===R?0:R,_=T.endAngle,N=void 0===_?0:_;0===L&&(C*=-1);var U=F*Math.cos(B-C)+k,z=P*Math.sin(B-C)+A;h.startTangent=[U-i[0],z-i[1]];var H=F*Math.cos(B+N+C)+k,V=P*Math.sin(B+N-C)+A;h.endTangent=[g[0]-H,g[1]-V]}e.push(h)}return e}var C=1e-6;function T(t){return Math.abs(t)<C?0:t<0?-1:1}function E(t,e,n){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function k(t,e,n){var r=!1,i=t.length;if(i<=2)return!1;for(var a=0;a<i;a++){var o=t[a],s=t[(a+1)%i];if(E(o,s,[e,n]))return!0;T(o[1]-n)>0!==T(s[1]-n)>0&&T(e-(n-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(r=!r)}return r}var M=function(t,e,n){return t>=e&&t<=n};function A(t){for(var e=[],n=t.length,r=0;r<n-1;r++){var i=t[r],a=t[r+1];e.push({from:{x:i[0],y:i[1]},to:{x:a[0],y:a[1]}})}if(e.length>1){var o=t[0],s=t[n-1];e.push({from:{x:s[0],y:s[1]},to:{x:o[0],y:o[1]}})}return e}function O(t,e){var n=!1;return(0,r.S6)(t,(function(t){if(function(t,e,n,r){var i=n.x-t.x,a=n.y-t.y,o=e.x-t.x,s=e.y-t.y,l=r.x-n.x,c=r.y-n.y,u=o*c-s*l,h=null;if(u*u>.001*(o*o+s*s)*(l*l+c*c)){var f=(i*c-a*l)/u,p=(i*s-a*o)/u;M(f,0,1)&&M(p,0,1)&&(h={x:t.x+f*o,y:t.y+f*s})}return h}(t.from,t.to,e.from,e.to))return n=!0,!1})),n}function F(t){var e=t.map((function(t){return t[0]})),n=t.map((function(t){return t[1]}));return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,n),maxY:Math.max.apply(null,n)}}function I(t,e){if(t.length<2||e.length<2)return!1;var n,i,a=F(t),o=F(e);if(n=a,(i=o).minX>n.maxX||i.maxX<n.minX||i.minY>n.maxY||i.maxY<n.minY)return!1;var s=!1;if((0,r.S6)(e,(function(e){if(k(t,e[0],e[1]))return s=!0,!1})),s)return!0;if((0,r.S6)(t,(function(t){if(k(e,t[0],t[1]))return s=!0,!1})),s)return!0;var l=A(t),c=A(e),u=!1;return(0,r.S6)(c,(function(t){if(O(l,t))return u=!0,!1})),u}},8696:function(t,e,n){"use strict";n.d(e,{Ct:function(){return Yt},f0:function(){return Ot},uZ:function(){return V},VS:function(){return gt},d9:function(){return vt},FX:function(){return i},Ds:function(){return yt},b$:function(){return bt},e5:function(){return o},S6:function(){return p},yW:function(){return B},hX:function(){return a},sE:function(){return m},cx:function(){return x},Wx:function(){return b},ri:function(){return G},xH:function(){return w},U5:function(){return J},U2:function(){return Ft},Lo:function(){return Wt},rx:function(){return T},ru:function(){return H},vM:function(){return U},Ms:function(){return z},wH:function(){return Q},YM:function(){return L},q9:function(){return i},cq:function(){return wt},kJ:function(){return h},jn:function(){return st},J_:function(){return lt},kK:function(){return pt},xb:function(){return Ct},Xy:function(){return Tt},mf:function(){return c},BD:function(){return g},UM:function(){return u},Ft:function(){return ct},hj:function(){return W},vQ:function(){return j},Kn:function(){return f},PO:function(){return y},HD:function(){return F},P9:function(){return l},o8:function(){return ft},XP:function(){return d},Z$:function(){return R},vl:function(){return nt},UI:function(){return Et},Q8:function(){return Mt},Fp:function(){return S},UT:function(){return X},HP:function(){return mt},VV:function(){return C},F:function(){return $},CD:function(){return Ot},wQ:function(){return q},ZT:function(){return Ut},CE:function(){return Lt},ei:function(){return Dt},u4:function(){return A},Od:function(){return O},U7:function(){return dt},t8:function(){return It},dp:function(){return zt},G:function(){return _},MR:function(){return I},ng:function(){return rt},P2:function(){return Rt},qo:function(){return Bt},c$:function(){return K},BB:function(){return et},jj:function(){return P},EL:function(){return Nt},jC:function(){return it},VO:function(){return tt},I:function(){return D}});var r=function(t){return null!==t&&"function"!==typeof t&&isFinite(t.length)},i=function(t,e){return!!r(t)&&t.indexOf(e)>-1},a=function(t,e){if(!r(t))return t;for(var n=[],i=0;i<t.length;i++){var a=t[i];e(a,i)&&n.push(a)}return n},o=function(t,e){return void 0===e&&(e=[]),a(t,(function(t){return!i(e,t)}))},s={}.toString,l=function(t,e){return s.call(t)==="[object "+e+"]"},c=function(t){return l(t,"Function")},u=function(t){return null===t||void 0===t},h=function(t){return Array.isArray?Array.isArray(t):l(t,"Array")},f=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};var p=function(t,e){if(t)if(h(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(f(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break},d=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return p(t,(function(n,r){c(t)&&"prototype"===r||e.push(r)})),e};var g=function(t,e){var n=d(e),r=n.length;if(u(t))return!r;for(var i=0;i<r;i+=1){var a=n[i];if(e[a]!==t[a]||!(a in t))return!1}return!0},v=function(t){return"object"===typeof t&&null!==t},y=function(t){if(!v(t)||!l(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};var m=function(t,e){if(!h(t))return null;var n;if(c(e)&&(n=e),y(e)&&(n=function(t){return g(t,e)}),n)for(var r=0;r<t.length;r+=1)if(n(t[r]))return t[r];return null};var x=function(t,e,n){void 0===n&&(n=0);for(var r=n;r<t.length;r++)if(e(t[r],r))return r;return-1},b=function(t,e){for(var n=null,r=0;r<t.length;r++){var i=t[r][e];if(!u(i)){n=h(i)?i[0]:i;break}}return n},w=function(t){if(!h(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e},S=function(t){if(h(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])},C=function(t){if(h(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])},T=function(t){var e=t.filter((function(t){return!isNaN(t)}));if(!e.length)return{min:0,max:0};if(h(t[0])){for(var n=[],r=0;r<t.length;r++)n=n.concat(t[r]);e=n}var i=S(e);return{min:C(e),max:i}},E=Array.prototype,k=(E.splice,E.indexOf,Array.prototype.splice),M=function(t,e){if(!r(t))return[];for(var n=t?e.length:0,i=n-1;n--;){var a=void 0,o=e[n];n!==i&&o===a||(a=o,k.call(t,o,1))}return t},A=function(t,e,n){if(!h(t)&&!y(t))return t;var r=n;return p(t,(function(t,n){r=e(r,t,n)})),r},O=function(t,e){var n=[];if(!r(t))return n;for(var i=-1,a=[],o=t.length;++i<o;){var s=t[i];e(s,i,t)&&(n.push(s),a.push(i))}return M(t,a),n},F=function(t){return l(t,"String")};var I=function(t,e){var n;if(c(e))n=function(t,n){return e(t)-e(n)};else{var r=[];F(e)?r.push(e):h(e)&&(r=e),n=function(t,e){for(var n=0;n<r.length;n+=1){var i=r[n];if(t[i]>e[i])return 1;if(t[i]<e[i])return-1}return 0}}return t.sort(n),t};function P(t,e){void 0===e&&(e=new Map);var n=[];if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++){var a=t[r];e.has(a)||(n.push(a),e.set(a,!0))}return n}var D=function(t,e){for(var n=[],r={},i=0;i<t.length;i++){var a=t[i][e];if(!u(a)){h(a)||(a=[a]);for(var o=0;o<a.length;o++){var s=a[o];r[s]||(n.push(s),r[s]=!0)}}}return n};function L(t){if(r(t))return t[0]}function R(t){if(r(t)){return t[t.length-1]}}var B=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0},_=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1},N=Object.prototype.hasOwnProperty;var U=function(t,e){if(!e||!h(t))return{};for(var n,r={},i=c(e)?e:function(t){return t[e]},a=0;a<t.length;a++){var o=t[a];n=i(o),N.call(r,n)?r[n].push(o):r[n]=[o]}return r};function z(t,e){if(!e)return{0:t};if(!c(e)){var n=h(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",r=0,i=n.length;r<i;r++)e+=t[n[r]]&&t[n[r]].toString();return e}}return U(t,e)}var H=function(t,e){if(!e)return[t];var n=z(t,e),r=[];for(var i in n)r.push(n[i]);return r};var V=function(t,e,n){return t<e?e:t>n?n:t},G=function(t,e){var n=e.toString(),r=n.indexOf(".");if(-1===r)return Math.round(t);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(t.toFixed(i))},W=function(t){return l(t,"Number")},Y=(Number.isInteger&&Number.isInteger,1e-5);function j(t,e,n){return void 0===n&&(n=Y),Math.abs(t-e)<n}var X=function(t,e){if(h(t)){for(var n,r=-1/0,i=0;i<t.length;i++){var a=t[i],o=c(e)?e(a):a[e];o>r&&(n=a,r=o)}return n}},$=function(t,e){if(h(t)){for(var n,r=1/0,i=0;i<t.length;i++){var a=t[i],o=c(e)?e(a):a[e];o<r&&(n=a,r=o)}return n}},q=function(t,e){return(t%e+e)%e},Z=(Math.PI,Math.PI/180),K=function(t){return Z*t},J=p,Q=function(t,e){return t.hasOwnProperty(e)},tt=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return p(t,(function(n,r){c(t)&&"prototype"===r||e.push(n)})),e},et=function(t){return u(t)?"":t.toString()},nt=function(t){return et(t).toLowerCase()};var rt=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]})):t},it=function(t){var e=et(t);return e.charAt(0).toUpperCase()+e.substring(1)},at={}.toString,ot=function(t){return at.call(t).replace(/^\[object /,"").replace(/]$/,"")},st=function(t){return l(t,"Boolean")},lt=function(t){return l(t,"Date")};var ct=function(t){return null===t},ut=Object.prototype,ht=function(t){var e=t&&t.constructor;return t===("function"===typeof e&&e.prototype||ut)},ft=function(t){return void 0===t},pt=function(t){return t instanceof Element||t instanceof HTMLDocument};function dt(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}function gt(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}var vt=function t(e){if("object"!==typeof e||null===e)return e;var n;if(h(e)){n=[];for(var r=0,i=e.length;r<i;r++)"object"===typeof e[r]&&null!=e[r]?n[r]=t(e[r]):n[r]=e[r]}else for(var a in n={},e)"object"===typeof e[a]&&null!=e[a]?n[a]=t(e[a]):n[a]=e[a];return n};var yt=function(t,e,n){var r;return function(){var i=this,a=arguments,o=n&&!r;clearTimeout(r),r=setTimeout((function(){r=null,n||t.apply(i,a)}),e),o&&t.apply(i,a)}},mt=function(t,e){if(!c(t))throw new TypeError("Expected a function");var n=function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=e?e.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var s=t.apply(this,r);return o.set(a,s),s};return n.cache=new Map,n};function xt(t,e,n,r){for(var i in n=n||0,r=r||5,e)if(e.hasOwnProperty(i)){var a=e[i];null!==a&&y(a)?(y(t[i])||(t[i]={}),n<r?xt(t[i],a,n+1,r):t[i]=e[i]):h(a)?(t[i]=[],t[i]=t[i].concat(a)):void 0!==a&&(t[i]=a)}}var bt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)xt(t,e[r]);return t},wt=function(t,e){if(!r(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var i=-1,a=0;a<t.length;a++)if(t[a]===e){i=a;break}return i},St=Object.prototype.hasOwnProperty;var Ct=function(t){if(u(t))return!0;if(r(t))return!t.length;var e=ot(t);if("Map"===e||"Set"===e)return!t.size;if(ht(t))return!Object.keys(t).length;for(var n in t)if(St.call(t,n))return!1;return!0},Tt=function t(e,n){if(e===n)return!0;if(!e||!n)return!1;if(F(e)||F(n))return!1;if(r(e)||r(n)){if(e.length!==n.length)return!1;for(var i=!0,a=0;a<e.length&&(i=t(e[a],n[a]));a++);return i}if(v(e)||v(n)){var o=Object.keys(e),s=Object.keys(n);if(o.length!==s.length)return!1;for(i=!0,a=0;a<o.length&&(i=t(e[o[a]],n[o[a]]));a++);return i}return!1},Et=function(t,e){if(!r(t))return t;for(var n=[],i=0;i<t.length;i++){var a=t[i];n.push(e(a,i))}return n},kt=function(t){return t},Mt=function(t,e){void 0===e&&(e=kt);var n={};return f(t)&&!u(t)&&Object.keys(t).forEach((function(r){n[r]=e(t[r],r)})),n};function At(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function Ot(t,e,n,r){return e&&At(t,e),n&&At(t,n),r&&At(t,r),t}var Ft=function(t,e,n){for(var r=0,i=F(e)?e.split("."):e;t&&r<i.length;)t=t[i[r++]];return void 0===t||r<i.length?n:t},It=function(t,e,n){var r=t,i=F(e)?e.split("."):e;return i.forEach((function(t,e){e<i.length-1?(f(r[t])||(r[t]=W(i[e+1])?[]:{}),r=r[t]):r[t]=n})),t},Pt=Object.prototype.hasOwnProperty,Dt=function(t,e){if(null===t||!y(t))return{};var n={};return p(e,(function(e){Pt.call(t,e)&&(n[e]=t[e])})),n},Lt=function(t,e){return A(t,(function(t,n,r){return e.includes(r)||(t[r]=n),t}),{})},Rt=function(t,e,n){var r,i,a,o,s=0;n||(n={});var l=function(){s=!1===n.leading?0:Date.now(),r=null,o=t.apply(i,a),r||(i=a=null)},c=function(){var c=Date.now();s||!1!==n.leading||(s=c);var u=e-(c-s);return i=this,a=arguments,u<=0||u>e?(r&&(clearTimeout(r),r=null),s=c,o=t.apply(i,a),r||(i=a=null)):r||!1===n.trailing||(r=setTimeout(l,u)),o};return c.cancel=function(){clearTimeout(r),s=0,r=i=a=null},c},Bt=function(t){return r(t)?Array.prototype.slice.call(t):[]},_t={},Nt=function(t){return _t[t=t||"g"]?_t[t]+=1:_t[t]=1,t+_t[t]},Ut=function(){};function zt(t){return u(t)?0:r(t)?t.length:Object.keys(t).length}Object.create;function Ht(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}Object.create;"function"===typeof SuppressedError&&SuppressedError;var Vt,Gt=mt((function(t,e){void 0===e&&(e={});var n=e.fontSize,r=e.fontFamily,i=e.fontWeight,a=e.fontStyle,o=e.fontVariant;return Vt||(Vt=document.createElement("canvas").getContext("2d")),Vt.font=[a,o,i,n+"px",r].join(" "),Vt.measureText(F(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),Ht([t],tt(e)).join("")})),Wt=function(t,e,n,r){void 0===r&&(r="...");var i,a,o=Gt(r,n),s=F(t)?t:et(t),l=e,c=[];if(Gt(t,n)<=e)return t;for(;i=s.substr(0,16),!((a=Gt(i,n))+o>l&&a>l);)if(c.push(i),l-=a,!(s=s.substr(16)))return c.join("");for(;i=s.substr(0,1),!((a=Gt(i,n))+o>l);)if(c.push(i),l-=a,!(s=s.substr(1)))return c.join("");return""+c.join("")+r},Yt=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}()},7046:function(t,e){!function(t){"use strict";function e(t,e){return n(t)||r(t,e)||i()}function n(t){if(Array.isArray(t))return t}function r(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(l){i=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(t,e,n,r){t=t.filter((function(t,r){var i=e(t,r),a=n(t,r);return null!=i&&isFinite(i)&&null!=a&&isFinite(a)})),r&&t.sort((function(t,n){return e(t)-e(n)}));for(var i,a,o,s=t.length,l=new Float64Array(s),c=new Float64Array(s),u=0,h=0,f=0;f<s;)o=t[f],l[f]=i=+e(o,f,t),c[f]=a=+n(o,f,t),u+=(i-u)/++f,h+=(a-h)/f;for(var p=0;p<s;++p)l[p]-=u,c[p]-=h;return[l,c,u,h]}function o(t,e,n,r){for(var i=0,a=0,o=t.length;a<o;a++){var s=t[a],l=+e(s,a,t),c=+n(s,a,t);null!=l&&isFinite(l)&&null!=c&&isFinite(c)&&r(l,c,i++)}}function s(t,e,n,r,i){var a=0,s=0;return o(t,e,n,(function(t,e){var n=e-i(t),o=e-r;a+=n*n,s+=o*o})),1-a/s}function l(t){return 180*Math.atan2(t[1][1]-t[0][1],t[1][0]-t[0][0])/Math.PI}function c(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}function u(t,e,n){for(var r=Math.log(e-t)*Math.LOG10E+1|0,i=1*Math.pow(10,-r/2-1),a=1e4,o=[u(t),u(e)],s=0;h(o)&&s<a;);return o;function u(t){return[t,n(t)]}function h(t){s++;for(var e=t.length,n=!1,r=0;r<e-1;r++){var a=t[r],o=c([a,t[r+1]]),h=u(o[0]),f=l([a,o]),p=l([a,h]);Math.abs(f-p)>i&&(t.splice(r+1,0,h),n=!0)}return n}}function h(t,e,n,r){var i=r-t*t,a=Math.abs(i)<1e-24?0:(n-t*e)/i;return[e-a*t,a]}function f(){var t,n=function(t){return t[0]},r=function(t){return t[1]};function i(i){var a=0,l=0,c=0,f=0,p=0,d=0,g=t?+t[0]:1/0,v=t?+t[1]:-1/0;o(i,n,r,(function(e,n){var r=Math.log(n),i=e*n;++a,l+=(n-l)/a,f+=(i-f)/a,d+=(e*i-d)/a,c+=(n*r-c)/a,p+=(i*r-p)/a,t||(e<g&&(g=e),e>v&&(v=e))}));var y=e(h(f/l,c/l,p/l,d/l),2),m=y[0],x=y[1];m=Math.exp(m);var b=function(t){return m*Math.exp(x*t)},w=u(g,v,b);return w.a=m,w.b=x,w.predict=b,w.rSquared=s(i,n,r,l,b),w}return i.domain=function(e){return arguments.length?(t=e,i):t},i.x=function(t){return arguments.length?(n=t,i):n},i.y=function(t){return arguments.length?(r=t,i):r},i}function p(){var t,n=function(t){return t[0]},r=function(t){return t[1]};function i(i){var a=0,l=0,c=0,u=0,f=0,p=t?+t[0]:1/0,d=t?+t[1]:-1/0;o(i,n,r,(function(e,n){++a,l+=(e-l)/a,c+=(n-c)/a,u+=(e*n-u)/a,f+=(e*e-f)/a,t||(e<p&&(p=e),e>d&&(d=e))}));var g=e(h(l,c,u,f),2),v=g[0],y=g[1],m=function(t){return y*t+v},x=[[p,m(p)],[d,m(d)]];return x.a=y,x.b=v,x.predict=m,x.rSquared=s(i,n,r,c,m),x}return i.domain=function(e){return arguments.length?(t=e,i):t},i.x=function(t){return arguments.length?(n=t,i):n},i.y=function(t){return arguments.length?(r=t,i):r},i}function d(t){t.sort((function(t,e){return t-e}));var e=t.length/2;return e%1===0?(t[e-1]+t[e])/2:t[Math.floor(e)]}var g=2,v=1e-12;function y(){var t=function(t){return t[0]},n=function(t){return t[1]},r=.3;function i(i){for(var o=e(a(i,t,n,!0),4),s=o[0],l=o[1],c=o[2],u=o[3],f=s.length,p=Math.max(2,~~(r*f)),y=new Float64Array(f),w=new Float64Array(f),S=new Float64Array(f).fill(1),C=-1;++C<=g;){for(var T=[0,p-1],E=0;E<f;++E){for(var k=s[E],M=T[0],A=T[1],O=k-s[M]>s[A]-k?M:A,F=0,I=0,P=0,D=0,L=0,R=1/Math.abs(s[O]-k||1),B=M;B<=A;++B){var _=s[B],N=l[B],U=m(Math.abs(k-_)*R)*S[B],z=_*U;F+=U,I+=z,P+=N*U,D+=N*z,L+=_*z}var H=e(h(I/F,P/F,D/F,L/F),2),V=H[0],G=H[1];y[E]=V+G*k,w[E]=Math.abs(l[E]-y[E]),x(s,E+1,T)}if(C===g)break;var W=d(w);if(Math.abs(W)<v)break;for(var Y,j,X=0;X<f;++X)Y=w[X]/(6*W),S[X]=Y>=1?v:(j=1-Y*Y)*j}return b(s,y,c,u)}return i.bandwidth=function(t){return arguments.length?(r=t,i):r},i.x=function(e){return arguments.length?(t=e,i):t},i.y=function(t){return arguments.length?(n=t,i):n},i}function m(t){return(t=1-t*t*t)*t*t}function x(t,e,n){var r=t[e],i=n[0],a=n[1]+1;if(!(a>=t.length))for(;e>i&&t[a]-r<=r-t[i];)n[0]=++i,n[1]=a,++a}function b(t,e,n,r){for(var i,a=t.length,o=[],s=0,l=0,c=[];s<a;++s)i=t[s]+n,c[0]===i?c[1]+=(e[s]-c[1])/++l:(l=0,c[1]+=r,c=[i,e[s]],o.push(c));return c[1]+=r,o}function w(){var t,n=function(t){return t[0]},r=function(t){return t[1]},i=Math.E;function a(a){var l=0,c=0,f=0,p=0,d=0,g=t?+t[0]:1/0,v=t?+t[1]:-1/0,y=Math.log(i);o(a,n,r,(function(e,n){var r=Math.log(e)/y;++l,c+=(r-c)/l,f+=(n-f)/l,p+=(r*n-p)/l,d+=(r*r-d)/l,t||(e<g&&(g=e),e>v&&(v=e))}));var m=e(h(c,f,p,d),2),x=m[0],b=m[1],w=function(t){return b*Math.log(t)/y+x},S=u(g,v,w);return S.a=b,S.b=x,S.predict=w,S.rSquared=s(a,n,r,f,w),S}return a.domain=function(e){return arguments.length?(t=e,a):t},a.x=function(t){return arguments.length?(n=t,a):n},a.y=function(t){return arguments.length?(r=t,a):r},a.base=function(t){return arguments.length?(i=t,a):i},a}function S(){var t,n=function(t){return t[0]},r=function(t){return t[1]};function i(i){var l,c,h,f,p=e(a(i,n,r),4),d=p[0],g=p[1],v=p[2],y=p[3],m=d.length,x=0,b=0,w=0,S=0,C=0;for(l=0;l<m;)c=d[l],h=g[l++],x+=((f=c*c)-x)/l,b+=(f*c-b)/l,w+=(f*f-w)/l,S+=(c*h-S)/l,C+=(f*h-C)/l;var T=0,E=0,k=t?+t[0]:1/0,M=t?+t[1]:-1/0;o(i,n,r,(function(e,n){E++,T+=(n-T)/E,t||(e<k&&(k=e),e>M&&(M=e))}));var A=w-x*x,O=x*A-b*b,F=(C*x-S*b)/O,I=(S*A-C*b)/O,P=-F*x,D=function(t){return F*(t-=v)*t+I*t+P+y},L=u(k,M,D);return L.a=F,L.b=I-2*F*v,L.c=P-I*v+F*v*v+y,L.predict=D,L.rSquared=s(i,n,r,T,D),L}return i.domain=function(e){return arguments.length?(t=e,i):t},i.x=function(t){return arguments.length?(n=t,i):n},i.y=function(t){return arguments.length?(r=t,i):r},i}function C(){var t,n=function(t){return t[0]},r=function(t){return t[1]},i=3;function l(l){if(1===i){var c=p().x(n).y(r).domain(t)(l);return c.coefficients=[c.b,c.a],delete c.a,delete c.b,c}if(2===i){var h=S().x(n).y(r).domain(t)(l);return h.coefficients=[h.c,h.b,h.a],delete h.a,delete h.b,delete h.c,h}var f,d,g,v,y,m=e(a(l,n,r),4),x=m[0],b=m[1],w=m[2],C=m[3],k=x.length,M=[],A=[],O=i+1,F=0,I=0,P=t?+t[0]:1/0,D=t?+t[1]:-1/0;for(o(l,n,r,(function(e,n){++I,F+=(n-F)/I,t||(e<P&&(P=e),e>D&&(D=e))})),f=0;f<O;++f){for(g=0,v=0;g<k;++g)v+=Math.pow(x[g],f)*b[g];for(M.push(v),y=new Float64Array(O),d=0;d<O;++d){for(g=0,v=0;g<k;++g)v+=Math.pow(x[g],f+d);y[d]=v}A.push(y)}A.push(M);var L=E(A),R=function(t){t-=w;var e=C+L[0]+L[1]*t+L[2]*t*t;for(f=3;f<O;++f)e+=L[f]*Math.pow(t,f);return e},B=u(P,D,R);return B.coefficients=T(O,L,-w,C),B.predict=R,B.rSquared=s(l,n,r,F,R),B}return l.domain=function(e){return arguments.length?(t=e,l):t},l.x=function(t){return arguments.length?(n=t,l):n},l.y=function(t){return arguments.length?(r=t,l):r},l.order=function(t){return arguments.length?(i=t,l):i},l}function T(t,e,n,r){var i,a,o,s,l=Array(t);for(i=0;i<t;++i)l[i]=0;for(i=t-1;i>=0;--i)for(o=e[i],s=1,l[i]+=o,a=1;a<=i;++a)s*=(i+1-a)/a,l[i-a]+=o*Math.pow(n,a)*s;return l[0]+=r,l}function E(t){var e,n,r,i,a,o=t.length-1,s=[];for(e=0;e<o;++e){for(i=e,n=e+1;n<o;++n)Math.abs(t[e][n])>Math.abs(t[e][i])&&(i=n);for(r=e;r<o+1;++r)a=t[r][e],t[r][e]=t[r][i],t[r][i]=a;for(n=e+1;n<o;++n)for(r=o;r>=e;r--)t[r][n]-=t[r][e]*t[e][n]/t[e][e]}for(n=o-1;n>=0;--n){for(a=0,r=n+1;r<o;++r)a+=t[r][n]*s[r];s[n]=(t[o][n]-a)/t[n][n]}return s}function k(){var t,n=function(t){return t[0]},r=function(t){return t[1]};function i(i){var a=0,l=0,c=0,f=0,p=0,d=0,g=t?+t[0]:1/0,v=t?+t[1]:-1/0;o(i,n,r,(function(e,n){var r=Math.log(e),i=Math.log(n);++a,l+=(r-l)/a,c+=(i-c)/a,f+=(r*i-f)/a,p+=(r*r-p)/a,d+=(n-d)/a,t||(e<g&&(g=e),e>v&&(v=e))}));var y=e(h(l,c,f,p),2),m=y[0],x=y[1];m=Math.exp(m);var b=function(t){return m*Math.pow(t,x)},w=u(g,v,b);return w.a=m,w.b=x,w.predict=b,w.rSquared=s(i,n,r,d,b),w}return i.domain=function(e){return arguments.length?(t=e,i):t},i.x=function(t){return arguments.length?(n=t,i):n},i.y=function(t){return arguments.length?(r=t,i):r},i}t.regressionExp=f,t.regressionLinear=p,t.regressionLoess=y,t.regressionLog=w,t.regressionPoly=C,t.regressionPow=k,t.regressionQuad=S,Object.defineProperty(t,"__esModule",{value:!0})}(e)},9761:function(t,e,n){"use strict";n.d(e,{qY:function(){return p}});var r=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,a=e.length;i<a;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},i=function(t,e,n){this.name=t,this.version=e,this.os=n,this.type="browser"},a=function(t){this.version=t,this.type="node",this.name="node",this.os=process.platform},o=function(t,e,n,r){this.name=t,this.version=e,this.os=n,this.bot=r,this.type="bot-device"},s=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},l=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},c=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,u=3,h=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],f=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function p(t){return t?g(t):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new l:"undefined"!==typeof navigator?g(navigator.userAgent):"undefined"!==typeof process&&process.version?new a(process.version.slice(1)):null}function d(t){return""!==t&&h.reduce((function(e,n){var r=n[0],i=n[1];if(e)return e;var a=i.exec(t);return!!a&&[r,a]}),!1)}function g(t){var e=d(t);if(!e)return null;var n=e[0],a=e[1];if("searchbot"===n)return new s;var l=a[1]&&a[1].split(".").join("_").split("_").slice(0,3);l?l.length<u&&(l=r(r([],l,!0),function(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}(u-l.length),!0)):l=[];var h=l.join("."),p=function(t){for(var e=0,n=f.length;e<n;e++){var r=f[e],i=r[0];if(r[1].exec(t))return i}return null}(t),g=c.exec(t);return g&&g[1]?new o(n,h,p,g[1]):new i(n,h,p)}},9698:function(t,e){!function(t){"use strict";function e(t,e,n,r){var i=(r=r||{}).maxIterations||100,a=r.tolerance||1e-10,o=t(e),s=t(n),l=n-e;if(o*s>0)throw"Initial bisect points must have opposite signs";if(0===o)return e;if(0===s)return n;for(var c=0;c<i;++c){var u=e+(l/=2),h=t(u);if(h*o>=0&&(e=u),Math.abs(l)<a||0===h)return u}return e+l}function n(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=0;return e}function r(t,e){return n(t).map((function(){return n(e)}))}function i(t,e){for(var n=0,r=0;r<t.length;++r)n+=t[r]*e[r];return n}function a(t){return Math.sqrt(i(t,t))}function o(t,e,n){for(var r=0;r<e.length;++r)t[r]=e[r]*n}function s(t,e,n,r,i){for(var a=0;a<t.length;++a)t[a]=e*n[a]+r*i[a]}function l(t,e,n){var r,i=(n=n||{}).maxIterations||200*e.length,a=n.nonZeroDelta||1.05,o=n.zeroDelta||.001,l=n.minErrorDelta||1e-6,c=n.minErrorDelta||1e-5,u=void 0!==n.rho?n.rho:1,h=void 0!==n.chi?n.chi:2,f=void 0!==n.psi?n.psi:-.5,p=void 0!==n.sigma?n.sigma:.5,d=e.length,g=new Array(d+1);g[0]=e,g[0].fx=t(e),g[0].id=0;for(var v=0;v<d;++v){var y=e.slice();y[v]=y[v]?y[v]*a:o,g[v+1]=y,g[v+1].fx=t(y),g[v+1].id=v+1}function m(t){for(var e=0;e<t.length;e++)g[d][e]=t[e];g[d].fx=t.fx}for(var x=function(t,e){return t.fx-e.fx},b=e.slice(),w=e.slice(),S=e.slice(),C=e.slice(),T=0;T<i;++T){if(g.sort(x),n.history){var E=g.map((function(t){var e=t.slice();return e.fx=t.fx,e.id=t.id,e}));E.sort((function(t,e){return t.id-e.id})),n.history.push({x:g[0].slice(),fx:g[0].fx,simplex:E})}for(r=0,v=0;v<d;++v)r=Math.max(r,Math.abs(g[0][v]-g[1][v]));if(Math.abs(g[0].fx-g[d].fx)<l&&r<c)break;for(v=0;v<d;++v){b[v]=0;for(var k=0;k<d;++k)b[v]+=g[k][v];b[v]/=d}var M=g[d];if(s(w,1+u,b,-u,M),w.fx=t(w),w.fx<g[0].fx)s(C,1+h,b,-h,M),C.fx=t(C),C.fx<w.fx?m(C):m(w);else if(w.fx>=g[d-1].fx){var A=!1;if(w.fx>M.fx?(s(S,1+f,b,-f,M),S.fx=t(S),S.fx<M.fx?m(S):A=!0):(s(S,1-f*u,b,f*u,M),S.fx=t(S),S.fx<w.fx?m(S):A=!0),A){if(p>=1)break;for(v=1;v<g.length;++v)s(g[v],1-p,g[0],p,g[v]),g[v].fx=t(g[v])}}else m(w)}return g.sort(x),{fx:g[0].fx,x:g[0]}}function c(t,e,n,r,a,o,l){var c=n.fx,u=i(n.fxprime,e),h=c,f=c,p=u,d=0;function g(f,d,g){for(var v=0;v<16;++v)if(a=(f+d)/2,s(r.x,1,n.x,a,e),h=r.fx=t(r.x,r.fxprime),p=i(r.fxprime,e),h>c+o*a*u||h>=g)d=a;else{if(Math.abs(p)<=-l*u)return a;p*(d-f)>=0&&(d=f),f=a,g=h}return 0}a=a||1,o=o||1e-6,l=l||.1;for(var v=0;v<10;++v){if(s(r.x,1,n.x,a,e),h=r.fx=t(r.x,r.fxprime),p=i(r.fxprime,e),h>c+o*a*u||v&&h>=f)return g(d,a,f);if(Math.abs(p)<=-l*u)return a;if(p>=0)return g(a,d,h);f=h,d=a,a*=2}return a}function u(t,e,n){var r,l,u,h={x:e.slice(),fx:0,fxprime:e.slice()},f={x:e.slice(),fx:0,fxprime:e.slice()},p=e.slice(),d=1;u=(n=n||{}).maxIterations||20*e.length,h.fx=t(h.x,h.fxprime),o(r=h.fxprime.slice(),h.fxprime,-1);for(var g=0;g<u;++g){if(d=c(t,r,h,f,d),n.history&&n.history.push({x:h.x.slice(),fx:h.fx,fxprime:h.fxprime.slice(),alpha:d}),d){s(p,1,f.fxprime,-1,h.fxprime);var v=i(h.fxprime,h.fxprime);s(r,Math.max(0,i(p,f.fxprime)/v),r,-1,f.fxprime),l=h,h=f,f=l}else o(r,h.fxprime,-1);if(a(h.fxprime)<=1e-5)break}return n.history&&n.history.push({x:h.x.slice(),fx:h.fx,fxprime:h.fxprime.slice(),alpha:d}),h}function h(t,e,n){for(var r=(n=n||{}).maxIterations||100*e.length,i=n.learnRate||.001,o={x:e.slice(),fx:0,fxprime:e.slice()},l=0;l<r&&(o.fx=t(o.x,o.fxprime),n.history&&n.history.push({x:o.x.slice(),fx:o.fx,fxprime:o.fxprime.slice()}),s(o.x,1,o.x,-i,o.fxprime),!(a(o.fxprime)<=1e-5));++l);return o}function f(t,e,n){n=n||{};var r,i={x:e.slice(),fx:0,fxprime:e.slice()},s={x:e.slice(),fx:0,fxprime:e.slice()},l=n.maxIterations||100*e.length,u=n.learnRate||1,h=e.slice(),f=n.c1||.001,p=n.c2||.1,d=[];if(n.history){var g=t;t=function(t,e){return d.push(t.slice()),g(t,e)}}i.fx=t(i.x,i.fxprime);for(var v=0;v<l&&(o(h,i.fxprime,-1),u=c(t,h,i,s,u,f,p),n.history&&(n.history.push({x:i.x.slice(),fx:i.fx,fxprime:i.fxprime.slice(),functionCalls:d,learnRate:u,alpha:u}),d=[]),r=i,i=s,s=r,!(0===u||a(i.fxprime)<1e-5));++v);return i}t.bisect=e,t.nelderMead=l,t.conjugateGradient=u,t.gradientDescent=h,t.gradientDescentLineSearch=f,t.zeros=n,t.zerosM=r,t.norm2=a,t.weightedSum=s,t.scale=o}(e)},553:function(t,e,n){"use strict";n.d(e,{WT:function(){return r}});var r="undefined"!==typeof Float32Array?Float32Array:Array;Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},5742:function(t,e,n){"use strict";function r(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],h=u*o-s*c,f=-u*a+s*l,p=c*a-o*l,d=n*h+r*f+i*p;return d?(d=1/d,t[0]=h*d,t[1]=(-u*r+i*c)*d,t[2]=(s*r-i*o)*d,t[3]=f*d,t[4]=(u*n-i*l)*d,t[5]=(-s*n+i*a)*d,t[6]=p*d,t[7]=(-c*n+r*l)*d,t[8]=(o*n-r*a)*d,t):null}function i(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=e[6],u=e[7],h=e[8],f=n[0],p=n[1],d=n[2],g=n[3],v=n[4],y=n[5],m=n[6],x=n[7],b=n[8];return t[0]=f*r+p*o+d*c,t[1]=f*i+p*s+d*u,t[2]=f*a+p*l+d*h,t[3]=g*r+v*o+y*c,t[4]=g*i+v*s+y*u,t[5]=g*a+v*l+y*h,t[6]=m*r+x*o+b*c,t[7]=m*i+x*s+b*u,t[8]=m*a+x*l+b*h,t}function a(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function o(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function s(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}n.d(e,{Jp:function(){return i},U_:function(){return r},Us:function(){return o},vc:function(){return a},xJ:function(){return s}})},9874:function(t,e,n){"use strict";n.d(e,{$X:function(){return a},AK:function(){return f},EU:function(){return d},Fp:function(){return s},Fv:function(){return h},I6:function(){return g},IH:function(){return i},TE:function(){return c},VV:function(){return o},bA:function(){return l},kE:function(){return u},kK:function(){return p},lu:function(){return v}});var r=n(553);function i(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function a(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function o(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function s(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function l(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function c(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function u(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function h(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function f(t,e){return t[0]*e[0]+t[1]*e[1]}function p(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function d(t,e){var n=t[0],r=t[1],i=e[0],a=e[1],o=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+a*a),s=o&&(n*i+r*a)/o;return Math.acos(Math.min(Math.max(s,-1),1))}function g(t,e){return t[0]===e[0]&&t[1]===e[1]}var v=a;!function(){var t=function(){var t=new r.WT(2);return r.WT!=Float32Array&&(t[0]=0,t[1]=0),t}()}()},3654:function(t){"use strict";var e=t.exports;t.exports.isNumber=function(t){return"number"===typeof t},t.exports.findMin=function(t){if(0===t.length)return 1/0;for(var e=t[0],n=1;n<t.length;n++)e=Math.min(e,t[n]);return e},t.exports.findMax=function(t){if(0===t.length)return-1/0;for(var e=t[0],n=1;n<t.length;n++)e=Math.max(e,t[n]);return e},t.exports.findMinMulti=function(t){for(var n=e.findMin(t[0]),r=1;r<t.length;r++)n=Math.min(n,e.findMin(t[r]));return n},t.exports.findMaxMulti=function(t){for(var n=e.findMax(t[0]),r=1;r<t.length;r++)n=Math.max(n,e.findMax(t[r]));return n},t.exports.inside=function(t,e,n){return t<=n&&n<=e}},1024:function(t,e,n){"use strict";var r=Math.log(2),i=t.exports,a=n(3654);function o(t){return 1-Math.abs(t)}t.exports.getUnifiedMinMax=function(t,e){return i.getUnifiedMinMaxMulti([t],e)},t.exports.getUnifiedMinMaxMulti=function(t,e){e=e||{};var n=!1,r=!1,i=a.isNumber(e.width)?e.width:2,o=a.isNumber(e.size)?e.size:50,s=a.isNumber(e.min)?e.min:(n=!0,a.findMinMulti(t)),l=a.isNumber(e.max)?e.max:(r=!0,a.findMaxMulti(t)),c=(l-s)/(o-1);return n&&(s-=2*i*c),r&&(l+=2*i*c),{min:s,max:l}},t.exports.create=function(t,e){if(e=e||{},!t||0===t.length)return[];var n=a.isNumber(e.size)?e.size:50,r=a.isNumber(e.width)?e.width:2,s=i.getUnifiedMinMax(t,{size:n,width:r,min:e.min,max:e.max}),l=s.min,c=s.max-l,u=c/(n-1);if(0===c)return[{x:l,y:1}];for(var h=[],f=0;f<n;f++)h.push({x:l+f*u,y:0});var p=function(t,e){for(var n={},r=0,i=-e;i<=e;i++)r+=t(i/e),n[i]=r;return n}(o,r),d=p[r],g=p[r-1]-p[r-2],v=0;t.forEach((function(t){var e=function(t){return Math.floor((t-l)/u)}(t);if(!(e+r<0||e-r>=h.length)){var n=Math.max(e-r,0),i=e,o=Math.min(e+r,h.length-1),s=n-(e-r),c=e+r-o,f=p[-r-1+s]||0,y=p[-r-1+c]||0,m=d/(d-f-y);s>0&&(v+=m*(s-1)*g);var x=Math.max(0,e-r+1);a.inside(0,h.length-1,x)&&(h[x].y+=1*m*g),a.inside(0,h.length-1,i+1)&&(h[i+1].y-=2*m*g),a.inside(0,h.length-1,o+1)&&(h[o+1].y+=1*m*g)}}));var y=v,m=0,x=0;return h.forEach((function(t){m+=t.y,y+=m,t.y=y,x+=y})),x>0&&h.forEach((function(t){t.y/=x})),h},t.exports.getExpectedValueFromPdf=function(t){if(t&&0!==t.length){var e=0;return t.forEach((function(t){e+=t.x*t.y})),e}},t.exports.getXWithLeftTailArea=function(t,e){if(t&&0!==t.length){for(var n=0,r=0,i=0;i<t.length&&(r=i,!((n+=t[i].y)>=e));i++);return t[r].x}},t.exports.getPerplexity=function(t){if(t&&0!==t.length){var e=0;return t.forEach((function(t){var n=Math.log(t.y);isFinite(n)&&(e+=t.y*n)})),e=-e/r,Math.pow(2,e)}}},3010:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SizeSensorId=e.SensorTabIndex=e.SensorClassName=void 0;e.SizeSensorId="size-sensor-id";e.SensorClassName="size-sensor-object";e.SensorTabIndex="-1"},8281:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=null;return function(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(n),n=setTimeout((function(){t.apply(r,a)}),e)}}},2904:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=1;e.default=function(){return"".concat(n++)}},315:function(t,e,n){"use strict";e.ak=void 0;var r=n(4374);e.ak=function(t,e){var n=(0,r.getSensor)(t);return n.bind(e),function(){n.unbind(e)}}},4374:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeSensor=e.getSensor=e.Sensors=void 0;var r,i=(r=n(2904))&&r.__esModule?r:{default:r},a=n(6413),o=n(3010);var s={};function l(t){t&&s[t]&&delete s[t]}e.Sensors=s;e.getSensor=function(t){var e=t.getAttribute(o.SizeSensorId);if(e&&s[e])return s[e];var n=(0,i.default)();t.setAttribute(o.SizeSensorId,n);var r=(0,a.createSensor)(t,(function(){return l(n)}));return s[n]=r,r};e.removeSensor=function(t){var e=t.element.getAttribute(o.SizeSensorId);t.destroy(),l(e)}},6413:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSensor=void 0;var r=n(8850),i=n(4881),a="undefined"!==typeof ResizeObserver?i.createSensor:r.createSensor;e.createSensor=a},8850:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSensor=void 0;var r,i=(r=n(8281))&&r.__esModule?r:{default:r},a=n(3010);e.createSensor=function(t,e){var n=void 0,r=[],o=(0,i.default)((function(){r.forEach((function(e){e(t)}))})),s=function(){n&&n.parentNode&&(n.contentDocument&&n.contentDocument.defaultView.removeEventListener("resize",o),n.parentNode.removeChild(n),t.removeAttribute(a.SizeSensorId),n=void 0,r=[],e&&e())};return{element:t,bind:function(e){n||(n=function(){"static"===getComputedStyle(t).position&&(t.style.position="relative");var e=document.createElement("object");return e.onload=function(){e.contentDocument.defaultView.addEventListener("resize",o),o()},e.style.display="block",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.height="100%",e.style.width="100%",e.style.overflow="hidden",e.style.pointerEvents="none",e.style.zIndex="-1",e.style.opacity="0",e.setAttribute("class",a.SensorClassName),e.setAttribute("tabindex",a.SensorTabIndex),e.type="text/html",t.appendChild(e),e.data="about:blank",e}()),-1===r.indexOf(e)&&r.push(e)},destroy:s,unbind:function(t){var e=r.indexOf(t);-1!==e&&r.splice(e,1),0===r.length&&n&&s()}}}},4881:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSensor=void 0;var r,i=n(3010),a=(r=n(8281))&&r.__esModule?r:{default:r};e.createSensor=function(t,e){var n=void 0,r=[],o=(0,a.default)((function(){r.forEach((function(e){e(t)}))})),s=function(){n.disconnect(),r=[],n=void 0,t.removeAttribute(i.SizeSensorId),e&&e()};return{element:t,bind:function(e){n||(n=function(){var e=new ResizeObserver(o);return e.observe(t),o(),e}()),-1===r.indexOf(e)&&r.push(e)},destroy:s,unbind:function(t){var e=r.indexOf(t);-1!==e&&r.splice(e,1),0===r.length&&n&&s()}}}},9080:function(t,e,n){"use strict";n.d(e,{ZT:function(){return i}});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError},4045:function(t,e,n){"use strict";n.d(e,{P6:function(){return Gl},ij:function(){return Il}});var r={version:"0.18.5"},i=1200,a=1252,o=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],s={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},l=function(t){-1!=o.indexOf(t)&&(a=s[0]=t)};var c=function(t){i=t,l(t)};function u(){c(1200),l(1252)}function h(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t.charCodeAt(n);return e}function f(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var p,d=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return 255==e&&254==n?function(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}(t.slice(2)):254==e&&255==n?f(t.slice(2)):65279==e?t.slice(1):t},g=function(t){return String.fromCharCode(t)},v=function(t){return String.fromCharCode(t)};var y=null,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function x(t){for(var e="",n=0,r=0,i=0,a=0,o=0,s=0,l=0,c=0;c<t.length;)a=(n=t.charCodeAt(c++))>>2,o=(3&n)<<4|(r=t.charCodeAt(c++))>>4,s=(15&r)<<2|(i=t.charCodeAt(c++))>>6,l=63&i,isNaN(r)?s=l=64:isNaN(i)&&(l=64),e+=m.charAt(a)+m.charAt(o)+m.charAt(s)+m.charAt(l);return e}function b(t){var e="",n=0,r=0,i=0,a=0,o=0,s=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<t.length;)n=m.indexOf(t.charAt(l++))<<2|(a=m.indexOf(t.charAt(l++)))>>4,e+=String.fromCharCode(n),r=(15&a)<<4|(o=m.indexOf(t.charAt(l++)))>>2,64!==o&&(e+=String.fromCharCode(r)),i=(3&o)<<6|(s=m.indexOf(t.charAt(l++))),64!==s&&(e+=String.fromCharCode(i));return e}var w=function(){return"undefined"!==typeof Buffer&&"undefined"!==typeof process&&"undefined"!==typeof process.versions&&!!process.versions.node}(),S=function(){if("undefined"!==typeof Buffer){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch(e){t=!0}return t?function(t,e){return e?new Buffer(t,e):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function C(t){return w?Buffer.alloc?Buffer.alloc(t):new Buffer(t):"undefined"!=typeof Uint8Array?new Uint8Array(t):new Array(t)}function T(t){return w?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):"undefined"!=typeof Uint8Array?new Uint8Array(t):new Array(t)}var E=function(t){return w?S(t,"binary"):t.split("").map((function(t){return 255&t.charCodeAt(0)}))};function k(t){if(Array.isArray(t))return t.map((function(t){return String.fromCharCode(t)})).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function M(t){if("undefined"==typeof ArrayBuffer)throw new Error("Unsupported");if(t instanceof ArrayBuffer)return M(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var A=w?function(t){return Buffer.concat(t.map((function(t){return Buffer.isBuffer(t)?t:S(t)})))}:function(t){if("undefined"!==typeof Uint8Array){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if("string"==typeof t[e])throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map((function(t){return Array.isArray(t)?t:[].slice.call(t)})))};var O=/\u0000/g,F=/[\u0001-\u0006]/g;function I(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function P(t,e){var n=""+t;return n.length>=e?n:Vt("0",e-n.length)+n}function D(t,e){var n=""+t;return n.length>=e?n:Vt(" ",e-n.length)+n}function L(t,e){var n=""+t;return n.length>=e?n:n+Vt(" ",e-n.length)}var R=Math.pow(2,32);function B(t,e){return t>R||t<-R?function(t,e){var n=""+Math.round(t);return n.length>=e?n:Vt("0",e-n.length)+n}(t,e):function(t,e){var n=""+t;return n.length>=e?n:Vt("0",e-n.length)+n}(Math.round(t),e)}function _(t,e){return e=e||0,t.length>=7+e&&103===(32|t.charCodeAt(e))&&101===(32|t.charCodeAt(e+1))&&110===(32|t.charCodeAt(e+2))&&101===(32|t.charCodeAt(e+3))&&114===(32|t.charCodeAt(e+4))&&97===(32|t.charCodeAt(e+5))&&108===(32|t.charCodeAt(e+6))}var N=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],U=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];var z={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},H={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},V={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function G(t,e,n){for(var r=t<0?-1:1,i=t*r,a=0,o=1,s=0,l=1,c=0,u=0,h=Math.floor(i);c<e&&(s=(h=Math.floor(i))*o+a,u=h*c+l,!(i-h<5e-8));)i=1/(i-h),a=o,o=s,l=c,c=u;if(u>e&&(c>e?(u=l,s=a):(u=c,s=o)),!n)return[0,r*s,u];var f=Math.floor(r*s/u);return[f,r*s-f*u,u]}function W(t,e,n){if(t>2958465||t<0)return null;var r=0|t,i=Math.floor(86400*(t-r)),a=0,o=[],s={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),e&&e.date1904&&(r+=1462),s.u>.9999&&(s.u=0,86400==++i&&(s.T=i=0,++r,++s.D)),60===r)o=n?[1317,10,29]:[1900,2,29],a=3;else if(0===r)o=n?[1317,8,29]:[1900,1,0],a=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),r<60&&(a=(a+6)%7),n&&(a=function(t,e){e[0]-=581;var n=t.getDay();t<60&&(n=(n+6)%7);return n}(l,o))}return s.y=o[0],s.m=o[1],s.d=o[2],s.S=i%60,i=Math.floor(i/60),s.M=i%60,i=Math.floor(i/60),s.H=i,s.q=a,s}var Y=new Date(1899,11,31,0,0,0),j=Y.getTime(),X=new Date(1900,2,1,0,0,0);function q(t,e){var n=t.getTime();return e?n-=1262304e5:t>=X&&(n+=864e5),(n-(j+6e4*(t.getTimezoneOffset()-Y.getTimezoneOffset())))/864e5}function Z(t){return-1==t.indexOf(".")?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function K(t){var e,n=Math.floor(Math.log(Math.abs(t))*Math.LOG10E);return e=n>=-4&&n<=-1?t.toPrecision(10+n):Math.abs(n)<=9?function(t){var e=t<0?12:11,n=Z(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10)).length<=e?n:t.toExponential(5)}(t):10===n?t.toFixed(10).substr(0,12):function(t){var e=Z(t.toFixed(11));return e.length>(t<0?12:11)||"0"===e||"-0"===e?t.toPrecision(6):e}(t),Z(function(t){return-1==t.indexOf("E")?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(e.toUpperCase()))}function J(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(0|t)===t?t.toString(10):K(t);case"undefined":return"";case"object":if(null==t)return"";if(t instanceof Date)return xt(14,q(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function Q(t,e,n,r){var i,a="",o=0,s=0,l=n.y,c=0;switch(t){case 98:l=n.y+543;case 121:switch(e.length){case 1:case 2:i=l%100,c=2;break;default:i=l%1e4,c=4}break;case 109:switch(e.length){case 1:case 2:i=n.m,c=e.length;break;case 3:return U[n.m-1][1];case 5:return U[n.m-1][0];default:return U[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:i=n.d,c=e.length;break;case 3:return N[n.q][0];default:return N[n.q][1]}break;case 104:switch(e.length){case 1:case 2:i=1+(n.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:i=n.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:i=n.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if("s"!=e&&"ss"!=e&&".0"!=e&&".00"!=e&&".000"!=e)throw"bad second format: "+e;return 0!==n.u||"s"!=e&&"ss"!=e?(s=r>=2?3===r?1e3:100:1===r?10:1,(o=Math.round(s*(n.S+n.u)))>=60*s&&(o=0),"s"===e?0===o?"0":""+o/s:(a=P(o,2+r),"ss"===e?a.substr(0,2):"."+a.substr(2,e.length-1))):P(n.S,e.length);case 90:switch(e){case"[h]":case"[hh]":i=24*n.D+n.H;break;case"[m]":case"[mm]":i=60*(24*n.D+n.H)+n.M;break;case"[s]":case"[ss]":i=60*(60*(24*n.D+n.H)+n.M)+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}c=3===e.length?1:2;break;case 101:i=l,c=1}return c>0?P(i,c):""}function tt(t){if(t.length<=3)return t;for(var e=t.length%3,n=t.substr(0,e);e!=t.length;e+=3)n+=(n.length>0?",":"")+t.substr(e,3);return n}var et=/%/g;function nt(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(0==e)return"0.0E+0";if(e<0)return"-"+nt(t,-e);var i=t.indexOf(".");-1===i&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),-1===(n=(e/Math.pow(10,a)).toPrecision(r+1+(i+a)%i)).indexOf("e")){var o=Math.floor(Math.log(e)*Math.LOG10E);for(-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+a):n+="E+"+(o-a);"0."===n.substr(0,2);)n=(n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(t,e,n,r){return e+n+r.substr(0,(i+a)%i)+"."+r.substr(a)+"E"}))}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var rt=/# (\?+)( ?)\/( ?)(\d+)/;var it=/^#*0*\.([0#]+)/,at=/\).*[0#]/,ot=/\(###\) ###\\?-####/;function st(t){for(var e,n="",r=0;r!=t.length;++r)switch(e=t.charCodeAt(r)){case 35:break;case 63:n+=" ";break;case 48:n+="0";break;default:n+=String.fromCharCode(e)}return n}function lt(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function ct(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function ut(t,e,n){if(40===t.charCodeAt(0)&&!e.match(at)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?ut("n",r,n):"("+ut("n",r,-n)+")"}if(44===e.charCodeAt(e.length-1))return function(t,e,n){for(var r=e.length-1;44===e.charCodeAt(r-1);)--r;return pt(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}(t,e,n);if(-1!==e.indexOf("%"))return function(t,e,n){var r=e.replace(et,""),i=e.length-r.length;return pt(t,r,n*Math.pow(10,2*i))+Vt("%",i)}(t,e,n);if(-1!==e.indexOf("E"))return nt(e,n);if(36===e.charCodeAt(0))return"$"+ut(t,e.substr(" "==e.charAt(1)?2:1),n);var i,a,o,s,l=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+B(l,e.length);if(e.match(/^[#?]+$/))return"0"===(i=B(n,0))&&(i=""),i.length>e.length?i:st(e.substr(0,e.length-i.length))+i;if(a=e.match(rt))return function(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),a=Math.floor(i/r),o=i-a*r,s=r;return n+(0===a?"":""+a)+" "+(0===o?Vt(" ",t[1].length+1+t[4].length):D(o,t[1].length)+t[2]+"/"+t[3]+P(s,t[4].length))}(a,l,c);if(e.match(/^#+0+$/))return c+B(l,e.length-e.indexOf("0"));if(a=e.match(it))return i=lt(n,a[1].length).replace(/^([^\.]+)$/,"$1."+st(a[1])).replace(/\.$/,"."+st(a[1])).replace(/\.(\d*)$/,(function(t,e){return"."+e+Vt("0",st(a[1]).length-e.length)})),-1!==e.indexOf("0.")?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return c+lt(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return c+tt(B(l,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+ut(t,e,-n):tt(""+(Math.floor(n)+function(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}(n,a[1].length)))+"."+P(ct(n,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return ut(t,e.replace(/^#,#*,/,""),n);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=I(ut(t,e.replace(/[\\-]/g,""),n)),o=0,I(I(e.replace(/\\/g,"")).replace(/[0#]/g,(function(t){return o<i.length?i.charAt(o++):"0"===t?"0":""})));if(e.match(ot))return"("+(i=ut(t,"##########",n)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),s=G(l,Math.pow(10,o)-1,!1),i=""+c," "==(u=pt("n",a[1],s[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),i+=u+a[2]+"/"+a[3],(u=L(s[2],o)).length<a[4].length&&(u=st(a[4].substr(a[4].length-u.length))+u),i+=u;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),c+((s=G(l,Math.pow(10,o)-1,!0))[0]||(s[1]?"":"0"))+" "+(s[1]?D(s[1],o)+a[2]+"/"+a[3]+L(s[2],o):Vt(" ",2*o+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=B(n,0),e.length<=i.length?i:st(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var h=e.indexOf(".")-o,f=e.length-i.length-h;return st(e.substr(0,h)+i+e.substr(e.length-f))}if(a=e.match(/^00,000\.([#0]*0)$/))return o=ct(n,a[1].length),n<0?"-"+ut(t,e,-n):tt(function(t){return t<2147483647&&t>-2147483648?""+(t>=0?0|t:t-1|0):""+Math.floor(t)}(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(t){return"00,"+(t.length<3?P(0,3-t.length):"")+t}))+"."+P(o,a[1].length);switch(e){case"###,##0.00":return ut(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var p=tt(B(l,0));return"0"!==p?c+p:"";case"###,###.00":return ut(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return ut(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function ht(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(0==e)return"0.0E+0";if(e<0)return"-"+ht(t,-e);var i=t.indexOf(".");-1===i&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),!(n=(e/Math.pow(10,a)).toPrecision(r+1+(i+a)%i)).match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+a):n+="E+"+(o-a),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(t,e,n,r){return e+n+r.substr(0,(i+a)%i)+"."+r.substr(a)+"E"}))}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function ft(t,e,n){if(40===t.charCodeAt(0)&&!e.match(at)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?ft("n",r,n):"("+ft("n",r,-n)+")"}if(44===e.charCodeAt(e.length-1))return function(t,e,n){for(var r=e.length-1;44===e.charCodeAt(r-1);)--r;return pt(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}(t,e,n);if(-1!==e.indexOf("%"))return function(t,e,n){var r=e.replace(et,""),i=e.length-r.length;return pt(t,r,n*Math.pow(10,2*i))+Vt("%",i)}(t,e,n);if(-1!==e.indexOf("E"))return ht(e,n);if(36===e.charCodeAt(0))return"$"+ft(t,e.substr(" "==e.charAt(1)?2:1),n);var i,a,o,s,l=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+P(l,e.length);if(e.match(/^[#?]+$/))return i=""+n,0===n&&(i=""),i.length>e.length?i:st(e.substr(0,e.length-i.length))+i;if(a=e.match(rt))return function(t,e,n){return n+(0===e?"":""+e)+Vt(" ",t[1].length+2+t[4].length)}(a,l,c);if(e.match(/^#+0+$/))return c+P(l,e.length-e.indexOf("0"));if(a=e.match(it))return i=(i=(""+n).replace(/^([^\.]+)$/,"$1."+st(a[1])).replace(/\.$/,"."+st(a[1]))).replace(/\.(\d*)$/,(function(t,e){return"."+e+Vt("0",st(a[1]).length-e.length)})),-1!==e.indexOf("0.")?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return c+tt(""+l);if(a=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+ft(t,e,-n):tt(""+n)+"."+Vt("0",a[1].length);if(a=e.match(/^#,#*,#0/))return ft(t,e.replace(/^#,#*,/,""),n);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=I(ft(t,e.replace(/[\\-]/g,""),n)),o=0,I(I(e.replace(/\\/g,"")).replace(/[0#]/g,(function(t){return o<i.length?i.charAt(o++):"0"===t?"0":""})));if(e.match(ot))return"("+(i=ft(t,"##########",n)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),s=G(l,Math.pow(10,o)-1,!1),i=""+c," "==(u=pt("n",a[1],s[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),i+=u+a[2]+"/"+a[3],(u=L(s[2],o)).length<a[4].length&&(u=st(a[4].substr(a[4].length-u.length))+u),i+=u;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),c+((s=G(l,Math.pow(10,o)-1,!0))[0]||(s[1]?"":"0"))+" "+(s[1]?D(s[1],o)+a[2]+"/"+a[3]+L(s[2],o):Vt(" ",2*o+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:st(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var h=e.indexOf(".")-o,f=e.length-i.length-h;return st(e.substr(0,h)+i+e.substr(e.length-f))}if(a=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+ft(t,e,-n):tt(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(t){return"00,"+(t.length<3?P(0,3-t.length):"")+t}))+"."+P(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var p=tt(""+l);return"0"!==p?c+p:"";default:if(e.match(/\.[0#?]*$/))return ft(t,e.slice(0,e.lastIndexOf(".")),n)+st(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function pt(t,e,n){return(0|n)===n?ft(t,e,n):ut(t,e,n)}var dt=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function gt(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":_(t,e)&&(e+=6),e++;break;case'"':for(;34!==t.charCodeAt(++e)&&e<t.length;);++e;break;case"\\":case"_":e+=2;break;case"@":++e;break;case"B":case"b":if("1"===t.charAt(e+1)||"2"===t.charAt(e+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===t.substr(e,3).toUpperCase())return!0;if("AM/PM"===t.substr(e,5).toUpperCase())return!0;if("\u4e0a\u5348/\u4e0b\u5348"===t.substr(e,5).toUpperCase())return!0;++e;break;case"[":for(r=n;"]"!==t.charAt(e++)&&e<t.length;)r+=t.charAt(e);if(r.match(dt))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||"\\"==n&&"-"==t.charAt(e+1)&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e," "!=t.charAt(e)&&"*"!=t.charAt(e)||++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;default:++e}return!1}var vt=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function yt(t,e){if(null==e)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0}return!1}function mt(t,e){var n=function(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),!0===n)throw new Error("Format |"+t+"| unterminated string ");return e}(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if("number"!==typeof e)return[4,4===n.length||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"]}var a=e>0?n[0]:e<0?n[1]:n[2];if(-1===n[0].indexOf("[")&&-1===n[1].indexOf("["))return[r,a];if(null!=n[0].match(/\[[=<>]/)||null!=n[1].match(/\[[=<>]/)){var o=n[0].match(vt),s=n[1].match(vt);return yt(e,o)?[r,n[0]]:yt(e,s)?[r,n[1]]:[r,n[null!=o&&null!=s?2:1]]}return[r,a]}function xt(t,e,n){null==n&&(n={});var r="";switch(typeof t){case"string":r="m/d/yy"==t&&n.dateNF?n.dateNF:t;break;case"number":null==(r=14==t&&n.dateNF?n.dateNF:(null!=n.table?n.table:z)[t])&&(r=n.table&&n.table[H[t]]||z[H[t]]),null==r&&(r=V[t]||"General")}if(_(r,0))return J(e,n);e instanceof Date&&(e=q(e,n.date1904));var i=mt(r,e);if(_(i[1]))return J(e,n);if(!0===e)e="TRUE";else if(!1===e)e="FALSE";else if(""===e||null==e)return"";return function(t,e,n,r){for(var i,a,o,s=[],l="",c=0,u="",h="t",f="H";c<t.length;)switch(u=t.charAt(c)){case"G":if(!_(t,c))throw new Error("unrecognized character "+u+" in "+t);s[s.length]={t:"G",v:"General"},c+=7;break;case'"':for(l="";34!==(o=t.charCodeAt(++c))&&c<t.length;)l+=String.fromCharCode(o);s[s.length]={t:"t",v:l},++c;break;case"\\":var p=t.charAt(++c),d="("===p||")"===p?p:"t";s[s.length]={t:d,v:p},++c;break;case"_":s[s.length]={t:"t",v:" "},c+=2;break;case"@":s[s.length]={t:"T",v:e},++c;break;case"B":case"b":if("1"===t.charAt(c+1)||"2"===t.charAt(c+1)){if(null==i&&null==(i=W(e,n,"2"===t.charAt(c+1))))return"";s[s.length]={t:"X",v:t.substr(c,2)},h=u,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0)return"";if(null==i&&null==(i=W(e,n)))return"";for(l=u;++c<t.length&&t.charAt(c).toLowerCase()===u;)l+=u;"m"===u&&"h"===h.toLowerCase()&&(u="M"),"h"===u&&(u=f),s[s.length]={t:u,v:l},h=u;break;case"A":case"a":case"\u4e0a":var g={t:u,v:u};if(null==i&&(i=W(e,n)),"A/P"===t.substr(c,3).toUpperCase()?(null!=i&&(g.v=i.H>=12?"P":"A"),g.t="T",f="h",c+=3):"AM/PM"===t.substr(c,5).toUpperCase()?(null!=i&&(g.v=i.H>=12?"PM":"AM"),g.t="T",c+=5,f="h"):"\u4e0a\u5348/\u4e0b\u5348"===t.substr(c,5).toUpperCase()?(null!=i&&(g.v=i.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),g.t="T",c+=5,f="h"):(g.t="t",++c),null==i&&"T"===g.t)return"";s[s.length]=g,h=u;break;case"[":for(l=u;"]"!==t.charAt(c++)&&c<t.length;)l+=t.charAt(c);if("]"!==l.slice(-1))throw'unterminated "[" block: |'+l+"|";if(l.match(dt)){if(null==i&&null==(i=W(e,n)))return"";s[s.length]={t:"Z",v:l.toLowerCase()},h=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",gt(t)||(s[s.length]={t:"t",v:l}));break;case".":if(null!=i){for(l=u;++c<t.length&&"0"===(u=t.charAt(c));)l+=u;s[s.length]={t:"s",v:l};break}case"0":case"#":for(l=u;++c<t.length&&"0#?.,E+-%".indexOf(u=t.charAt(c))>-1;)l+=u;s[s.length]={t:"n",v:l};break;case"?":for(l=u;t.charAt(++c)===u;)l+=u;s[s.length]={t:u,v:l},h=u;break;case"*":++c," "!=t.charAt(c)&&"*"!=t.charAt(c)||++c;break;case"(":case")":s[s.length]={t:1===r?"t":u,v:u},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=u;c<t.length&&"0123456789".indexOf(t.charAt(++c))>-1;)l+=t.charAt(c);s[s.length]={t:"D",v:l};break;case" ":s[s.length]={t:u,v:u},++c;break;case"$":s[s.length]={t:"t",v:"$"},++c;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(u))throw new Error("unrecognized character "+u+" in "+t);s[s.length]={t:"t",v:u},++c}var v,y=0,m=0;for(c=s.length-1,h="t";c>=0;--c)switch(s[c].t){case"h":case"H":s[c].t=f,h="h",y<1&&(y=1);break;case"s":(v=s[c].v.match(/\.0+$/))&&(m=Math.max(m,v[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":h=s[c].t;break;case"m":"s"===h&&(s[c].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&s[c].v.match(/[Hh]/)&&(y=1),y<2&&s[c].v.match(/[Mm]/)&&(y=2),y<3&&s[c].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M),i.M>=60&&(i.M=0,++i.H);break;case 2:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M)}var x,b="";for(c=0;c<s.length;++c)switch(s[c].t){case"t":case"T":case" ":case"D":break;case"X":s[c].v="",s[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[c].v=Q(s[c].t.charCodeAt(0),s[c].v,i,m),s[c].t="t";break;case"n":case"?":for(x=c+1;null!=s[x]&&("?"===(u=s[x].t)||"D"===u||(" "===u||"t"===u)&&null!=s[x+1]&&("?"===s[x+1].t||"t"===s[x+1].t&&"/"===s[x+1].v)||"("===s[c].t&&(" "===u||"n"===u||")"===u)||"t"===u&&("/"===s[x].v||" "===s[x].v&&null!=s[x+1]&&"?"==s[x+1].t));)s[c].v+=s[x].v,s[x]={v:"",t:";"},++x;b+=s[c].v,c=x-1;break;case"G":s[c].t="t",s[c].v=J(e,n)}var w,S,C="";if(b.length>0){40==b.charCodeAt(0)?(w=e<0&&45===b.charCodeAt(0)?-e:e,S=pt("n",b,w)):(S=pt("n",b,w=e<0&&r>1?-e:e),w<0&&s[0]&&"t"==s[0].t&&(S=S.substr(1),s[0].v="-"+s[0].v)),x=S.length-1;var T=s.length;for(c=0;c<s.length;++c)if(null!=s[c]&&"t"!=s[c].t&&s[c].v.indexOf(".")>-1){T=c;break}var E=s.length;if(T===s.length&&-1===S.indexOf("E")){for(c=s.length-1;c>=0;--c)null!=s[c]&&-1!=="n?".indexOf(s[c].t)&&(x>=s[c].v.length-1?(x-=s[c].v.length,s[c].v=S.substr(x+1,s[c].v.length)):x<0?s[c].v="":(s[c].v=S.substr(0,x+1),x=-1),s[c].t="t",E=c);x>=0&&E<s.length&&(s[E].v=S.substr(0,x+1)+s[E].v)}else if(T!==s.length&&-1===S.indexOf("E")){for(x=S.indexOf(".")-1,c=T;c>=0;--c)if(null!=s[c]&&-1!=="n?".indexOf(s[c].t)){for(a=s[c].v.indexOf(".")>-1&&c===T?s[c].v.indexOf(".")-1:s[c].v.length-1,C=s[c].v.substr(a+1);a>=0;--a)x>=0&&("0"===s[c].v.charAt(a)||"#"===s[c].v.charAt(a))&&(C=S.charAt(x--)+C);s[c].v=C,s[c].t="t",E=c}for(x>=0&&E<s.length&&(s[E].v=S.substr(0,x+1)+s[E].v),x=S.indexOf(".")+1,c=T;c<s.length;++c)if(null!=s[c]&&(-1!=="n?(".indexOf(s[c].t)||c===T)){for(a=s[c].v.indexOf(".")>-1&&c===T?s[c].v.indexOf(".")+1:0,C=s[c].v.substr(0,a);a<s[c].v.length;++a)x<S.length&&(C+=S.charAt(x++));s[c].v=C,s[c].t="t",E=c}}}for(c=0;c<s.length;++c)null!=s[c]&&"n?".indexOf(s[c].t)>-1&&(w=r>1&&e<0&&c>0&&"-"===s[c-1].v?-e:e,s[c].v=pt(s[c].t,s[c].v,w),s[c].t="t");var k="";for(c=0;c!==s.length;++c)null!=s[c]&&(k+=s[c].v);return k}(i[1],e,n,i[0])}function bt(t,e){if("number"!=typeof e){e=+e||-1;for(var n=0;n<392;++n)if(void 0!=z[n]){if(z[n]==t){e=n;break}}else e<0&&(e=n);e<0&&(e=391)}return z[e]=t,e}function wt(){var t;t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',z=t}var St={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Ct=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;var Tt=function(){var t={};t.version="1.2.0";var e=function(){for(var t=0,e=new Array(256),n=0;256!=n;++n)t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=n)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1,e[n]=t;return"undefined"!==typeof Int32Array?new Int32Array(e):e}();var n=function(t){var e=0,n=0,r=0,i="undefined"!==typeof Int32Array?new Int32Array(4096):new Array(4096);for(r=0;256!=r;++r)i[r]=t[r];for(r=0;256!=r;++r)for(n=t[r],e=256+r;e<4096;e+=256)n=i[e]=n>>>8^t[255&n];var a=[];for(r=1;16!=r;++r)a[r-1]="undefined"!==typeof Int32Array?i.subarray(256*r,256*r+256):i.slice(256*r,256*r+256);return a}(e),r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],c=n[6],u=n[7],h=n[8],f=n[9],p=n[10],d=n[11],g=n[12],v=n[13],y=n[14];return t.table=e,t.bstr=function(t,n){for(var r=-1^n,i=0,a=t.length;i<a;)r=r>>>8^e[255&(r^t.charCodeAt(i++))];return~r},t.buf=function(t,n){for(var m=-1^n,x=t.length-15,b=0;b<x;)m=y[t[b++]^255&m]^v[t[b++]^m>>8&255]^g[t[b++]^m>>16&255]^d[t[b++]^m>>>24]^p[t[b++]]^f[t[b++]]^h[t[b++]]^u[t[b++]]^c[t[b++]]^l[t[b++]]^s[t[b++]]^o[t[b++]]^a[t[b++]]^i[t[b++]]^r[t[b++]]^e[t[b++]];for(x+=15;b<x;)m=m>>>8^e[255&(m^t[b++])];return~m},t.str=function(t,n){for(var r=-1^n,i=0,a=t.length,o=0,s=0;i<a;)(o=t.charCodeAt(i++))<128?r=r>>>8^e[255&(r^o)]:o<2048?r=(r=r>>>8^e[255&(r^(192|o>>6&31))])>>>8^e[255&(r^(128|63&o))]:o>=55296&&o<57344?(o=64+(1023&o),s=1023&t.charCodeAt(i++),r=(r=(r=(r=r>>>8^e[255&(r^(240|o>>8&7))])>>>8^e[255&(r^(128|o>>2&63))])>>>8^e[255&(r^(128|s>>6&15|(3&o)<<4))])>>>8^e[255&(r^(128|63&s))]):r=(r=(r=r>>>8^e[255&(r^(224|o>>12&15))])>>>8^e[255&(r^(128|o>>6&63))])>>>8^e[255&(r^(128|63&o))];return~r},t}(),Et=function(){var t,e={};function n(t){if("/"==t.charAt(t.length-1))return-1===t.slice(0,-1).indexOf("/")?t:n(t.slice(0,-1));var e=t.lastIndexOf("/");return-1===e?t:t.slice(0,e+1)}function r(t){if("/"==t.charAt(t.length-1))return r(t.slice(0,-1));var e=t.lastIndexOf("/");return-1===e?t:t.slice(e+1)}function i(t,e){"string"===typeof e&&(e=new Date(e));var n=e.getHours();n=(n=n<<6|e.getMinutes())<<5|e.getSeconds()>>>1,t.write_shift(2,n);var r=e.getFullYear()-1980;r=(r=r<<4|e.getMonth()+1)<<5|e.getDate(),t.write_shift(2,r)}function a(t){bn(t,0);for(var e={},n=0;t.l<=t.length-4;){var r=t.read_shift(2),i=t.read_shift(2),a=t.l+i,o={};if(21589===r)1&(n=t.read_shift(1))&&(o.mtime=t.read_shift(4)),i>5&&(2&n&&(o.atime=t.read_shift(4)),4&n&&(o.ctime=t.read_shift(4))),o.mtime&&(o.mt=new Date(1e3*o.mtime));t.l=a,e[r]=o}return e}function o(){return t||(t={})}function s(t,e){if(80==t[0]&&75==t[1])return pt(t,e);if(109==(32|t[0])&&105==(32|t[1]))return function(t,e){if("mime-version:"!=P(t.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var n=e&&e.root||"",r=(w&&Buffer.isBuffer(t)?t.toString("binary"):P(t)).split("\r\n"),i=0,a="";for(i=0;i<r.length;++i)if(a=r[i],/^Content-Location:/i.test(a)&&(a=a.slice(a.indexOf("file")),n||(n=a.slice(0,a.lastIndexOf("/")+1)),a.slice(0,n.length)!=n))for(;n.length>0&&(n=(n=n.slice(0,n.length-1)).slice(0,n.lastIndexOf("/")+1),a.slice(0,n.length)!=n););var o=(r[1]||"").match(/boundary="(.*?)"/);if(!o)throw new Error("MAD cannot find boundary");var s="--"+(o[1]||""),l=[],c=[],u={FileIndex:l,FullPaths:c};f(u);var h,p=0;for(i=0;i<r.length;++i){var d=r[i];d!==s&&d!==s+"--"||(p++&&xt(u,r.slice(h,i),n),h=i)}return u}(t,e);if(t.length<512)throw new Error("CFB file size "+t.length+" < 512");var n,r,i,a,o,s,p=512,d=[],g=t.slice(0,512);bn(g,0);var v=function(t){if(80==t[t.l]&&75==t[t.l+1])return[0,0];t.chk(m,"Header Signature: "),t.l+=16;var e=t.read_shift(2,"u");return[t.read_shift(2,"u"),e]}(g);switch(n=v[0]){case 3:p=512;break;case 4:p=4096;break;case 0:if(0==v[1])return pt(t,e);default:throw new Error("Major Version: Expected 3 or 4 saw "+n)}512!==p&&bn(g=t.slice(0,p),28);var x=t.slice(0,p);!function(t,e){var n=9;switch(t.l+=2,n=t.read_shift(2)){case 9:if(3!=e)throw new Error("Sector Shift: Expected 9 saw "+n);break;case 12:if(4!=e)throw new Error("Sector Shift: Expected 12 saw "+n);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+n)}t.chk("0600","Mini Sector Shift: "),t.chk("000000000000","Reserved: ")}(g,n);var b=g.read_shift(4,"i");if(3===n&&0!==b)throw new Error("# Directory Sectors: Expected 0 saw "+b);g.l+=4,a=g.read_shift(4,"i"),g.l+=4,g.chk("00100000","Mini Stream Cutoff Size: "),o=g.read_shift(4,"i"),r=g.read_shift(4,"i"),s=g.read_shift(4,"i"),i=g.read_shift(4,"i");for(var S=-1,C=0;C<109&&!((S=g.read_shift(4,"i"))<0);++C)d[C]=S;var T=function(t,e){for(var n=Math.ceil(t.length/e)-1,r=[],i=1;i<n;++i)r[i-1]=t.slice(i*e,(i+1)*e);return r[n-1]=t.slice(n*e),r}(t,p);c(s,i,T,p,d);var E=function(t,e,n,r){var i=t.length,a=[],o=[],s=[],l=[],c=r-1,u=0,h=0,f=0,p=0;for(u=0;u<i;++u)if(s=[],(f=u+e)>=i&&(f-=i),!o[f]){l=[];var d=[];for(h=f;h>=0;){d[h]=!0,o[h]=!0,s[s.length]=h,l.push(t[h]);var g=n[Math.floor(4*h/r)];if(r<4+(p=4*h&c))throw new Error("FAT boundary crossed: "+h+" 4 "+r);if(!t[g])break;if(d[h=fn(t[g],p)])break}a[f]={nodes:s,data:ze([l])}}return a}(T,a,d,p);E[a].name="!Directory",r>0&&o!==y&&(E[o].name="!MiniFAT"),E[d[0]].name="!FAT",E.fat_addrs=d,E.ssz=p;var k=[],M=[],A=[];!function(t,e,n,r,i,a,o,s){for(var c,f=0,p=r.length?2:0,d=e[t].data,g=0,v=0;g<d.length;g+=128){var m=d.slice(g,g+128);bn(m,64),v=m.read_shift(2),c=Ve(m,0,v-p),r.push(c);var x={name:c,type:m.read_shift(1),color:m.read_shift(1),L:m.read_shift(4,"i"),R:m.read_shift(4,"i"),C:m.read_shift(4,"i"),clsid:m.read_shift(16),state:m.read_shift(4,"i"),start:0,size:0};0!==m.read_shift(2)+m.read_shift(2)+m.read_shift(2)+m.read_shift(2)&&(x.ct=h(m,m.l-8)),0!==m.read_shift(2)+m.read_shift(2)+m.read_shift(2)+m.read_shift(2)&&(x.mt=h(m,m.l-8)),x.start=m.read_shift(4,"i"),x.size=m.read_shift(4,"i"),x.size<0&&x.start<0&&(x.size=x.type=0,x.start=y,x.name=""),5===x.type?(f=x.start,i>0&&f!==y&&(e[f].name="!StreamData")):x.size>=4096?(x.storage="fat",void 0===e[x.start]&&(e[x.start]=u(n,x.start,e.fat_addrs,e.ssz)),e[x.start].name=x.name,x.content=e[x.start].data.slice(0,x.size)):(x.storage="minifat",x.size<0?x.size=0:f!==y&&x.start!==y&&e[f]&&(x.content=l(x,e[f].data,(e[s]||{}).data))),x.content&&bn(x.content,0),a[c]=x,o.push(x)}}(a,E,T,k,r,{},M,o),function(t,e,n){for(var r=0,i=0,a=0,o=0,s=0,l=n.length,c=[],u=[];r<l;++r)c[r]=u[r]=r,e[r]=n[r];for(;s<u.length;++s)i=t[r=u[s]].L,a=t[r].R,o=t[r].C,c[r]===r&&(-1!==i&&c[i]!==i&&(c[r]=c[i]),-1!==a&&c[a]!==a&&(c[r]=c[a])),-1!==o&&(c[o]=r),-1!==i&&r!=c[r]&&(c[i]=c[r],u.lastIndexOf(i)<s&&u.push(i)),-1!==a&&r!=c[r]&&(c[a]=c[r],u.lastIndexOf(a)<s&&u.push(a));for(r=1;r<l;++r)c[r]===r&&(-1!==a&&c[a]!==a?c[r]=c[a]:-1!==i&&c[i]!==i&&(c[r]=c[i]));for(r=1;r<l;++r)if(0!==t[r].type){if((s=r)!=c[s])do{s=c[s],e[r]=e[s]+"/"+e[r]}while(0!==s&&-1!==c[s]&&s!=c[s]);c[r]=-1}for(e[0]+="/",r=1;r<l;++r)2!==t[r].type&&(e[r]+="/")}(M,A,k),k.shift();var O={FileIndex:M,FullPaths:A};return e&&e.raw&&(O.raw={header:x,sectors:T}),O}function l(t,e,n){for(var r=t.start,i=t.size,a=[],o=r;n&&i>0&&o>=0;)a.push(e.slice(o*v,o*v+v)),i-=v,o=fn(n,4*o);return 0===a.length?Sn(0):A(a).slice(0,t.size)}function c(t,e,n,r,i){var a=y;if(t===y){if(0!==e)throw new Error("DIFAT chain shorter than expected")}else if(-1!==t){var o=n[t],s=(r>>>2)-1;if(!o)return;for(var l=0;l<s&&(a=fn(o,4*l))!==y;++l)i.push(a);c(fn(o,r-4),e-1,n,r,i)}}function u(t,e,n,r,i){var a=[],o=[];i||(i=[]);var s=r-1,l=0,c=0;for(l=e;l>=0;){i[l]=!0,a[a.length]=l,o.push(t[l]);var u=n[Math.floor(4*l/r)];if(r<4+(c=4*l&s))throw new Error("FAT boundary crossed: "+l+" 4 "+r);if(!t[u])break;l=fn(t[u],c)}return{nodes:a,data:ze([o])}}function h(t,e){return new Date(1e3*(hn(t,e+4)/1e7*Math.pow(2,32)+hn(t,e)/1e7-11644473600))}function f(t,e){var n=e||{},r=n.root||"Root Entry";if(t.FullPaths||(t.FullPaths=[]),t.FileIndex||(t.FileIndex=[]),t.FullPaths.length!==t.FileIndex.length)throw new Error("inconsistent CFB structure");0===t.FullPaths.length&&(t.FullPaths[0]=r+"/",t.FileIndex[0]={name:r,type:5}),n.CLSID&&(t.FileIndex[0].clsid=n.CLSID),function(t){var e="\x01Sh33tJ5";if(Et.find(t,"/"+e))return;var n=Sn(4);n[0]=55,n[1]=n[3]=50,n[2]=54,t.FileIndex.push({name:e,type:2,content:n,size:4,L:69,R:69,C:69}),t.FullPaths.push(t.FullPaths[0]+e),p(t)}(t)}function p(t,e){f(t);for(var i=!1,a=!1,o=t.FullPaths.length-1;o>=0;--o){var s=t.FileIndex[o];switch(s.type){case 0:a?i=!0:(t.FileIndex.pop(),t.FullPaths.pop());break;case 1:case 2:case 5:a=!0,isNaN(s.R*s.L*s.C)&&(i=!0),s.R>-1&&s.L>-1&&s.R==s.L&&(i=!0);break;default:i=!0}}if(i||e){var l=new Date(1987,1,19),c=0,u=Object.create?Object.create(null):{},h=[];for(o=0;o<t.FullPaths.length;++o)u[t.FullPaths[o]]=!0,0!==t.FileIndex[o].type&&h.push([t.FullPaths[o],t.FileIndex[o]]);for(o=0;o<h.length;++o){var p=n(h[o][0]);(a=u[p])||(h.push([p,{name:r(p).replace("/",""),type:1,clsid:M,ct:l,mt:l,content:null}]),u[p]=!0)}for(h.sort((function(t,e){return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0,a=0,o=Math.min(n.length,r.length);i<o;++i){if(a=n[i].length-r[i].length)return a;if(n[i]!=r[i])return n[i]<r[i]?-1:1}return n.length-r.length}(t[0],e[0])})),t.FullPaths=[],t.FileIndex=[],o=0;o<h.length;++o)t.FullPaths[o]=h[o][0],t.FileIndex[o]=h[o][1];for(o=0;o<h.length;++o){var d=t.FileIndex[o],g=t.FullPaths[o];if(d.name=r(g).replace("/",""),d.L=d.R=d.C=-(d.color=1),d.size=d.content?d.content.length:0,d.start=0,d.clsid=d.clsid||M,0===o)d.C=h.length>1?1:-1,d.size=0,d.type=5;else if("/"==g.slice(-1)){for(c=o+1;c<h.length&&n(t.FullPaths[c])!=g;++c);for(d.C=c>=h.length?-1:c,c=o+1;c<h.length&&n(t.FullPaths[c])!=n(g);++c);d.R=c>=h.length?-1:c,d.type=1}else n(t.FullPaths[o+1]||"")==n(g)&&(d.R=o+1),d.type=2}}}function d(t,e){var n=e||{};if("mad"==n.fileType)return function(t,e){for(var n=e||{},r=n.boundary||"SheetJS",i=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(r="------="+r).slice(2)+'"',"","",""],a=t.FullPaths[0],o=a,s=t.FileIndex[0],l=1;l<t.FullPaths.length;++l)if(o=t.FullPaths[l].slice(a.length),(s=t.FileIndex[l]).size&&s.content&&"\x01Sh33tJ5"!=o){o=o.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,(function(t){return"_x"+t.charCodeAt(0).toString(16)+"_"})).replace(/[\u0080-\uFFFF]/g,(function(t){return"_u"+t.charCodeAt(0).toString(16)+"_"}));for(var c=s.content,u=w&&Buffer.isBuffer(c)?c.toString("binary"):P(c),h=0,f=Math.min(1024,u.length),p=0,d=0;d<=f;++d)(p=u.charCodeAt(d))>=32&&p<128&&++h;var g=h>=4*f/5;i.push(r),i.push("Content-Location: "+(n.root||"file:///C:/SheetJS/")+o),i.push("Content-Transfer-Encoding: "+(g?"quoted-printable":"base64")),i.push("Content-Type: "+vt(s,o)),i.push(""),i.push(g?mt(u):yt(u))}return i.push(r+"--\r\n"),i.join("\r\n")}(t,n);if(p(t),"zip"===n.fileType)return function(t,e){var n=e||{},r=[],a=[],o=Sn(1),s=n.compression?8:0,l=0;0;var c=0,u=0,h=0,f=0,p=t.FullPaths[0],d=p,g=t.FileIndex[0],v=[],y=0;for(c=1;c<t.FullPaths.length;++c)if(d=t.FullPaths[c].slice(p.length),(g=t.FileIndex[c]).size&&g.content&&"\x01Sh33tJ5"!=d){var m=h,x=Sn(d.length);for(u=0;u<d.length;++u)x.write_shift(1,127&d.charCodeAt(u));x=x.slice(0,x.l),v[f]=Tt.buf(g.content,0);var b=g.content;8==s&&(b=D(b)),(o=Sn(30)).write_shift(4,67324752),o.write_shift(2,20),o.write_shift(2,l),o.write_shift(2,s),g.mt?i(o,g.mt):o.write_shift(4,0),o.write_shift(-4,8&l?0:v[f]),o.write_shift(4,8&l?0:b.length),o.write_shift(4,8&l?0:g.content.length),o.write_shift(2,x.length),o.write_shift(2,0),h+=o.length,r.push(o),h+=x.length,r.push(x),h+=b.length,r.push(b),8&l&&((o=Sn(12)).write_shift(-4,v[f]),o.write_shift(4,b.length),o.write_shift(4,g.content.length),h+=o.l,r.push(o)),(o=Sn(46)).write_shift(4,33639248),o.write_shift(2,0),o.write_shift(2,20),o.write_shift(2,l),o.write_shift(2,s),o.write_shift(4,0),o.write_shift(-4,v[f]),o.write_shift(4,b.length),o.write_shift(4,g.content.length),o.write_shift(2,x.length),o.write_shift(2,0),o.write_shift(2,0),o.write_shift(2,0),o.write_shift(2,0),o.write_shift(4,0),o.write_shift(4,m),y+=o.l,a.push(o),y+=x.length,a.push(x),++f}return o=Sn(22),o.write_shift(4,101010256),o.write_shift(2,0),o.write_shift(2,0),o.write_shift(2,f),o.write_shift(2,f),o.write_shift(4,y),o.write_shift(4,h),o.write_shift(2,0),A([A(r),A(a),o])}(t,n);var r=function(t){for(var e=0,n=0,r=0;r<t.FileIndex.length;++r){var i=t.FileIndex[r];if(i.content){var a=i.content.length;a>0&&(a<4096?e+=a+63>>6:n+=a+511>>9)}}for(var o=t.FullPaths.length+3>>2,s=e+127>>7,l=(e+7>>3)+n+o+s,c=l+127>>7,u=c<=109?0:Math.ceil((c-109)/127);l+c+u+127>>7>c;)u=++c<=109?0:Math.ceil((c-109)/127);var h=[1,u,c,s,o,n,e,0];return t.FileIndex[0].size=e<<6,h[7]=(t.FileIndex[0].start=h[0]+h[1]+h[2]+h[3]+h[4]+h[5])+(h[6]+7>>3),h}(t),a=Sn(r[7]<<9),o=0,s=0;for(o=0;o<8;++o)a.write_shift(1,k[o]);for(o=0;o<8;++o)a.write_shift(2,0);for(a.write_shift(2,62),a.write_shift(2,3),a.write_shift(2,65534),a.write_shift(2,9),a.write_shift(2,6),o=0;o<3;++o)a.write_shift(2,0);for(a.write_shift(4,0),a.write_shift(4,r[2]),a.write_shift(4,r[0]+r[1]+r[2]+r[3]-1),a.write_shift(4,0),a.write_shift(4,4096),a.write_shift(4,r[3]?r[0]+r[1]+r[2]-1:y),a.write_shift(4,r[3]),a.write_shift(-4,r[1]?r[0]-1:y),a.write_shift(4,r[1]),o=0;o<109;++o)a.write_shift(-4,o<r[2]?r[1]+o:-1);if(r[1])for(s=0;s<r[1];++s){for(;o<236+127*s;++o)a.write_shift(-4,o<r[2]?r[1]+o:-1);a.write_shift(-4,s===r[1]-1?y:s+1)}var l=function(t){for(s+=t;o<s-1;++o)a.write_shift(-4,o+1);t&&(++o,a.write_shift(-4,y))};for(s=o=0,s+=r[1];o<s;++o)a.write_shift(-4,I.DIFSECT);for(s+=r[2];o<s;++o)a.write_shift(-4,I.FATSECT);l(r[3]),l(r[4]);for(var c=0,u=0,h=t.FileIndex[0];c<t.FileIndex.length;++c)(h=t.FileIndex[c]).content&&((u=h.content.length)<4096||(h.start=s,l(u+511>>9)));for(l(r[6]+7>>3);511&a.l;)a.write_shift(-4,I.ENDOFCHAIN);for(s=o=0,c=0;c<t.FileIndex.length;++c)(h=t.FileIndex[c]).content&&(!(u=h.content.length)||u>=4096||(h.start=s,l(u+63>>6)));for(;511&a.l;)a.write_shift(-4,I.ENDOFCHAIN);for(o=0;o<r[4]<<2;++o){var f=t.FullPaths[o];if(f&&0!==f.length){h=t.FileIndex[o],0===o&&(h.start=h.size?h.start-1:y);var d=0===o&&n.root||h.name;if(u=2*(d.length+1),a.write_shift(64,d,"utf16le"),a.write_shift(2,u),a.write_shift(1,h.type),a.write_shift(1,h.color),a.write_shift(-4,h.L),a.write_shift(-4,h.R),a.write_shift(-4,h.C),h.clsid)a.write_shift(16,h.clsid,"hex");else for(c=0;c<4;++c)a.write_shift(4,0);a.write_shift(4,h.state||0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,h.start),a.write_shift(4,h.size),a.write_shift(4,0)}else{for(c=0;c<17;++c)a.write_shift(4,0);for(c=0;c<3;++c)a.write_shift(4,-1);for(c=0;c<12;++c)a.write_shift(4,0)}}for(o=1;o<t.FileIndex.length;++o)if((h=t.FileIndex[o]).size>=4096)if(a.l=h.start+1<<9,w&&Buffer.isBuffer(h.content))h.content.copy(a,a.l,0,h.size),a.l+=h.size+511&-512;else{for(c=0;c<h.size;++c)a.write_shift(1,h.content[c]);for(;511&c;++c)a.write_shift(1,0)}for(o=1;o<t.FileIndex.length;++o)if((h=t.FileIndex[o]).size>0&&h.size<4096)if(w&&Buffer.isBuffer(h.content))h.content.copy(a,a.l,0,h.size),a.l+=h.size+63&-64;else{for(c=0;c<h.size;++c)a.write_shift(1,h.content[c]);for(;63&c;++c)a.write_shift(1,0)}if(w)a.l=a.length;else for(;a.l<a.length;)a.write_shift(1,0);return a}e.version="1.2.1";var g,v=64,y=-2,m="d0cf11e0a1b11ae1",k=[208,207,17,224,161,177,26,225],M="00000000000000000000000000000000",I={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:y,FREESECT:-1,HEADER_SIGNATURE:m,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:M,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function P(t){for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function D(t){return g?g.deflateRawSync(t):it(t)}var L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],R=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],B=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function _(t){var e=139536&(t<<1|t<<11)|558144&(t<<5|t<<15);return 255&(e>>16|e>>8|e)}for(var N="undefined"!==typeof Uint8Array,U=N?new Uint8Array(256):[],z=0;z<256;++z)U[z]=_(z);function H(t,e){var n=U[255&t];return e<=8?n>>>8-e:(n=n<<8|U[t>>8&255],e<=16?n>>>16-e:(n=n<<8|U[t>>16&255])>>>24-e)}function V(t,e){var n=7&e,r=e>>>3;return(t[r]|(n<=6?0:t[r+1]<<8))>>>n&3}function G(t,e){var n=7&e,r=e>>>3;return(t[r]|(n<=5?0:t[r+1]<<8))>>>n&7}function W(t,e){var n=7&e,r=e>>>3;return(t[r]|(n<=3?0:t[r+1]<<8))>>>n&31}function Y(t,e){var n=7&e,r=e>>>3;return(t[r]|(n<=1?0:t[r+1]<<8))>>>n&127}function j(t,e,n){var r=7&e,i=e>>>3,a=(1<<n)-1,o=t[i]>>>r;return n<8-r?o&a:(o|=t[i+1]<<8-r,n<16-r?o&a:(o|=t[i+2]<<16-r,n<24-r?o&a:(o|=t[i+3]<<24-r)&a))}function X(t,e,n){var r=7&e,i=e>>>3;return r<=5?t[i]|=(7&n)<<r:(t[i]|=n<<r&255,t[i+1]=(7&n)>>8-r),e+3}function $(t,e,n){return n=(1&n)<<(7&e),t[e>>>3]|=n,e+1}function q(t,e,n){var r=e>>>3;return n<<=7&e,t[r]|=255&n,n>>>=8,t[r+1]=n,e+8}function Z(t,e,n){var r=e>>>3;return n<<=7&e,t[r]|=255&n,n>>>=8,t[r+1]=255&n,t[r+2]=n>>>8,e+16}function K(t,e){var n=t.length,r=2*n>e?2*n:e+5,i=0;if(n>=e)return t;if(w){var a=T(r);if(t.copy)t.copy(a);else for(;i<t.length;++i)a[i]=t[i];return a}if(N){var o=new Uint8Array(r);if(o.set)o.set(t);else for(;i<n;++i)o[i]=t[i];return o}return t.length=r,t}function J(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=0;return e}function Q(t,e,n){var r=1,i=0,a=0,o=0,s=0,l=t.length,c=N?new Uint16Array(32):J(32);for(a=0;a<32;++a)c[a]=0;for(a=l;a<n;++a)t[a]=0;l=t.length;var u=N?new Uint16Array(l):J(l);for(a=0;a<l;++a)c[i=t[a]]++,r<i&&(r=i),u[a]=0;for(c[0]=0,a=1;a<=r;++a)c[a+16]=s=s+c[a-1]<<1;for(a=0;a<l;++a)0!=(s=t[a])&&(u[a]=c[s+16]++);var h=0;for(a=0;a<l;++a)if(0!=(h=t[a]))for(s=H(u[a],r)>>r-h,o=(1<<r+4-h)-1;o>=0;--o)e[s|o<<h]=15&h|a<<4;return r}var tt=N?new Uint16Array(512):J(512),et=N?new Uint16Array(32):J(32);if(!N){for(var nt=0;nt<512;++nt)tt[nt]=0;for(nt=0;nt<32;++nt)et[nt]=0}!function(){for(var t=[],e=0;e<32;e++)t.push(5);Q(t,et,32);var n=[];for(e=0;e<=143;e++)n.push(8);for(;e<=255;e++)n.push(9);for(;e<=279;e++)n.push(7);for(;e<=287;e++)n.push(8);Q(n,tt,288)}();var rt=function(){for(var t=N?new Uint8Array(32768):[],e=0,n=0;e<B.length-1;++e)for(;n<B[e+1];++n)t[n]=e;for(;n<32768;++n)t[n]=29;var r=N?new Uint8Array(259):[];for(e=0,n=0;e<R.length-1;++e)for(;n<R[e+1];++n)r[n]=e;return function(e,n){return e.length<8?function(t,e){for(var n=0;n<t.length;){var r=Math.min(65535,t.length-n),i=n+r==t.length;for(e.write_shift(1,+i),e.write_shift(2,r),e.write_shift(2,65535&~r);r-- >0;)e[e.l++]=t[n++]}return e.l}(e,n):function(e,n){for(var i=0,a=0,o=N?new Uint16Array(32768):[];a<e.length;){var s=Math.min(65535,e.length-a);if(s<10){for(7&(i=X(n,i,+!(a+s!=e.length)))&&(i+=8-(7&i)),n.l=i/8|0,n.write_shift(2,s),n.write_shift(2,65535&~s);s-- >0;)n[n.l++]=e[a++];i=8*n.l}else{i=X(n,i,+!(a+s!=e.length)+2);for(var l=0;s-- >0;){var c=e[a],u=-1,h=0;if((u=o[l=32767&(l<<5^c)])&&((u|=-32768&a)>a&&(u-=32768),u<a))for(;e[u+h]==e[a+h]&&h<250;)++h;if(h>2){(c=r[h])<=22?i=q(n,i,U[c+1]>>1)-1:(q(n,i,3),q(n,i+=5,U[c-23]>>5),i+=3);var f=c<8?0:c-4>>2;f>0&&(Z(n,i,h-R[c]),i+=f),c=t[a-u],i=q(n,i,U[c]>>3),i-=3;var p=c<4?0:c-2>>1;p>0&&(Z(n,i,a-u-B[c]),i+=p);for(var d=0;d<h;++d)o[l]=32767&a,l=32767&(l<<5^e[a]),++a;s-=h-1}else c<=143?c+=48:i=$(n,i,1),i=q(n,i,U[c]),o[l]=32767&a,++a}i=q(n,i,0)-1}}return n.l=(i+7)/8|0,n.l}(e,n)}}();function it(t){var e=Sn(50+Math.floor(1.1*t.length)),n=rt(t,e);return e.slice(0,n)}var at=N?new Uint16Array(32768):J(32768),ot=N?new Uint16Array(32768):J(32768),st=N?new Uint16Array(128):J(128),lt=1,ct=1;function ut(t,e){var n=W(t,e)+257,r=W(t,e+=5)+1,i=function(t,e){var n=7&e,r=e>>>3;return(t[r]|(n<=4?0:t[r+1]<<8))>>>n&15}(t,e+=5)+4;e+=4;for(var a=0,o=N?new Uint8Array(19):J(19),s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=1,c=N?new Uint8Array(8):J(8),u=N?new Uint8Array(8):J(8),h=o.length,f=0;f<i;++f)o[L[f]]=a=G(t,e),l<a&&(l=a),c[a]++,e+=3;var p=0;for(c[0]=0,f=1;f<=l;++f)u[f]=p=p+c[f-1]<<1;for(f=0;f<h;++f)0!=(p=o[f])&&(s[f]=u[p]++);var d=0;for(f=0;f<h;++f)if(0!=(d=o[f])){p=U[s[f]]>>8-d;for(var g=(1<<7-d)-1;g>=0;--g)st[p|g<<d]=7&d|f<<3}var v=[];for(l=1;v.length<n+r;)switch(e+=7&(p=st[Y(t,e)]),p>>>=3){case 16:for(a=3+V(t,e),e+=2,p=v[v.length-1];a-- >0;)v.push(p);break;case 17:for(a=3+G(t,e),e+=3;a-- >0;)v.push(0);break;case 18:for(a=11+Y(t,e),e+=7;a-- >0;)v.push(0);break;default:v.push(p),l<p&&(l=p)}var y=v.slice(0,n),m=v.slice(n);for(f=n;f<286;++f)y[f]=0;for(f=r;f<30;++f)m[f]=0;return lt=Q(y,at,286),ct=Q(m,ot,30),e}function ht(t,e){var n=function(t,e){if(3==t[0]&&!(3&t[1]))return[C(e),2];for(var n=0,r=0,i=T(e||1<<18),a=0,o=i.length>>>0,s=0,l=0;0==(1&r);)if(r=G(t,n),n+=3,r>>>1!=0)for(r>>1==1?(s=9,l=5):(n=ut(t,n),s=lt,l=ct);;){!e&&o<a+32767&&(o=(i=K(i,a+32767)).length);var c=j(t,n,s),u=r>>>1==1?tt[c]:at[c];if(n+=15&u,0===((u>>>=4)>>>8&255))i[a++]=u;else{if(256==u)break;var h=(u-=257)<8?0:u-4>>2;h>5&&(h=0);var f=a+R[u];h>0&&(f+=j(t,n,h),n+=h),c=j(t,n,l),n+=15&(u=r>>>1==1?et[c]:ot[c]);var p=(u>>>=4)<4?0:u-2>>1,d=B[u];for(p>0&&(d+=j(t,n,p),n+=p),!e&&o<f&&(o=(i=K(i,f+100)).length);a<f;)i[a]=i[a-d],++a}}else{7&n&&(n+=8-(7&n));var g=t[n>>>3]|t[1+(n>>>3)]<<8;if(n+=32,g>0)for(!e&&o<a+g&&(o=(i=K(i,a+g)).length);g-- >0;)i[a++]=t[n>>>3],n+=8}return e?[i,n+7>>>3]:[i.slice(0,a),n+7>>>3]}(t.slice(t.l||0),e);return t.l+=n[1],n[0]}function ft(t,e){if(!t)throw new Error(e);"undefined"!==typeof console&&console.error(e)}function pt(t,e){var n=t;bn(n,0);var r={FileIndex:[],FullPaths:[]};f(r,{root:e.root});for(var i=n.length-4;(80!=n[i]||75!=n[i+1]||5!=n[i+2]||6!=n[i+3])&&i>=0;)--i;n.l=i+4,n.l+=4;var o=n.read_shift(2);n.l+=6;var s=n.read_shift(4);for(n.l=s,i=0;i<o;++i){n.l+=20;var l=n.read_shift(4),c=n.read_shift(4),u=n.read_shift(2),h=n.read_shift(2),p=n.read_shift(2);n.l+=8;var d=n.read_shift(4),g=a(n.slice(n.l+u,n.l+u+h));n.l+=u+h+p;var v=n.l;n.l=d+4,dt(n,l,c,r,g),n.l=v}return r}function dt(t,e,n,r,i){t.l+=2;var o=t.read_shift(2),s=t.read_shift(2),l=function(t){var e=65535&t.read_shift(2),n=65535&t.read_shift(2),r=new Date,i=31&n,a=15&(n>>>=5);n>>>=4,r.setMilliseconds(0),r.setFullYear(n+1980),r.setMonth(a-1),r.setDate(i);var o=31&e,s=63&(e>>>=5);return e>>>=6,r.setHours(e),r.setMinutes(s),r.setSeconds(o<<1),r}(t);if(8257&o)throw new Error("Unsupported ZIP encryption");t.read_shift(4);for(var c=t.read_shift(4),u=t.read_shift(4),h=t.read_shift(2),f=t.read_shift(2),p="",d=0;d<h;++d)p+=String.fromCharCode(t[t.l++]);if(f){var v=a(t.slice(t.l,t.l+f));(v[21589]||{}).mt&&(l=v[21589].mt),((i||{})[21589]||{}).mt&&(l=i[21589].mt)}t.l+=f;var y=t.slice(t.l,t.l+c);switch(s){case 8:y=function(t,e){if(!g)return ht(t,e);var n=new(0,g.InflateRaw),r=n._processChunk(t.slice(t.l),n._finishFlushFlag);return t.l+=n.bytesRead,r}(t,u);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+s)}var m=!1;8&o&&(134695760==t.read_shift(4)&&(t.read_shift(4),m=!0),c=t.read_shift(4),u=t.read_shift(4)),c!=e&&ft(m,"Bad compressed size: "+e+" != "+c),u!=n&&ft(m,"Bad uncompressed size: "+n+" != "+u),bt(r,p,y,{unsafe:!0,mt:l})}var gt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function vt(t,e){if(t.ctype)return t.ctype;var n=t.name||"",r=n.match(/\.([^\.]+)$/);return r&&gt[r[1]]||e&&(r=(n=e).match(/[\.\\]([^\.\\])+$/))&&gt[r[1]]?gt[r[1]]:"application/octet-stream"}function yt(t){for(var e=x(t),n=[],r=0;r<e.length;r+=76)n.push(e.slice(r,r+76));return n.join("\r\n")+"\r\n"}function mt(t){var e=t.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,(function(t){var e=t.charCodeAt(0).toString(16).toUpperCase();return"="+(1==e.length?"0"+e:e)}));"\n"==(e=e.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(e="=0D"+e.slice(1));for(var n=[],r=(e=e.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),i=0;i<r.length;++i){var a=r[i];if(0!=a.length)for(var o=0;o<a.length;){var s=76,l=a.slice(o,o+s);"="==l.charAt(s-1)?s--:"="==l.charAt(s-2)?s-=2:"="==l.charAt(s-3)&&(s-=3),l=a.slice(o,o+s),(o+=s)<a.length&&(l+="="),n.push(l)}else n.push("")}return n.join("\r\n")}function xt(t,e,n){for(var r,i="",a="",o="",s=0;s<10;++s){var l=e[s];if(!l||l.match(/^\s*$/))break;var c=l.match(/^(.*?):\s*([^\s].*)$/);if(c)switch(c[1].toLowerCase()){case"content-location":i=c[2].trim();break;case"content-type":o=c[2].trim();break;case"content-transfer-encoding":a=c[2].trim()}}switch(++s,a.toLowerCase()){case"base64":r=E(b(e.slice(s).join("")));break;case"quoted-printable":r=function(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n];n<=t.length&&"="==r.charAt(r.length-1);)r=r.slice(0,r.length-1)+t[++n];e.push(r)}for(var i=0;i<e.length;++i)e[i]=e[i].replace(/[=][0-9A-Fa-f]{2}/g,(function(t){return String.fromCharCode(parseInt(t.slice(1),16))}));return E(e.join("\r\n"))}(e.slice(s));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+a)}var u=bt(t,i.slice(n.length),r,{unsafe:!0});o&&(u.ctype=o)}function bt(t,e,n,i){var a=i&&i.unsafe;a||f(t);var o=!a&&Et.find(t,e);if(!o){var s=t.FullPaths[0];e.slice(0,s.length)==s?s=e:("/"!=s.slice(-1)&&(s+="/"),s=(s+e).replace("//","/")),o={name:r(e),type:2},t.FileIndex.push(o),t.FullPaths.push(s),a||Et.utils.cfb_gc(t)}return o.content=n,o.size=n?n.length:0,i&&(i.CLSID&&(o.clsid=i.CLSID),i.mt&&(o.mt=i.mt),i.ct&&(o.ct=i.ct)),o}return e.find=function(t,e){var n=t.FullPaths.map((function(t){return t.toUpperCase()})),r=n.map((function(t){var e=t.split("/");return e[e.length-("/"==t.slice(-1)?2:1)]})),i=!1;47===e.charCodeAt(0)?(i=!0,e=n[0].slice(0,-1)+e):i=-1!==e.indexOf("/");var a=e.toUpperCase(),o=!0===i?n.indexOf(a):r.indexOf(a);if(-1!==o)return t.FileIndex[o];var s=!a.match(F);for(a=a.replace(O,""),s&&(a=a.replace(F,"!")),o=0;o<n.length;++o){if((s?n[o].replace(F,"!"):n[o]).replace(O,"")==a)return t.FileIndex[o];if((s?r[o].replace(F,"!"):r[o]).replace(O,"")==a)return t.FileIndex[o]}return null},e.read=function(e,n){var r=n&&n.type;switch(r||w&&Buffer.isBuffer(e)&&(r="buffer"),r||"base64"){case"file":return function(e,n){return o(),s(t.readFileSync(e),n)}(e,n);case"base64":return s(E(b(e)),n);case"binary":return s(E(e),n)}return s(e,n)},e.parse=s,e.write=function(e,n){var r=d(e,n);switch(n&&n.type||"buffer"){case"file":return o(),t.writeFileSync(n.filename,r),r;case"binary":return"string"==typeof r?r:P(r);case"base64":return x("string"==typeof r?r:P(r));case"buffer":if(w)return Buffer.isBuffer(r)?r:S(r);case"array":return"string"==typeof r?E(r):r}return r},e.writeFile=function(e,n,r){o();var i=d(e,r);t.writeFileSync(n,i)},e.utils={cfb_new:function(t){var e={};return f(e,t),e},cfb_add:bt,cfb_del:function(t,e){f(t);var n=Et.find(t,e);if(n)for(var r=0;r<t.FileIndex.length;++r)if(t.FileIndex[r]==n)return t.FileIndex.splice(r,1),t.FullPaths.splice(r,1),!0;return!1},cfb_mov:function(t,e,n){f(t);var i=Et.find(t,e);if(i)for(var a=0;a<t.FileIndex.length;++a)if(t.FileIndex[a]==i)return t.FileIndex[a].name=r(n),t.FullPaths[a]=n,!0;return!1},cfb_gc:function(t){p(t,!0)},ReadShift:dn,CheckField:xn,prep_blob:bn,bconcat:A,use_zlib:function(t){try{var e=new(0,t.InflateRaw);if(e._processChunk(new Uint8Array([3,0]),e._finishFlushFlag),!e.bytesRead)throw new Error("zlib does not expose bytesRead");g=t}catch(n){console.error("cannot use native zlib: "+(n.message||n))}},_deflateRaw:it,_inflateRaw:ht,consts:I},e}(),kt=void 0;function Mt(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function At(t){for(var e=[],n=Mt(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}var Ot=new Date(1899,11,30,0,0,0);function Ft(t,e){var n=t.getTime();return e&&(n-=1263168e5),(n-(Ot.getTime()+6e4*(t.getTimezoneOffset()-Ot.getTimezoneOffset())))/864e5}var It=new Date,Pt=Ot.getTime()+6e4*(It.getTimezoneOffset()-Ot.getTimezoneOffset()),Dt=It.getTimezoneOffset();function Lt(t){var e=new Date;return e.setTime(24*t*60*60*1e3+Pt),e.getTimezoneOffset()!==Dt&&e.setTime(e.getTime()+6e4*(e.getTimezoneOffset()-Dt)),e}function Rt(t){var e=0,n=0,r=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(n=1,a>3&&(r=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":n*=24;case"H":n*=60;case"M":if(!r)throw new Error("Unsupported ISO Duration Field: M");n*=60}e+=n*parseInt(i[a],10)}return e}var Bt=new Date("2017-02-19T19:06:09.000Z"),_t=isNaN(Bt.getFullYear())?new Date("2/19/17"):Bt,Nt=2017==_t.getFullYear();function Ut(t,e){var n=new Date(t);if(Nt)return e>0?n.setTime(n.getTime()+60*n.getTimezoneOffset()*1e3):e<0&&n.setTime(n.getTime()-60*n.getTimezoneOffset()*1e3),n;if(t instanceof Date)return t;if(1917==_t.getFullYear()&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-60*a.getTimezoneOffset()*1e3)),a}function zt(t,e){if(w&&Buffer.isBuffer(t)){if(e){if(255==t[0]&&254==t[1])return Ee(t.slice(2).toString("utf16le"));if(254==t[1]&&255==t[2])return Ee(f(t.slice(2).toString("binary")))}return t.toString("binary")}if("undefined"!==typeof TextDecoder)try{if(e){if(255==t[0]&&254==t[1])return Ee(new TextDecoder("utf-16le").decode(t.slice(2)));if(254==t[0]&&255==t[1])return Ee(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"\u20ac":"\x80","\u201a":"\x82","\u0192":"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02c6":"\x88","\u2030":"\x89","\u0160":"\x8a","\u2039":"\x8b","\u0152":"\x8c","\u017d":"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99","\u0161":"\x9a","\u203a":"\x9b","\u0153":"\x9c","\u017e":"\x9e","\u0178":"\x9f"};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,(function(t){return n[t]||t}))}catch(a){}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function Ht(t){if("undefined"!=typeof JSON&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if("object"!=typeof t||null==t)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Ht(t[n]));return e}function Vt(t,e){for(var n="";n.length<e;)n+=t;return n}function Gt(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,(function(){return n*=100,""}));return isNaN(e=Number(r))?(r=r.replace(/[(](.*)[)]/,(function(t,e){return n=-n,e})),isNaN(e=Number(r))?e:e/n):e/n}var Wt=["january","february","march","april","may","june","july","august","september","october","november","december"];function Yt(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),a=e.getDate();if(isNaN(a))return n;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==Wt.indexOf(o))return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||a>1)&&101!=r?e:t.match(/[^-0-9:,\/\\]/)?n:e}var jt=function(){var t=5=="abacaba".split(/(:?b)/i).length;return function(e,n,r){if(t||"string"==typeof n)return e.split(n);for(var i=e.split(n),a=[i[0]],o=1;o<i.length;++o)a.push(r),a.push(i[o]);return a}}();function Xt(t){return t?t.content&&t.type?zt(t.content,!0):t.data?d(t.data):t.asNodeBuffer&&w?d(t.asNodeBuffer().toString("binary")):t.asBinary?d(t.asBinary()):t._data&&t._data.getContent?d(zt(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function $t(t){if(!t)return null;if(t.data)return h(t.data);if(t.asNodeBuffer&&w)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return"string"==typeof e?h(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function qt(t,e){for(var n=t.FullPaths||Mt(t.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),a=0;a<n.length;++a){var o=n[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==o||i==o)return t.files?t.files[n[a]]:t.FileIndex[a]}return null}function Zt(t,e){var n=qt(t,e);if(null==n)throw new Error("Cannot find file "+e+" in zip");return n}function Kt(t,e,n){if(!n)return(r=Zt(t,e))&&".bin"===r.name.slice(-4)?$t(r):Xt(r);var r;if(!e)return null;try{return Kt(t,e)}catch(i){return null}}function Jt(t,e,n){if(!n)return Xt(Zt(t,e));if(!e)return null;try{return Jt(t,e)}catch(r){return null}}function Qt(t,e,n){if(!n)return $t(Zt(t,e));if(!e)return null;try{return Qt(t,e)}catch(r){return null}}function te(t){for(var e=t.FullPaths||Mt(t.files),n=[],r=0;r<e.length;++r)"/"!=e[r].slice(-1)&&n.push(e[r].replace(/^Root Entry[\/]/,""));return n.sort()}function ee(t,e,n){if(t.FullPaths){var r;if("string"==typeof n)return r=w?S(n):function(t){for(var e=[],n=0,r=t.length+250,i=C(t.length+255),a=0;a<t.length;++a){var o=t.charCodeAt(a);if(o<128)i[n++]=o;else if(o<2048)i[n++]=192|o>>6&31,i[n++]=128|63&o;else if(o>=55296&&o<57344){o=64+(1023&o);var s=1023&t.charCodeAt(++a);i[n++]=240|o>>8&7,i[n++]=128|o>>2&63,i[n++]=128|s>>6&15|(3&o)<<4,i[n++]=128|63&s}else i[n++]=224|o>>12&15,i[n++]=128|o>>6&63,i[n++]=128|63&o;n>r&&(e.push(i.slice(0,n)),n=0,i=C(65535),r=65530)}return e.push(i.slice(0,n)),A(e)}(n),Et.utils.cfb_add(t,e,r);Et.utils.cfb_add(t,e,n)}else t.file(e,n)}function ne(t,e){switch(e.type){case"base64":return Et.read(t,{type:"base64"});case"binary":return Et.read(t,{type:"binary"});case"buffer":case"array":return Et.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function re(t,e){if("/"==t.charAt(0))return t.slice(1);var n=e.split("/");"/"!=e.slice(-1)&&n.pop();for(var r=t.split("/");0!==r.length;){var i=r.shift();".."===i?n.pop():"."!==i&&n.push(i)}return n.join("/")}var ie='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',ae=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,oe=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/gm,se=ie.match(oe)?oe:/<[^>]*>/g,le=/<\w*:/,ce=/<(\/?)\w+:/;function ue(t,e,n){for(var r={},i=0,a=0;i!==t.length&&(32!==(a=t.charCodeAt(i))&&10!==a&&13!==a);++i);if(e||(r[0]=t.slice(0,i)),i===t.length)return r;var o=t.match(ae),s=0,l="",c=0,u="",h="",f=1;if(o)for(c=0;c!=o.length;++c){for(h=o[c],a=0;a!=h.length&&61!==h.charCodeAt(a);++a);for(u=h.slice(0,a).trim();32==h.charCodeAt(a+1);)++a;for(f=34==(i=h.charCodeAt(a+1))||39==i?1:0,l=h.slice(a+1+f,h.length-f),s=0;s!=u.length&&58!==u.charCodeAt(s);++s);if(s===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),r[u]=l,n||(r[u.toLowerCase()]=l);else{var p=(5===s&&"xmlns"===u.slice(0,5)?"xmlns":"")+u.slice(s+1);if(r[p]&&"ext"==u.slice(s-3,s))continue;r[p]=l,n||(r[p.toLowerCase()]=l)}}return r}function he(t){return t.replace(ce,"<$1")}var fe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},pe=At(fe),de=function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/gi,e=/_x([\da-fA-F]{4})_/gi;return function n(r){var i=r+"",a=i.indexOf("<![CDATA[");if(-1==a)return i.replace(t,(function(t,e){return fe[t]||String.fromCharCode(parseInt(e,t.indexOf("x")>-1?16:10))||t})).replace(e,(function(t,e){return String.fromCharCode(parseInt(e,16))}));var o=i.indexOf("]]>");return n(i.slice(0,a))+i.slice(a+9,o)+n(i.slice(o+3))}}(),ge=/[&<>'"]/g;var ve=/[\u0000-\u001f]/g;function ye(t){return(t+"").replace(ge,(function(t){return pe[t]})).replace(/\n/g,"<br/>").replace(ve,(function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"}))}var me=function(){var t=/&#(\d+);/g;function e(t,e){return String.fromCharCode(parseInt(e,10))}return function(n){return n.replace(t,e)}}();function xe(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function be(t){for(var e="",n=0,r=0,i=0,a=0,o=0,s=0;n<t.length;)(r=t.charCodeAt(n++))<128?e+=String.fromCharCode(r):(i=t.charCodeAt(n++),r>191&&r<224?(o=(31&r)<<6,o|=63&i,e+=String.fromCharCode(o)):(a=t.charCodeAt(n++),r<240?e+=String.fromCharCode((15&r)<<12|(63&i)<<6|63&a):(s=((7&r)<<18|(63&i)<<12|(63&a)<<6|63&(o=t.charCodeAt(n++)))-65536,e+=String.fromCharCode(55296+(s>>>10&1023)),e+=String.fromCharCode(56320+(1023&s)))));return e}function we(t){var e,n,r,i=C(2*t.length),a=1,o=0,s=0;for(n=0;n<t.length;n+=a)a=1,(r=t.charCodeAt(n))<128?e=r:r<224?(e=64*(31&r)+(63&t.charCodeAt(n+1)),a=2):r<240?(e=4096*(15&r)+64*(63&t.charCodeAt(n+1))+(63&t.charCodeAt(n+2)),a=3):(a=4,e=262144*(7&r)+4096*(63&t.charCodeAt(n+1))+64*(63&t.charCodeAt(n+2))+(63&t.charCodeAt(n+3)),s=55296+((e-=65536)>>>10&1023),e=56320+(1023&e)),0!==s&&(i[o++]=255&s,i[o++]=s>>>8,s=0),i[o++]=e%256,i[o++]=e>>>8;return i.slice(0,o).toString("ucs2")}function Se(t){return S(t,"binary").toString("utf8")}var Ce="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",Te=w&&(Se(Ce)==be(Ce)&&Se||we(Ce)==be(Ce)&&we)||be,Ee=w?function(t){return S(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(63&r)));break;case r>=55296&&r<57344:r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(63&i)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(63&r)))}return e.join("")},ke=function(){var t={};return function(e,n){var r=e+"|"+(n||"");return t[r]?t[r]:t[r]=new RegExp("<(?:\\w+:)?"+e+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+e+">",n||"")}}(),Me=function(){var t=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map((function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]}));return function(e){for(var n=e.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),r=0;r<t.length;++r)n=n.replace(t[r][0],t[r][1]);return n}}(),Ae=function(){var t={};return function(e){return void 0!==t[e]?t[e]:t[e]=new RegExp("<(?:vt:)?"+e+">([\\s\\S]*?)</(?:vt:)?"+e+">","g")}}(),Oe=/<\/?(?:vt:)?variant>/g,Fe=/<(?:vt:)([^>]*)>([\s\S]*)</;function Ie(t,e){var n=ue(t),r=t.match(Ae(n.baseType))||[],i=[];if(r.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach((function(t){var e=t.replace(Oe,"").match(Fe);e&&i.push({v:Te(e[2]),t:e[1]})})),i}var Pe=/(^\s|\s$|\n)/;function De(t){return Mt(t).map((function(e){return" "+e+'="'+t[e]+'"'})).join("")}function Le(t,e,n){return"<"+t+(null!=n?De(n):"")+(null!=e?(e.match(Pe)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function Re(t){if(w&&Buffer.isBuffer(t))return t.toString("utf8");if("string"===typeof t)return t;if("undefined"!==typeof Uint8Array&&t instanceof Uint8Array)return Te(k(M(t)));throw new Error("Bad input format: expected Buffer or string")}var Be=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/gm,_e={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Ne=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];var Ue=function(t){for(var e=[],n=0;n<t[0].length;++n)if(t[0][n])for(var r=0,i=t[0][n].length;r<i;r+=10240)e.push.apply(e,t[0][n].slice(r,r+10240));return e},ze=w?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map((function(t){return Buffer.isBuffer(t)?t:S(t)}))):Ue(t)}:Ue,He=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(cn(t,i)));return r.join("").replace(O,"")},Ve=w?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(O,""):He(t,e,n)}:He,Ge=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},We=w?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):Ge(t,e,n)}:Ge,Ye=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(ln(t,i)));return r.join("")},je=w?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf8",e,n):Ye(t,e,n)}:Ye,Xe=function(t,e){var n=hn(t,e);return n>0?je(t,e+4,e+4+n-1):""},$e=Xe,qe=function(t,e){var n=hn(t,e);return n>0?je(t,e+4,e+4+n-1):""},Ze=qe,Ke=function(t,e){var n=2*hn(t,e);return n>0?je(t,e+4,e+4+n-1):""},Je=Ke,Qe=function(t,e){var n=hn(t,e);return n>0?Ve(t,e+4,e+4+n):""},tn=Qe,en=function(t,e){var n=hn(t,e);return n>0?je(t,e+4,e+4+n):""},nn=en,rn=function(t,e){return function(t,e){for(var n=1-2*(t[e+7]>>>7),r=((127&t[e+7])<<4)+(t[e+6]>>>4&15),i=15&t[e+6],a=5;a>=0;--a)i=256*i+t[e+a];return 2047==r?0==i?n*(1/0):NaN:(0==r?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}(t,e)},an=rn,on=function(t){return Array.isArray(t)||"undefined"!==typeof Uint8Array&&t instanceof Uint8Array};function sn(){Ve=function(t,e,n){return p.utils.decode(1200,t.slice(e,n)).replace(O,"")},je=function(t,e,n){return p.utils.decode(65001,t.slice(e,n))},$e=function(t,e){var n=hn(t,e);return n>0?p.utils.decode(a,t.slice(e+4,e+4+n-1)):""},Ze=function(t,e){var n=hn(t,e);return n>0?p.utils.decode(i,t.slice(e+4,e+4+n-1)):""},Je=function(t,e){var n=2*hn(t,e);return n>0?p.utils.decode(1200,t.slice(e+4,e+4+n-1)):""},tn=function(t,e){var n=hn(t,e);return n>0?p.utils.decode(1200,t.slice(e+4,e+4+n)):""},nn=function(t,e){var n=hn(t,e);return n>0?p.utils.decode(65001,t.slice(e+4,e+4+n)):""}}w&&($e=function(t,e){if(!Buffer.isBuffer(t))return Xe(t,e);var n=t.readUInt32LE(e);return n>0?t.toString("utf8",e+4,e+4+n-1):""},Ze=function(t,e){if(!Buffer.isBuffer(t))return qe(t,e);var n=t.readUInt32LE(e);return n>0?t.toString("utf8",e+4,e+4+n-1):""},Je=function(t,e){if(!Buffer.isBuffer(t))return Ke(t,e);var n=2*t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+n-1)},tn=function(t,e){if(!Buffer.isBuffer(t))return Qe(t,e);var n=t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+n)},nn=function(t,e){if(!Buffer.isBuffer(t))return en(t,e);var n=t.readUInt32LE(e);return t.toString("utf8",e+4,e+4+n)},an=function(t,e){return Buffer.isBuffer(t)?t.readDoubleLE(e):rn(t,e)},on=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||"undefined"!==typeof Uint8Array&&t instanceof Uint8Array}),"undefined"!==typeof p&&sn();var ln=function(t,e){return t[e]},cn=function(t,e){return 256*t[e+1]+t[e]},un=function(t,e){var n=256*t[e+1]+t[e];return n<32768?n:-1*(65535-n+1)},hn=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},fn=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},pn=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function dn(t,e){var n,r,a,o,s,l,c="",u=[];switch(e){case"dbcs":if(l=this.l,w&&Buffer.isBuffer(this))c=this.slice(this.l,this.l+2*t).toString("utf16le");else for(s=0;s<t;++s)c+=String.fromCharCode(cn(this,l)),l+=2;t*=2;break;case"utf8":c=je(this,this.l,this.l+t);break;case"utf16le":t*=2,c=Ve(this,this.l,this.l+t);break;case"wstr":if("undefined"===typeof p)return dn.call(this,t,"dbcs");c=p.utils.decode(i,this.slice(this.l,this.l+2*t)),t*=2;break;case"lpstr-ansi":c=$e(this,this.l),t=4+hn(this,this.l);break;case"lpstr-cp":c=Ze(this,this.l),t=4+hn(this,this.l);break;case"lpwstr":c=Je(this,this.l),t=4+2*hn(this,this.l);break;case"lpp4":t=4+hn(this,this.l),c=tn(this,this.l),2&t&&(t+=2);break;case"8lpp4":t=4+hn(this,this.l),c=nn(this,this.l),3&t&&(t+=4-(3&t));break;case"cstr":for(t=0,c="";0!==(a=ln(this,this.l+t++));)u.push(g(a));c=u.join("");break;case"_wstr":for(t=0,c="";0!==(a=cn(this,this.l+t));)u.push(g(a)),t+=2;t+=2,c=u.join("");break;case"dbcs-cont":for(c="",l=this.l,s=0;s<t;++s){if(this.lens&&-1!==this.lens.indexOf(l))return a=ln(this,l),this.l=l+1,o=dn.call(this,t-s,a?"dbcs-cont":"sbcs-cont"),u.join("")+o;u.push(g(cn(this,l))),l+=2}c=u.join(""),t*=2;break;case"cpstr":if("undefined"!==typeof p){c=p.utils.decode(i,this.slice(this.l,this.l+t));break}case"sbcs-cont":for(c="",l=this.l,s=0;s!=t;++s){if(this.lens&&-1!==this.lens.indexOf(l))return a=ln(this,l),this.l=l+1,o=dn.call(this,t-s,a?"dbcs-cont":"sbcs-cont"),u.join("")+o;u.push(g(ln(this,l))),l+=1}c=u.join("");break;default:switch(t){case 1:return n=ln(this,this.l),this.l++,n;case 2:return n=("i"===e?un:cn)(this,this.l),this.l+=2,n;case 4:case-4:return"i"===e||0===(128&this[this.l+3])?(n=(t>0?fn:pn)(this,this.l),this.l+=4,n):(r=hn(this,this.l),this.l+=4,r);case 8:case-8:if("f"===e)return r=8==t?an(this,this.l):an([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;t=8;case 16:c=We(this,this.l,t)}}return this.l+=t,c}var gn=function(t,e,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},vn=function(t,e,n){t[n]=255&e,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},yn=function(t,e,n){t[n]=255&e,t[n+1]=e>>>8&255};function mn(t,e,n){var r=0,i=0;if("dbcs"===n){for(i=0;i!=e.length;++i)yn(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if("sbcs"===n){if("undefined"!==typeof p&&874==a)for(i=0;i!=e.length;++i){var o=p.utils.encode(a,e.charAt(i));this[this.l+i]=o[0]}else for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=255&e.charCodeAt(i);r=e.length}else{if("hex"===n){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}if("utf16le"===n){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var l=e.charCodeAt(i);this[this.l++]=255&l,this[this.l++]=l>>8}for(;this.l<s;)this[this.l++]=0;return this}switch(t){case 1:r=1,this[this.l]=255&e;break;case 2:r=2,this[this.l]=255&e,e>>>=8,this[this.l+1]=255&e;break;case 3:r=3,this[this.l]=255&e,e>>>=8,this[this.l+1]=255&e,e>>>=8,this[this.l+2]=255&e;break;case 4:r=4,gn(this,e,this.l);break;case 8:if(r=8,"f"===n){!function(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,a=0,o=r?-e:e;isFinite(o)?0==o?i=a=0:(i=Math.floor(Math.log(o)/Math.LN2),a=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(e)?26985:0);for(var s=0;s<=5;++s,a/=256)t[n+s]=255&a;t[n+6]=(15&i)<<4|15&a,t[n+7]=i>>4|r}(this,e,this.l);break}case 16:break;case-4:r=4,vn(this,e,this.l)}}return this.l+=r,this}function xn(t,e){var n=We(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function bn(t,e){t.l=e,t.read_shift=dn,t.chk=xn,t.write_shift=mn}function wn(t,e){t.l+=e}function Sn(t){var e=C(t);return bn(e,0),e}function Cn(t,e,n){if(t){var r,i,a;bn(t,t.l||0);for(var o=t.length,s=0,l=0;t.l<o;){128&(s=t.read_shift(1))&&(s=(127&s)+((127&t.read_shift(1))<<7));var c=zs[s]||zs[65535];for(a=127&(r=t.read_shift(1)),i=1;i<4&&128&r;++i)a+=(127&(r=t.read_shift(1)))<<7*i;l=t.l+a;var u=c.f&&c.f(t,a,n);if(t.l=l,e(u,c,s))return}}}function Tn(){var t=[],e=w?256:2048,n=function(t){var e=Sn(t);return bn(e,0),e},r=n(e),i=function(){r&&(r.length>r.l&&((r=r.slice(0,r.l)).l=r.length),r.length>0&&t.push(r),r=null)},a=function(t){return r&&t<r.length-r.l?r:(i(),r=n(Math.max(t+1,e)))};return{next:a,push:function(t){i(),null==(r=t).l&&(r.l=r.length),a(e)},end:function(){return i(),A(t)},_bufs:t}}function En(t,e,n){var r=Ht(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function kn(t,e,n){var r=Ht(t);return r.s=En(r.s,e.s,n),r.e=En(r.e,e.s,n),r}function Mn(t,e){if(t.cRel&&t.c<0)for(t=Ht(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Ht(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=Ln(t);return t.cRel||null==t.cRel||(n=n.replace(/^([A-Z])/,"$$$1")),t.rRel||null==t.rRel||(n=function(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(n)),n}function An(t,e){return 0!=t.s.r||t.s.rRel||t.e.r!=(e.biff>=12?1048575:e.biff>=8?65536:16384)||t.e.rRel?0!=t.s.c||t.s.cRel||t.e.c!=(e.biff>=12?16383:255)||t.e.cRel?Mn(t.s,e.biff)+":"+Mn(t.e,e.biff):(t.s.rRel?"":"$")+Fn(t.s.r)+":"+(t.e.rRel?"":"$")+Fn(t.e.r):(t.s.cRel?"":"$")+Pn(t.s.c)+":"+(t.e.cRel?"":"$")+Pn(t.e.c)}function On(t){return parseInt(t.replace(/\$(\d+)$/,"$1"),10)-1}function Fn(t){return""+(t+1)}function In(t){for(var e=t.replace(/^\$([A-Z])/,"$1"),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function Pn(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function Dn(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function Ln(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function Rn(t){var e=t.indexOf(":");return-1==e?{s:Dn(t),e:Dn(t)}:{s:Dn(t.slice(0,e)),e:Dn(t.slice(e+1))}}function Bn(t,e){return"undefined"===typeof e||"number"===typeof e?Bn(t.s,t.e):("string"!==typeof t&&(t=Ln(t)),"string"!==typeof e&&(e=Ln(e)),t==e?t:t+":"+e)}function _n(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,a=t.length;for(n=0;r<a&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<a&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===a||10!=i)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=a&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=a&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function Nn(t,e){var n="d"==t.t&&e instanceof Date;if(null!=t.z)try{return t.w=xt(t.z,n?Ft(e):e)}catch(r){}try{return t.w=xt((t.XF||{}).numFmtId||(n?14:0),n?Ft(e):e)}catch(r){return""+e}}function Un(t,e,n){return null==t||null==t.t||"z"==t.t?"":void 0!==t.w?t.w:("d"==t.t&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),"e"==t.t?vr[t.v]||t.v:Nn(t,void 0==e?t.v:e))}function zn(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function Hn(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense;null!=y&&null==i&&(i=y);var a=t||(i?[]:{}),o=0,s=0;if(a&&null!=r.origin){if("number"==typeof r.origin)o=r.origin;else{var l="string"==typeof r.origin?Dn(r.origin):r.origin;o=l.r,s=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var u=_n(a["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),-1==o&&(c.e.r=o=u.e.r+1)}for(var h=0;h!=e.length;++h)if(e[h]){if(!Array.isArray(e[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var f=0;f!=e[h].length;++f)if("undefined"!==typeof e[h][f]){var p={v:e[h][f]},d=o+h,g=s+f;if(c.s.r>d&&(c.s.r=d),c.s.c>g&&(c.s.c=g),c.e.r<d&&(c.e.r=d),c.e.c<g&&(c.e.c=g),!e[h][f]||"object"!==typeof e[h][f]||Array.isArray(e[h][f])||e[h][f]instanceof Date)if(Array.isArray(p.v)&&(p.f=e[h][f][1],p.v=p.v[0]),null===p.v)if(p.f)p.t="n";else if(r.nullError)p.t="e",p.v=0;else{if(!r.sheetStubs)continue;p.t="z"}else"number"===typeof p.v?p.t="n":"boolean"===typeof p.v?p.t="b":p.v instanceof Date?(p.z=r.dateNF||z[14],r.cellDates?(p.t="d",p.w=xt(p.z,Ft(p.v))):(p.t="n",p.v=Ft(p.v),p.w=xt(p.z,p.v))):p.t="s";else p=e[h][f];if(i)a[d]||(a[d]=[]),a[d][g]&&a[d][g].z&&(p.z=a[d][g].z),a[d][g]=p;else{var v=Ln({c:g,r:d});a[v]&&a[v].z&&(p.z=a[v].z),a[v]=p}}}return c.s.c<1e7&&(a["!ref"]=Bn(c)),a}function Vn(t,e){return Hn(null,t,e)}function Gn(t){var e=t.read_shift(4);return 0===e?"":t.read_shift(e,"dbcs")}function Wn(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function Yn(t,e){var n=t.l,r=t.read_shift(1),i=Gn(t),a=[],o={t:i,h:i};if(0!==(1&r)){for(var s=t.read_shift(4),l=0;l!=s;++l)a.push(Wn(t));o.r=a}else o.r=[{ich:0,ifnt:0}];return t.l=n+e,o}var jn=Yn;function Xn(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function $n(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var qn=Gn;function Zn(t){var e=t.read_shift(4);return 0===e||4294967295===e?"":t.read_shift(e,"dbcs")}var Kn=Gn,Jn=Zn;function Qn(t){var e=t.slice(t.l,t.l+4),n=1&e[0],r=2&e[0];t.l+=4;var i=0===r?an([0,0,0,0,252&e[0],e[1],e[2],e[3]],0):fn(e,0)>>2;return n?i/100:i}function tr(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var er=tr;function nr(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function rr(t,e){var n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return{2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"}[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,1==e?"lpstr":"lpwstr")}var ir=2,ar=3,or=12,sr=80,lr=81,cr=[sr,lr],ur={1:{n:"CodePage",t:ir},2:{n:"Category",t:sr},3:{n:"PresentationFormat",t:sr},4:{n:"ByteCount",t:ar},5:{n:"LineCount",t:ar},6:{n:"ParagraphCount",t:ar},7:{n:"SlideCount",t:ar},8:{n:"NoteCount",t:ar},9:{n:"HiddenCount",t:ar},10:{n:"MultimediaClipCount",t:ar},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:sr},15:{n:"Company",t:sr},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:ar},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:ar,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:sr},27:{n:"ContentStatus",t:sr},28:{n:"Language",t:sr},29:{n:"Version",t:sr},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},hr={1:{n:"CodePage",t:ir},2:{n:"Title",t:sr},3:{n:"Subject",t:sr},4:{n:"Author",t:sr},5:{n:"Keywords",t:sr},6:{n:"Comments",t:sr},7:{n:"Template",t:sr},8:{n:"LastAuthor",t:sr},9:{n:"RevNumber",t:sr},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:ar},15:{n:"WordCount",t:ar},16:{n:"CharCount",t:ar},17:{n:"Thumbnail",t:71},18:{n:"Application",t:sr},19:{n:"DocSecurity",t:ar},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},fr={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},pr=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function dr(t){return t.map((function(t){return[t>>16&255,t>>8&255,255&t]}))}var gr=Ht(dr([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),vr={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},yr={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},mr={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};var xr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function br(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function wr(t,e){var n={"!id":{}};if(!t)return n;"/"!==e.charAt(0)&&(e="/"+e);var r={};return(t.match(se)||[]).forEach((function(t){var i=ue(t);if("<Relationship"===i[0]){var a={};a.Type=i.Type,a.Target=i.Target,a.Id=i.Id,i.TargetMode&&(a.TargetMode=i.TargetMode);var o="External"===i.TargetMode?i.Target:re(i.Target,e);n[o]=a,r[i.Id]=a}})),n["!id"]=r,n}var Sr="application/vnd.oasis.opendocument.spreadsheet";var Cr=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Tr=function(){for(var t=new Array(Cr.length),e=0;e<Cr.length;++e){var n=Cr[e],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);t[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t}();function Er(t){var e={};t=Te(t);for(var n=0;n<Cr.length;++n){var r=Cr[n],i=t.match(Tr[n]);null!=i&&i.length>0&&(e[r[1]]=de(i[1])),"date"===r[2]&&e[r[1]]&&(e[r[1]]=Ut(e[r[1]]))}return e}var kr=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function Mr(t,e,n,r){var i=[];if("string"==typeof t)i=Ie(t,r);else for(var a=0;a<t.length;++a)i=i.concat(t[a].map((function(t){return{v:t}})));var o="string"==typeof e?Ie(e,r).map((function(t){return t.v})):e,s=0,l=0;if(o.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"\u5de5\u4f5c\u8868":case"\u041b\u0438\u0441\u0442\u044b":case"\u0623\u0648\u0631\u0627\u0642 \u0627\u0644\u0639\u0645\u0644":case"\u30ef\u30fc\u30af\u30b7\u30fc\u30c8":case"\u05d2\u05dc\u05d9\u05d5\u05e0\u05d5\u05ea \u05e2\u05d1\u05d5\u05d3\u05d4":case"Arbeitsbl\xe4tter":case"\xc7al\u0131\u015fma Sayfalar\u0131":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de c\xe1lculo":case"Planilhas":case"Regneark":case"Hojas de c\xe1lculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=o.slice(s,s+l);break;case"Named Ranges":case"Rangos con nombre":case"\u540d\u524d\u4ed8\u304d\u4e00\u89a7":case"Benannte Bereiche":case"Navngivne omr\xe5der":n.NamedRanges=l,n.DefinedNames=o.slice(s,s+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=o.slice(s,s+l)}s+=l}}var Ar=/<[^>]+>[^<]*/g;var Or,Fr={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Ir(t,e,n){Or||(Or=At(Fr)),t[e=Or[e]||e]=n}function Pr(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date(1e3*(n/1e7*Math.pow(2,32)+e/1e7-11644473600)).toISOString().replace(/\.000/,"")}function Dr(t,e,n){var r=t.l,i=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-r&3;)++t.l;return i}function Lr(t,e,n){var r=t.read_shift(0,"lpwstr");return n&&(t.l+=4-(r.length+1&3)&3),r}function Rr(t,e,n){return 31===e?Lr(t):Dr(t,0,n)}function Br(t,e,n){return Rr(t,e,!1===n?0:4)}function _r(t){var e=t.l,n=zr(t,lr);return 0==t[t.l]&&0==t[t.l+1]&&t.l-e&2&&(t.l+=2),[n,zr(t,ar)]}function Nr(t,e){for(var n=t.read_shift(4),r={},i=0;i!=n;++i){var a=t.read_shift(4),o=t.read_shift(4);r[a]=t.read_shift(o,1200===e?"utf16le":"utf8").replace(O,"").replace(F,"!"),1200===e&&o%2&&(t.l+=2)}return 3&t.l&&(t.l=t.l>>3<<2),r}function Ur(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(3&e)>0&&(t.l+=4-(3&e)&3),n}function zr(t,e,n){var r,i=t.read_shift(2),a=n||{};if(t.l+=2,e!==or&&i!==e&&-1===cr.indexOf(e)&&(4126!=(65534&e)||4126!=(65534&i)))throw new Error("Expected type "+e+" saw "+i);switch(e===or?i:e){case 2:return r=t.read_shift(2,"i"),a.raw||(t.l+=2),r;case 3:return r=t.read_shift(4,"i");case 11:return 0!==t.read_shift(4);case 19:return r=t.read_shift(4);case 30:return Dr(t,0,4).replace(O,"");case 31:return Lr(t);case 64:return Pr(t);case 65:return Ur(t);case 71:return function(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}(t);case 80:return Br(t,i,!a.raw).replace(O,"");case 81:return function(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return Rr(t,e,0)}(t,i).replace(O,"");case 4108:return function(t){for(var e=t.read_shift(4),n=[],r=0;r<e/2;++r)n.push(_r(t));return n}(t);case 4126:case 4127:return 4127==i?function(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r){var i=t.l;n[r]=t.read_shift(0,"lpwstr").replace(O,""),t.l-i&2&&(t.l+=2)}return n}(t):function(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r)n[r]=t.read_shift(0,"lpstr-cp").replace(O,"");return n}(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+i)}}function Hr(t,e){var n=t.l,r=t.read_shift(4),i=t.read_shift(4),a=[],o=0,s=0,l=-1,u={};for(o=0;o!=i;++o){var h=t.read_shift(4),f=t.read_shift(4);a[o]=[h,f+n]}a.sort((function(t,e){return t[1]-e[1]}));var p={};for(o=0;o!=i;++o){if(t.l!==a[o][1]){var d=!0;if(o>0&&e)switch(e[a[o-1][0]].t){case 2:t.l+2===a[o][1]&&(t.l+=2,d=!1);break;case 80:case 4108:t.l<=a[o][1]&&(t.l=a[o][1],d=!1)}if((!e||0==o)&&t.l<=a[o][1]&&(d=!1,t.l=a[o][1]),d)throw new Error("Read Error: Expected address "+a[o][1]+" at "+t.l+" :"+o)}if(e){var g=e[a[o][0]];if(p[g.n]=zr(t,g.t,{raw:!0}),"version"===g.p&&(p[g.n]=String(p[g.n]>>16)+"."+("0000"+String(65535&p[g.n])).slice(-4)),"CodePage"==g.n)switch(p[g.n]){case 0:p[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:c(s=p[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+p[g.n])}}else if(1===a[o][0]){if(s=p.CodePage=zr(t,ir),c(s),-1!==l){var v=t.l;t.l=a[l][1],u=Nr(t,s),t.l=v}}else if(0===a[o][0]){if(0===s){l=o,t.l=a[o+1][1];continue}u=Nr(t,s)}else{var y,m=u[a[o][0]];switch(t[t.l]){case 65:t.l+=4,y=Ur(t);break;case 30:case 31:t.l+=4,y=Br(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,y=t.read_shift(4,"i");break;case 19:t.l+=4,y=t.read_shift(4);break;case 5:t.l+=4,y=t.read_shift(8,"f");break;case 11:t.l+=4,y=Wr(t,4);break;case 64:t.l+=4,y=Ut(Pr(t));break;default:throw new Error("unparsed value: "+t[t.l])}p[m]=y}}return t.l=n+r,p}function Vr(t,e,n){var r=t.content;if(!r)return{};bn(r,0);var i,a,o,s,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var c=r.read_shift(4),u=r.read_shift(16);if(u!==Et.utils.consts.HEADER_CLSID&&u!==n)throw new Error("Bad PropertySet CLSID "+u);if(1!==(i=r.read_shift(4))&&2!==i)throw new Error("Unrecognized #Sets: "+i);if(a=r.read_shift(16),s=r.read_shift(4),1===i&&s!==r.l)throw new Error("Length mismatch: "+s+" !== "+r.l);2===i&&(o=r.read_shift(16),l=r.read_shift(4));var h,f=Hr(r,e),p={SystemIdentifier:c};for(var d in f)p[d]=f[d];if(p.FMTID=a,1===i)return p;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);try{h=Hr(r,null)}catch(g){}for(d in h)p[d]=h[d];return p.FMTID=[a,o],p}function Gr(t,e){return t.read_shift(e),null}function Wr(t,e){return 1===t.read_shift(e)}function Yr(t){return t.read_shift(2,"u")}function jr(t,e){return function(t,e,n){for(var r=[],i=t.l+e;t.l<i;)r.push(n(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return r}(t,e,Yr)}function Xr(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),a="sbcs-cont",o=i;(n&&n.biff>=8&&(i=1200),n&&8!=n.biff)?12==n.biff&&(a="wstr"):t.read_shift(1)&&(a="dbcs-cont");n.biff>=2&&n.biff<=5&&(a="cpstr");var s=r?t.read_shift(r,a):"";return i=o,s}function $r(t){var e=i;i=1200;var n,r=t.read_shift(2),a=t.read_shift(1),o=4&a,s=8&a,l=1+(1&a),c=0,u={};s&&(c=t.read_shift(2)),o&&(n=t.read_shift(4));var h=2==l?"dbcs-cont":"sbcs-cont",f=0===r?"":t.read_shift(r,h);return s&&(t.l+=4*c),o&&(t.l+=n),u.t=f,s||(u.raw="<t>"+u.t+"</t>",u.r=u.t),i=e,u}function qr(t,e,n){if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}return 0===t.read_shift(1)?t.read_shift(e,"sbcs-cont"):t.read_shift(e,"dbcs-cont")}function Zr(t,e,n){var r=t.read_shift(n&&2==n.biff?1:2);return 0===r?(t.l++,""):qr(t,r,n)}function Kr(t,e,n){if(n.biff>5)return Zr(t,0,n);var r=t.read_shift(1);return 0===r?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function Jr(t,e){var n=t.read_shift(16);switch(16,n){case"e0c9ea79f9bace118c8200aa004ba90b":return function(t){var e=t.read_shift(4),n=t.l,r=!1;e>24&&(t.l+=e-24,"795881f43b1d7f48af2c825dc4852763"===t.read_shift(16)&&(r=!0),t.l=n);var i=t.read_shift((r?e-24:e)>>1,"utf16le").replace(O,"");return r&&(t.l+=24),i}(t);case"0303000000000000c000000000000046":return function(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,57005!=t.read_shift(2))throw new Error("Bad FileMoniker");if(0===t.read_shift(4))return n+r.replace(/\\/g,"/");var i=t.read_shift(4);if(3!=t.read_shift(2))throw new Error("Bad FileMoniker");return n+t.read_shift(i>>1,"utf16le").replace(O,"")}(t);default:throw new Error("Unsupported Moniker "+n)}}function Qr(t){var e=t.read_shift(4);return e>0?t.read_shift(e,"utf16le").replace(O,""):""}function ti(t){return[t.read_shift(1),t.read_shift(1),t.read_shift(1),t.read_shift(1)]}function ei(t,e){var n=ti(t);return n[3]=0,n}function ni(t){return{r:t.read_shift(2),c:t.read_shift(2),ixfe:t.read_shift(2)}}function ri(t,e,n){var r=n.biff>8?4:2;return[t.read_shift(r),t.read_shift(r,"i"),t.read_shift(r,"i")]}function ii(t){return[t.read_shift(2),Qn(t)]}function ai(t){var e=t.read_shift(2),n=t.read_shift(2);return{s:{c:t.read_shift(2),r:e},e:{c:t.read_shift(2),r:n}}}function oi(t){var e=t.read_shift(2),n=t.read_shift(2);return{s:{c:t.read_shift(1),r:e},e:{c:t.read_shift(1),r:n}}}var si=oi;function li(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[n,e,r]}function ci(t){t.l+=2,t.l+=t.read_shift(2)}var ui={0:ci,4:ci,5:ci,6:ci,7:function(t){return t.l+=4,t.cf=t.read_shift(2),{}},8:ci,9:ci,10:ci,11:ci,12:ci,13:function(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e},14:ci,15:ci,16:ci,17:ci,18:ci,19:ci,20:ci,21:li};function hi(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),(e-=2)>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function fi(t,e,n){var r=0;n&&2==n.biff||(r=t.read_shift(2));var i=t.read_shift(2);return n&&2==n.biff&&(r=1-(i>>15),i&=32767),[{Unsynced:1&r,DyZero:(2&r)>>1,ExAsc:(4&r)>>2,ExDsc:(8&r)>>3},i]}var pi=Kr;function di(t,e,n){var r=t.l+e,i=8!=n.biff&&n.biff?2:4,a=t.read_shift(i),o=t.read_shift(i),s=t.read_shift(2),l=t.read_shift(2);return t.l=r,{s:{r:a,c:s},e:{r:o,c:l}}}function gi(t,e,n){var r=ni(t);2!=n.biff&&9!=e||++t.l;var i=function(t){var e=t.read_shift(1);return 1===t.read_shift(1)?e:1===e}(t);return r.val=i,r.t=!0===i||!1===i?"b":"e",r}var vi=function(t,e,n){return 0===e?"":Kr(t,0,n)};function yi(t,e,n){var r,i=t.read_shift(2),a={fBuiltIn:1&i,fWantAdvise:i>>>1&1,fWantPict:i>>>2&1,fOle:i>>>3&1,fOleLink:i>>>4&1,cf:i>>>5&1023,fIcon:i>>>15&1};return 14849===n.sbcch&&(r=function(t,e,n){t.l+=4,e-=4;var r=t.l+e,i=Xr(t,0,n),a=t.read_shift(2);if(a!==(r-=t.l))throw new Error("Malformed AddinUdf: padding = "+r+" != "+a);return t.l+=a,i}(t,e-2,n)),a.body=r||t.read_shift(e-2),"string"===typeof r&&(a.Name=r),a}var mi=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function xi(t,e,n){var r=t.l+e,i=t.read_shift(2),a=t.read_shift(1),o=t.read_shift(1),s=t.read_shift(n&&2==n.biff?1:2),l=0;(!n||n.biff>=5)&&(5!=n.biff&&(t.l+=2),l=t.read_shift(2),5==n.biff&&(t.l+=2),t.l+=4);var c=qr(t,o,n);32&i&&(c=mi[c.charCodeAt(0)]);var u=r-t.l;n&&2==n.biff&&--u;var h=r!=t.l&&0!==s&&u>0?function(t,e,n,r){var i,a=t.l+e,o=ho(t,r,n);a!==t.l&&(i=uo(t,a-t.l,o,n));return[o,i]}(t,u,n,s):[];return{chKey:a,Name:c,itab:l,rgce:h}}function bi(t,e,n){if(n.biff<8)return function(t,e,n){3==t[t.l+1]&&t[t.l]++;var r=Xr(t,0,n);return 3==r.charCodeAt(0)?r.slice(1):r}(t,0,n);for(var r=[],i=t.l+e,a=t.read_shift(n.biff>8?4:2);0!==a--;)r.push(ri(t,n.biff,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function wi(t,e,n){var r=si(t,6);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[r,mo(t,e,n)]}var Si={8:function(t,e){var n=t.l+e;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=n,{fmt:r}}};function Ci(t,e,n){if(!n.cellStyles)return wn(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),a=t.read_shift(r),o=t.read_shift(r),s=t.read_shift(r),l=t.read_shift(2);2==r&&(t.l+=2);var c={s:i,e:a,w:o,ixfe:s,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}var Ti=ni,Ei=jr,ki=Zr;var Mi=[2,3,48,49,131,139,140,245],Ai=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=At({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(e,n){var r=n||{};r.dateNF||(r.dateNF="yyyymmdd");var i=Vn(function(e,n){var r=[],i=C(1);switch(n.type){case"base64":i=E(b(e));break;case"binary":i=E(e);break;case"buffer":case"array":i=e}bn(i,0);var a=i.read_shift(1),o=!!(136&a),s=!1,l=!1;switch(a){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:s=!0,o=!0;break;case 140:l=!0;break;default:throw new Error("DBF Unsupported Version: "+a.toString(16))}var c=0,u=521;2==a&&(c=i.read_shift(2)),i.l+=3,2!=a&&(c=i.read_shift(4)),c>1048576&&(c=1e6),2!=a&&(u=i.read_shift(2));var h=i.read_shift(2),f=n.codepage||1252;2!=a&&(i.l+=16,i.read_shift(1),0!==i[i.l]&&(f=t[i[i.l]]),i.l+=1,i.l+=2),l&&(i.l+=36);for(var d=[],g={},v=Math.min(i.length,2==a?521:u-10-(s?264:0)),y=l?32:11;i.l<v&&13!=i[i.l];)switch((g={}).name=p.utils.decode(f,i.slice(i.l,i.l+y)).replace(/[\u0000\r\n].*$/g,""),i.l+=y,g.type=String.fromCharCode(i.read_shift(1)),2==a||l||(g.offset=i.read_shift(4)),g.len=i.read_shift(1),2==a&&(g.offset=i.read_shift(2)),g.dec=i.read_shift(1),g.name.length&&d.push(g),2!=a&&(i.l+=l?13:14),g.type){case"B":s&&8==g.len||!n.WTF||console.log("Skipping "+g.name+":"+g.type);break;case"G":case"P":n.WTF&&console.log("Skipping "+g.name+":"+g.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+g.type)}if(13!==i[i.l]&&(i.l=u-1),13!==i.read_shift(1))throw new Error("DBF Terminator not found "+i.l+" "+i[i.l]);i.l=u;var m=0,x=0;for(r[0]=[],x=0;x!=d.length;++x)r[0][x]=d[x].name;for(;c-- >0;)if(42!==i[i.l])for(++i.l,r[++m]=[],x=0,x=0;x!=d.length;++x){var w=i.slice(i.l,i.l+d[x].len);i.l+=d[x].len,bn(w,0);var S=p.utils.decode(f,w);switch(d[x].type){case"C":S.trim().length&&(r[m][x]=S.replace(/\s+$/,""));break;case"D":8===S.length?r[m][x]=new Date(+S.slice(0,4),+S.slice(4,6)-1,+S.slice(6,8)):r[m][x]=S;break;case"F":r[m][x]=parseFloat(S.trim());break;case"+":case"I":r[m][x]=l?2147483648^w.read_shift(-4,"i"):w.read_shift(4,"i");break;case"L":switch(S.trim().toUpperCase()){case"Y":case"T":r[m][x]=!0;break;case"N":case"F":r[m][x]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+S+"|")}break;case"M":if(!o)throw new Error("DBF Unexpected MEMO for type "+a.toString(16));r[m][x]="##MEMO##"+(l?parseInt(S.trim(),10):w.read_shift(4));break;case"N":(S=S.replace(/\u0000/g,"").trim())&&"."!=S&&(r[m][x]=+S||0);break;case"@":r[m][x]=new Date(w.read_shift(-8,"f")-621356832e5);break;case"T":r[m][x]=new Date(864e5*(w.read_shift(4)-2440588)+w.read_shift(4));break;case"Y":r[m][x]=w.read_shift(4,"i")/1e4+w.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":r[m][x]=-w.read_shift(-8,"f");break;case"B":if(s&&8==d[x].len){r[m][x]=w.read_shift(8,"f");break}case"G":case"P":w.l+=d[x].len;break;case"0":if("_NullFlags"===d[x].name)break;default:throw new Error("DBF Unsupported data type "+d[x].type)}}else i.l+=h;if(2!=a&&i.l<i.length&&26!=i[i.l++])throw new Error("DBF EOF Marker missing "+(i.l-1)+" of "+i.length+" "+i[i.l-1].toString(16));return n&&n.sheetRows&&(r=r.slice(0,n.sheetRows)),n.DBF=d,r}(e,r),r);return i["!cols"]=r.DBF.map((function(t){return{wch:t.len,DBF:t}})),delete r.DBF,i}var r={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function(t,e){try{return zn(n(t,e),e)}catch(r){if(e&&e.WTF)throw r}return{SheetNames:[],Sheets:{}}},to_sheet:n,from_sheet:function(t,n){var i=n||{};if(+i.codepage>=0&&c(+i.codepage),"string"==i.type)throw new Error("Cannot write DBF to JS string");var o=Tn(),s=Dl(t,{header:1,raw:!0,cellDates:!0}),l=s[0],u=s.slice(1),h=t["!cols"]||[],f=0,p=0,d=0,g=1;for(f=0;f<l.length;++f)if(((h[f]||{}).DBF||{}).name)l[f]=h[f].DBF.name,++d;else if(null!=l[f]){if(++d,"number"===typeof l[f]&&(l[f]=l[f].toString(10)),"string"!==typeof l[f])throw new Error("DBF Invalid column name "+l[f]+" |"+typeof l[f]+"|");if(l.indexOf(l[f])!==f)for(p=0;p<1024;++p)if(-1==l.indexOf(l[f]+"_"+p)){l[f]+="_"+p;break}}var v=_n(t["!ref"]),y=[],m=[],x=[];for(f=0;f<=v.e.c-v.s.c;++f){var b="",w="",S=0,C=[];for(p=0;p<u.length;++p)null!=u[p][f]&&C.push(u[p][f]);if(0!=C.length&&null!=l[f]){for(p=0;p<C.length;++p){switch(typeof C[p]){case"number":w="B";break;case"string":default:w="C";break;case"boolean":w="L";break;case"object":w=C[p]instanceof Date?"D":"C"}S=Math.max(S,String(C[p]).length),b=b&&b!=w?"C":w}S>250&&(S=250),"C"==(w=((h[f]||{}).DBF||{}).type)&&h[f].DBF.len>S&&(S=h[f].DBF.len),"B"==b&&"N"==w&&(b="N",x[f]=h[f].DBF.dec,S=h[f].DBF.len),m[f]="C"==b||"N"==w?S:r[b]||0,g+=m[f],y[f]=b}else y[f]="?"}var T=o.next(32);for(T.write_shift(4,318902576),T.write_shift(4,u.length),T.write_shift(2,296+32*d),T.write_shift(2,g),f=0;f<4;++f)T.write_shift(4,0);for(T.write_shift(4,0|(+e[a]||3)<<8),f=0,p=0;f<l.length;++f)if(null!=l[f]){var E=o.next(32),k=(l[f].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);E.write_shift(1,k,"sbcs"),E.write_shift(1,"?"==y[f]?"C":y[f],"sbcs"),E.write_shift(4,p),E.write_shift(1,m[f]||r[y[f]]||0),E.write_shift(1,x[f]||0),E.write_shift(1,2),E.write_shift(4,0),E.write_shift(1,0),E.write_shift(4,0),E.write_shift(4,0),p+=m[f]||r[y[f]]||0}var M=o.next(264);for(M.write_shift(4,13),f=0;f<65;++f)M.write_shift(4,0);for(f=0;f<u.length;++f){var A=o.next(g);for(A.write_shift(1,0),p=0;p<l.length;++p)if(null!=l[p])switch(y[p]){case"L":A.write_shift(1,null==u[f][p]?63:u[f][p]?84:70);break;case"B":A.write_shift(8,u[f][p]||0,"f");break;case"N":var O="0";for("number"==typeof u[f][p]&&(O=u[f][p].toFixed(x[p]||0)),d=0;d<m[p]-O.length;++d)A.write_shift(1,32);A.write_shift(1,O,"sbcs");break;case"D":u[f][p]?(A.write_shift(4,("0000"+u[f][p].getFullYear()).slice(-4),"sbcs"),A.write_shift(2,("00"+(u[f][p].getMonth()+1)).slice(-2),"sbcs"),A.write_shift(2,("00"+u[f][p].getDate()).slice(-2),"sbcs")):A.write_shift(8,"00000000","sbcs");break;case"C":var F=String(null!=u[f][p]?u[f][p]:"").slice(0,m[p]);for(A.write_shift(1,F,"sbcs"),d=0;d<m[p]-F.length;++d)A.write_shift(1,32)}}return o.next(1).write_shift(1,26),o.end()}}}(),Oi=function(){var t={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1bN("+Mt(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(e,n){var r=t[n];return"number"==typeof r?v(r):r},r=function(t,e,n){var r=e.charCodeAt(0)-32<<4|n.charCodeAt(0)-48;return 59==r?t:v(r)};function i(t,i){var a,o=t.split(/[\n\r]+/),s=-1,l=-1,u=0,h=0,f=[],d=[],g=null,v={},y=[],m=[],x=[],b=0;for(+i.codepage>=0&&c(+i.codepage);u!==o.length;++u){b=0;var w,S=o[u].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),C=S.replace(/;;/g,"\0").split(";").map((function(t){return t.replace(/\u0000/g,";")})),T=C[0];if(S.length>0)switch(T){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==C[1].charAt(0)&&d.push(S.slice(3).replace(/;;/g,";"));break;case"C":var E=!1,k=!1,M=!1,A=!1,O=-1,F=-1;for(h=1;h<C.length;++h)switch(C[h].charAt(0)){case"A":case"G":break;case"X":l=parseInt(C[h].slice(1))-1,k=!0;break;case"Y":for(s=parseInt(C[h].slice(1))-1,k||(l=0),a=f.length;a<=s;++a)f[a]=[];break;case"K":'"'===(w=C[h].slice(1)).charAt(0)?w=w.slice(1,w.length-1):"TRUE"===w?w=!0:"FALSE"===w?w=!1:isNaN(Gt(w))?isNaN(Yt(w).getDate())||(w=Ut(w)):(w=Gt(w),null!==g&&gt(g)&&(w=Lt(w))),"undefined"!==typeof p&&"string"==typeof w&&"string"!=(i||{}).type&&(i||{}).codepage&&(w=p.utils.decode(i.codepage,w)),E=!0;break;case"E":A=!0;var I=Ua(C[h].slice(1),{r:s,c:l});f[s][l]=[f[s][l],I];break;case"S":M=!0,f[s][l]=[f[s][l],"S5S"];break;case"R":O=parseInt(C[h].slice(1))-1;break;case"C":F=parseInt(C[h].slice(1))-1;break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+S)}if(E&&(f[s][l]&&2==f[s][l].length?f[s][l][0]=w:f[s][l]=w,g=null),M){if(A)throw new Error("SYLK shared formula cannot have own formula");var P=O>-1&&f[O][F];if(!P||!P[1])throw new Error("SYLK shared formula cannot find base");f[s][l][1]=Va(P[1],{r:s-O,c:l-F})}break;case"F":var D=0;for(h=1;h<C.length;++h)switch(C[h].charAt(0)){case"X":l=parseInt(C[h].slice(1))-1,++D;break;case"Y":for(s=parseInt(C[h].slice(1))-1,a=f.length;a<=s;++a)f[a]=[];break;case"M":b=parseInt(C[h].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":g=d[parseInt(C[h].slice(1))];break;case"W":for(x=C[h].slice(1).split(" "),a=parseInt(x[0],10);a<=parseInt(x[1],10);++a)b=parseInt(x[2],10),m[a-1]=0===b?{hidden:!0}:{wch:b},da(m[a-1]);break;case"C":m[l=parseInt(C[h].slice(1))-1]||(m[l]={});break;case"R":y[s=parseInt(C[h].slice(1))-1]||(y[s]={}),b>0?(y[s].hpt=b,y[s].hpx=ya(b)):0===b&&(y[s].hidden=!0);break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+S)}D<1&&(g=null);break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+S)}}return y.length>0&&(v["!rows"]=y),m.length>0&&(v["!cols"]=m),i&&i.sheetRows&&(f=f.slice(0,i.sheetRows)),[f,v]}function a(t,e){var n=function(t,e){switch(e.type){case"base64":return i(b(t),e);case"binary":return i(t,e);case"buffer":return i(w&&Buffer.isBuffer(t)?t.toString("binary"):k(t),e);case"array":return i(zt(t),e)}throw new Error("Unrecognized type "+e.type)}(t,e),r=n[0],a=n[1],o=Vn(r,e);return Mt(a).forEach((function(t){o[t]=a[t]})),o}function o(t,e,n,r){var i="C;Y"+(n+1)+";X"+(r+1)+";K";switch(t.t){case"n":i+=t.v||0,t.f&&!t.F&&(i+=";E"+Ha(t.f,{r:n,c:r}));break;case"b":i+=t.v?"TRUE":"FALSE";break;case"e":i+=t.w||t.v;break;case"d":i+='"'+(t.w||t.v)+'"';break;case"s":i+='"'+t.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return i}return t["|"]=254,{to_workbook:function(t,e){return zn(a(t,e),e)},to_sheet:a,from_sheet:function(t,e){var n,r,i=["ID;PWXL;N;E"],a=[],s=_n(t["!ref"]),l=Array.isArray(t),c="\r\n";i.push("P;PGeneral"),i.push("F;P0;DG0G8;M255"),t["!cols"]&&(r=i,t["!cols"].forEach((function(t,e){var n="F;W"+(e+1)+" "+(e+1)+" ";t.hidden?n+="0":("number"!=typeof t.width||t.wpx||(t.wpx=ca(t.width)),"number"!=typeof t.wpx||t.wch||(t.wch=ua(t.wpx)),"number"==typeof t.wch&&(n+=Math.round(t.wch)))," "!=n.charAt(n.length-1)&&r.push(n)}))),t["!rows"]&&function(t,e){e.forEach((function(e,n){var r="F;";e.hidden?r+="M0;":e.hpt?r+="M"+20*e.hpt+";":e.hpx&&(r+="M"+20*va(e.hpx)+";"),r.length>2&&t.push(r+"R"+(n+1))}))}(i,t["!rows"]),i.push("B;Y"+(s.e.r-s.s.r+1)+";X"+(s.e.c-s.s.c+1)+";D"+[s.s.c,s.s.r,s.e.c,s.e.r].join(" "));for(var u=s.s.r;u<=s.e.r;++u)for(var h=s.s.c;h<=s.e.c;++h){var f=Ln({r:u,c:h});(n=l?(t[u]||[])[h]:t[f])&&(null!=n.v||n.f&&!n.F)&&a.push(o(n,0,u,h))}return i.join(c)+c+a.join(c)+c+"E"+c}}}(),Fi=function(){function t(t,e){for(var n=t.split("\n"),r=-1,i=-1,a=0,o=[];a!==n.length;++a)if("BOT"!==n[a].trim()){if(!(r<0)){for(var s=n[a].trim().split(","),l=s[0],c=s[1],u=n[++a]||"";1&(u.match(/["]/g)||[]).length&&a<n.length-1;)u+="\n"+n[++a];switch(u=u.trim(),+l){case-1:if("BOT"===u){o[++r]=[],i=0;continue}if("EOD"!==u)throw new Error("Unrecognized DIF special command "+u);break;case 0:"TRUE"===u?o[r][i]=!0:"FALSE"===u?o[r][i]=!1:isNaN(Gt(c))?isNaN(Yt(c).getDate())?o[r][i]=c:o[r][i]=Ut(c):o[r][i]=Gt(c),++i;break;case 1:(u=(u=u.slice(1,u.length-1)).replace(/""/g,'"'))&&u.match(/^=".*"$/)&&(u=u.slice(2,-1)),o[r][i++]=""!==u?u:null}if("EOD"===u)break}}else o[++r]=[],i=0;return e&&e.sheetRows&&(o=o.slice(0,e.sheetRows)),o}function e(e,n){return Vn(function(e,n){switch(n.type){case"base64":return t(b(e),n);case"binary":return t(e,n);case"buffer":return t(w&&Buffer.isBuffer(e)?e.toString("binary"):k(e),n);case"array":return t(zt(e),n)}throw new Error("Unrecognized type "+n.type)}(e,n),n)}return{to_workbook:function(t,n){return zn(e(t,n),n)},to_sheet:e,from_sheet:function(){var t=function(t,e,n,r,i){t.push(e),t.push(n+","+r),t.push('"'+i.replace(/"/g,'""')+'"')},e=function(t,e,n,r){t.push(e+","+n),t.push(1==e?'"'+r.replace(/"/g,'""')+'"':r)};return function(n){var r,i=[],a=_n(n["!ref"]),o=Array.isArray(n);t(i,"TABLE",0,1,"sheetjs"),t(i,"VECTORS",0,a.e.r-a.s.r+1,""),t(i,"TUPLES",0,a.e.c-a.s.c+1,""),t(i,"DATA",0,0,"");for(var s=a.s.r;s<=a.e.r;++s){e(i,-1,0,"BOT");for(var l=a.s.c;l<=a.e.c;++l){var c=Ln({r:s,c:l});if(r=o?(n[s]||[])[l]:n[c])switch(r.t){case"n":var u=r.w;u||null==r.v||(u=r.v),null==u?r.f&&!r.F?e(i,1,0,"="+r.f):e(i,1,0,""):e(i,0,u,"V");break;case"b":e(i,0,r.v?1:0,r.v?"TRUE":"FALSE");break;case"s":e(i,1,0,isNaN(r.v)?r.v:'="'+r.v+'"');break;case"d":r.w||(r.w=xt(r.z||z[14],Ft(Ut(r.v)))),e(i,0,r.w,"V");break;default:e(i,1,0,"")}else e(i,1,0,"")}}e(i,-1,0,"EOD");return i.join("\r\n")}}()}}(),Ii=function(){function t(t){return t.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function e(t,e){return Vn(function(t,e){for(var n=t.split("\n"),r=-1,i=-1,a=0,o=[];a!==n.length;++a){var s=n[a].trim().split(":");if("cell"===s[0]){var l=Dn(s[1]);if(o.length<=l.r)for(r=o.length;r<=l.r;++r)o[r]||(o[r]=[]);switch(r=l.r,i=l.c,s[2]){case"t":o[r][i]=s[3].replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n");break;case"v":o[r][i]=+s[3];break;case"vtf":var c=s[s.length-1];case"vtc":"nl"===s[3]?o[r][i]=!!+s[4]:o[r][i]=+s[4],"vtf"==s[2]&&(o[r][i]=[o[r][i],c])}}}return e&&e.sheetRows&&(o=o.slice(0,e.sheetRows)),o}(t,e),e)}var n=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),r=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",i=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),a="--SocialCalcSpreadsheetControlSave--";function o(e){if(!e||!e["!ref"])return"";for(var n,r=[],i=[],a="",o=Rn(e["!ref"]),s=Array.isArray(e),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c)if(a=Ln({r:l,c:c}),(n=s?(e[l]||[])[c]:e[a])&&null!=n.v&&"z"!==n.t){switch(i=["cell",a,"t"],n.t){case"s":case"str":i.push(t(n.v));break;case"n":n.f?(i[2]="vtf",i[3]="n",i[4]=n.v,i[5]=t(n.f)):(i[2]="v",i[3]=n.v);break;case"b":i[2]="vt"+(n.f?"f":"c"),i[3]="nl",i[4]=n.v?"1":"0",i[5]=t(n.f||(n.v?"TRUE":"FALSE"));break;case"d":var u=Ft(Ut(n.v));i[2]="vtc",i[3]="nd",i[4]=""+u,i[5]=n.w||xt(n.z||z[14],u);break;case"e":continue}r.push(i.join(":"))}return r.push("sheet:c:"+(o.e.c-o.s.c+1)+":r:"+(o.e.r-o.s.r+1)+":tvf:1"),r.push("valueformat:1:text-wiki"),r.join("\n")}return{to_workbook:function(t,n){return zn(e(t,n),n)},to_sheet:e,from_sheet:function(t){return[n,r,i,r,o(t),a].join("\n")}}}(),Pi=function(){function t(t,e,n,r,i){i.raw?e[n][r]=t:""===t||("TRUE"===t?e[n][r]=!0:"FALSE"===t?e[n][r]=!1:isNaN(Gt(t))?isNaN(Yt(t).getDate())?e[n][r]=t:e[n][r]=Ut(t):e[n][r]=Gt(t))}var e={44:",",9:"\t",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function r(t){for(var r={},i=!1,a=0,o=0;a<t.length;++a)34==(o=t.charCodeAt(a))?i=!i:!i&&o in e&&(r[o]=(r[o]||0)+1);for(a in o=[],r)Object.prototype.hasOwnProperty.call(r,a)&&o.push([r[a],a]);if(!o.length)for(a in r=n)Object.prototype.hasOwnProperty.call(r,a)&&o.push([r[a],a]);return o.sort((function(t,e){return t[0]-e[0]||n[t[1]]-n[e[1]]})),e[o.pop()[1]]||44}function i(t,e){var n=e||{},i="";null!=y&&null==n.dense&&(n.dense=y);var a=n.dense?[]:{},o={s:{c:0,r:0},e:{c:0,r:0}};"sep="==t.slice(0,4)?13==t.charCodeAt(5)&&10==t.charCodeAt(6)?(i=t.charAt(4),t=t.slice(7)):13==t.charCodeAt(5)||10==t.charCodeAt(5)?(i=t.charAt(4),t=t.slice(6)):i=r(t.slice(0,1024)):i=n&&n.FS?n.FS:r(t.slice(0,1024));var s=0,l=0,c=0,u=0,h=0,f=i.charCodeAt(0),p=!1,d=0,g=t.charCodeAt(0);t=t.replace(/\r\n/gm,"\n");var v=null!=n.dateNF?function(t){var e="number"==typeof t?z[t]:t;return e=e.replace(Ct,"(\\d+)"),new RegExp("^"+e+"$")}(n.dateNF):null;function m(){var e=t.slice(u,h),r={};if('"'==e.charAt(0)&&'"'==e.charAt(e.length-1)&&(e=e.slice(1,-1).replace(/""/g,'"')),0===e.length)r.t="z";else if(n.raw)r.t="s",r.v=e;else if(0===e.trim().length)r.t="s",r.v=e;else if(61==e.charCodeAt(0))34==e.charCodeAt(1)&&34==e.charCodeAt(e.length-1)?(r.t="s",r.v=e.slice(2,-1).replace(/""/g,'"')):1!=e.length?(r.t="n",r.f=e.slice(1)):(r.t="s",r.v=e);else if("TRUE"==e)r.t="b",r.v=!0;else if("FALSE"==e)r.t="b",r.v=!1;else if(isNaN(c=Gt(e)))if(!isNaN(Yt(e).getDate())||v&&e.match(v)){r.z=n.dateNF||z[14];var i=0;v&&e.match(v)&&(e=function(t,e,n){var r=-1,i=-1,a=-1,o=-1,s=-1,l=-1;(e.match(Ct)||[]).forEach((function(t,e){var c=parseInt(n[e+1],10);switch(t.toLowerCase().charAt(0)){case"y":r=c;break;case"d":a=c;break;case"h":o=c;break;case"s":l=c;break;case"m":o>=0?s=c:i=c}})),l>=0&&-1==s&&i>=0&&(s=i,i=-1);var c=(""+(r>=0?r:(new Date).getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);7==c.length&&(c="0"+c),8==c.length&&(c="20"+c);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return-1==o&&-1==s&&-1==l?c:-1==r&&-1==i&&-1==a?u:c+"T"+u}(0,n.dateNF,e.match(v)||[]),i=1),n.cellDates?(r.t="d",r.v=Ut(e,i)):(r.t="n",r.v=Ft(Ut(e,i))),!1!==n.cellText&&(r.w=xt(r.z,r.v instanceof Date?Ft(r.v):r.v)),n.cellNF||delete r.z}else r.t="s",r.v=e;else r.t="n",!1!==n.cellText&&(r.w=e),r.v=c;if("z"==r.t||(n.dense?(a[s]||(a[s]=[]),a[s][l]=r):a[Ln({c:l,r:s})]=r),u=h+1,g=t.charCodeAt(u),o.e.c<l&&(o.e.c=l),o.e.r<s&&(o.e.r=s),d==f)++l;else if(l=0,++s,n.sheetRows&&n.sheetRows<=s)return!0}t:for(;h<t.length;++h)switch(d=t.charCodeAt(h)){case 34:34===g&&(p=!p);break;case f:case 10:case 13:if(!p&&m())break t}return h-u>0&&m(),a["!ref"]=Bn(o),a}function a(e,n){return n&&n.PRN?n.FS||"sep="==e.slice(0,4)||e.indexOf("\t")>=0||e.indexOf(",")>=0||e.indexOf(";")>=0?i(e,n):Vn(function(e,n){var r=n||{},i=[];if(!e||0===e.length)return i;for(var a=e.split(/[\r\n]/),o=a.length-1;o>=0&&0===a[o].length;)--o;for(var s=10,l=0,c=0;c<=o;++c)-1==(l=a[c].indexOf(" "))?l=a[c].length:l++,s=Math.max(s,l);for(c=0;c<=o;++c){i[c]=[];var u=0;for(t(a[c].slice(0,s).trim(),i,c,u,r),u=1;u<=(a[c].length-s)/10+1;++u)t(a[c].slice(s+10*(u-1),s+10*u).trim(),i,c,u,r)}return r.sheetRows&&(i=i.slice(0,r.sheetRows)),i}(e,n),n):i(e,n)}function o(t,e){var n="",r="string"==e.type?[0,0,0,0]:Al(t,e);switch(e.type){case"base64":n=b(t);break;case"binary":case"string":n=t;break;case"buffer":n=65001==e.codepage?t.toString("utf8"):e.codepage&&"undefined"!==typeof p?p.utils.decode(e.codepage,t):w&&Buffer.isBuffer(t)?t.toString("binary"):k(t);break;case"array":n=zt(t);break;default:throw new Error("Unrecognized type "+e.type)}return 239==r[0]&&187==r[1]&&191==r[2]?n=Te(n.slice(3)):"string"!=e.type&&"buffer"!=e.type&&65001==e.codepage?n=Te(n):"binary"==e.type&&"undefined"!==typeof p&&e.codepage&&(n=p.utils.decode(e.codepage,p.utils.encode(28591,n))),"socialcalc:version:"==n.slice(0,19)?Ii.to_sheet("string"==e.type?n:Te(n),e):a(n,e)}return{to_workbook:function(t,e){return zn(o(t,e),e)},to_sheet:o,from_sheet:function(t){for(var e,n=[],r=_n(t["!ref"]),i=Array.isArray(t),a=r.s.r;a<=r.e.r;++a){for(var o=[],s=r.s.c;s<=r.e.c;++s){var l=Ln({r:a,c:s});if((e=i?(t[a]||[])[s]:t[l])&&null!=e.v){for(var c=(e.w||(Un(e),e.w)||"").slice(0,10);c.length<10;)c+=" ";o.push(c+(0===s?" ":""))}else o.push("          ")}n.push(o.join(""))}return n.join("\n")}}}();var Di=function(){function t(t,e,n){if(t){bn(t,t.l||0);for(var r=n.Enum||x;t.l<t.length;){var i=t.read_shift(2),a=r[i]||r[65535],o=t.read_shift(2),s=t.l+o,l=a.f&&a.f(t,o,n);if(t.l=s,e(l,a,i))return}}}function e(e,n){if(!e)return e;var r=n||{};null!=y&&null==r.dense&&(r.dense=y);var i=r.dense?[]:{},a="Sheet1",o="",s=0,l={},c=[],u=[],h={s:{r:0,c:0},e:{r:0,c:0}},f=r.sheetRows||0;if(0==e[2]&&(8==e[3]||9==e[3])&&e.length>=16&&5==e[14]&&108===e[15])throw new Error("Unsupported Works 3 for Mac file");if(2==e[2])r.Enum=x,t(e,(function(t,e,n){switch(n){case 0:r.vers=t,t>=4096&&(r.qpro=!0);break;case 6:h=t;break;case 204:t&&(o=t);break;case 222:o=t;break;case 15:case 51:r.qpro||(t[1].v=t[1].v.slice(1));case 13:case 14:case 16:14==n&&112==(112&t[2])&&(15&t[2])>1&&(15&t[2])<15&&(t[1].z=r.dateNF||z[14],r.cellDates&&(t[1].t="d",t[1].v=Lt(t[1].v))),r.qpro&&t[3]>s&&(i["!ref"]=Bn(h),l[a]=i,c.push(a),i=r.dense?[]:{},h={s:{r:0,c:0},e:{r:0,c:0}},s=t[3],a=o||"Sheet"+(s+1),o="");var u=r.dense?(i[t[0].r]||[])[t[0].c]:i[Ln(t[0])];if(u){u.t=t[1].t,u.v=t[1].v,null!=t[1].z&&(u.z=t[1].z),null!=t[1].f&&(u.f=t[1].f);break}r.dense?(i[t[0].r]||(i[t[0].r]=[]),i[t[0].r][t[0].c]=t[1]):i[Ln(t[0])]=t[1]}}),r);else{if(26!=e[2]&&14!=e[2])throw new Error("Unrecognized LOTUS BOF "+e[2]);r.Enum=w,14==e[2]&&(r.qpro=!0,e.l=0),t(e,(function(t,e,n){switch(n){case 204:a=t;break;case 22:t[1].v=t[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(t[3]>s&&(i["!ref"]=Bn(h),l[a]=i,c.push(a),i=r.dense?[]:{},h={s:{r:0,c:0},e:{r:0,c:0}},s=t[3],a="Sheet"+(s+1)),f>0&&t[0].r>=f)break;r.dense?(i[t[0].r]||(i[t[0].r]=[]),i[t[0].r][t[0].c]=t[1]):i[Ln(t[0])]=t[1],h.e.c<t[0].c&&(h.e.c=t[0].c),h.e.r<t[0].r&&(h.e.r=t[0].r);break;case 27:t[14e3]&&(u[t[14e3][0]]=t[14e3][1]);break;case 1537:u[t[0]]=t[1],t[0]==s&&(a=t[1])}}),r)}if(i["!ref"]=Bn(h),l[o||a]=i,c.push(o||a),!u.length)return{SheetNames:c,Sheets:l};for(var p={},d=[],g=0;g<u.length;++g)l[c[g]]?(d.push(u[g]||c[g]),p[u[g]]=l[u[g]]||l[c[g]]):(d.push(u[g]),p[u[g]]={"!ref":"A1"});return{SheetNames:d,Sheets:p}}function n(t,e,n){var r=[{c:0,r:0},{t:"n",v:0},0,0];return n.qpro&&20768!=n.vers?(r[0].c=t.read_shift(1),r[3]=t.read_shift(1),r[0].r=t.read_shift(2),t.l+=2):(r[2]=t.read_shift(1),r[0].c=t.read_shift(2),r[0].r=t.read_shift(2)),r}function r(t,e,r){var i=t.l+e,a=n(t,0,r);if(a[1].t="s",20768==r.vers){t.l++;var o=t.read_shift(1);return a[1].v=t.read_shift(o,"utf8"),a}return r.qpro&&t.l++,a[1].v=t.read_shift(i-t.l,"cstr"),a}function i(t,e,n){var r=Sn(7+n.length);r.write_shift(1,255),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(1,39);for(var i=0;i<r.length;++i){var a=n.charCodeAt(i);r.write_shift(1,a>=128?95:a)}return r.write_shift(1,0),r}function a(t,e,n){var r=Sn(7);return r.write_shift(1,255),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,n,"i"),r}function o(t,e,n){var r=Sn(13);return r.write_shift(1,255),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(8,n,"f"),r}function s(t,e,n){var r=32768&e;return e=(r?t:0)+((e&=-32769)>=8192?e-16384:e),(r?"":"$")+(n?Pn(e):Fn(e))}var l={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},u=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function h(t){var e=[{c:0,r:0},{t:"n",v:0},0];return e[0].r=t.read_shift(2),e[3]=t[t.l++],e[0].c=t[t.l++],e}function f(t,e,n,r){var i=Sn(6+r.length);i.write_shift(2,t),i.write_shift(1,n),i.write_shift(1,e),i.write_shift(1,39);for(var a=0;a<r.length;++a){var o=r.charCodeAt(a);i.write_shift(1,o>=128?95:o)}return i.write_shift(1,0),i}function p(t,e){var n=h(t),r=t.read_shift(4),i=t.read_shift(4),a=t.read_shift(2);if(65535==a)return 0===r&&3221225472===i?(n[1].t="e",n[1].v=15):0===r&&3489660928===i?(n[1].t="e",n[1].v=42):n[1].v=0,n;var o=32768&a;return a=(32767&a)-16446,n[1].v=(1-2*o)*(i*Math.pow(2,a+32)+r*Math.pow(2,a)),n}function d(t,e,n,r){var i=Sn(14);if(i.write_shift(2,t),i.write_shift(1,n),i.write_shift(1,e),0==r)return i.write_shift(4,0),i.write_shift(4,0),i.write_shift(2,65535),i;var a,o=0,s=0,l=0;return r<0&&(o=1,r=-r),s=0|Math.log2(r),0==(2147483648&(l=(r/=Math.pow(2,s-31))>>>0))&&(++s,l=(r/=2)>>>0),r-=l,l|=2147483648,l>>>=0,a=(r*=Math.pow(2,32))>>>0,i.write_shift(4,a),i.write_shift(4,l),s+=16383+(o?32768:0),i.write_shift(2,s),i}function g(t,e){var n=h(t),r=t.read_shift(8,"f");return n[1].v=r,n}function v(t,e){return 0==t[t.l+e-1]?t.read_shift(e,"cstr"):""}function m(t,e){var n=Sn(5+t.length);n.write_shift(2,14e3),n.write_shift(2,e);for(var r=0;r<t.length;++r){var i=t.charCodeAt(r);n[n.l++]=i>127?95:i}return n[n.l++]=0,n}var x={0:{n:"BOF",f:Yr},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function(t,e,n){var r={s:{c:0,r:0},e:{c:0,r:0}};return 8==e&&n.qpro?(r.s.c=t.read_shift(1),t.l++,r.s.r=t.read_shift(2),r.e.c=t.read_shift(1),t.l++,r.e.r=t.read_shift(2),r):(r.s.c=t.read_shift(2),r.s.r=t.read_shift(2),12==e&&n.qpro&&(t.l+=2),r.e.c=t.read_shift(2),r.e.r=t.read_shift(2),12==e&&n.qpro&&(t.l+=2),65535==r.s.c&&(r.s.c=r.e.c=r.s.r=r.e.r=0),r)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function(t,e,r){var i=n(t,0,r);return i[1].v=t.read_shift(2,"i"),i}},14:{n:"NUMBER",f:function(t,e,r){var i=n(t,0,r);return i[1].v=t.read_shift(8,"f"),i}},15:{n:"LABEL",f:r},16:{n:"FORMULA",f:function(t,e,r){var i=t.l+e,a=n(t,0,r);if(a[1].v=t.read_shift(8,"f"),r.qpro)t.l=i;else{var o=t.read_shift(2);!function(t,e){bn(t,0);var n=[],r=0,i="",a="",o="",c="";for(;t.l<t.length;){var h=t[t.l++];switch(h){case 0:n.push(t.read_shift(8,"f"));break;case 1:a=s(e[0].c,t.read_shift(2),!0),i=s(e[0].r,t.read_shift(2),!1),n.push(a+i);break;case 2:var f=s(e[0].c,t.read_shift(2),!0),p=s(e[0].r,t.read_shift(2),!1);a=s(e[0].c,t.read_shift(2),!0),i=s(e[0].r,t.read_shift(2),!1),n.push(f+p+":"+a+i);break;case 3:if(t.l<t.length)return void console.error("WK1 premature formula end");break;case 4:n.push("("+n.pop()+")");break;case 5:n.push(t.read_shift(2));break;case 6:for(var d="";h=t[t.l++];)d+=String.fromCharCode(h);n.push('"'+d.replace(/"/g,'""')+'"');break;case 8:n.push("-"+n.pop());break;case 23:n.push("+"+n.pop());break;case 22:n.push("NOT("+n.pop()+")");break;case 20:case 21:c=n.pop(),o=n.pop(),n.push(["AND","OR"][h-20]+"("+o+","+c+")");break;default:if(h<32&&u[h])c=n.pop(),o=n.pop(),n.push(o+u[h]+c);else{if(!l[h])return h<=7?console.error("WK1 invalid opcode "+h.toString(16)):h<=24?console.error("WK1 unsupported op "+h.toString(16)):h<=30?console.error("WK1 invalid opcode "+h.toString(16)):h<=115?console.error("WK1 unsupported function opcode "+h.toString(16)):console.error("WK1 unrecognized opcode "+h.toString(16));if(69==(r=l[h][1])&&(r=t[t.l++]),r>n.length)return void console.error("WK1 bad formula parse 0x"+h.toString(16)+":|"+n.join("|")+"|");var g=n.slice(-r);n.length-=r,n.push(l[h][0]+"("+g.join(",")+")")}}}1==n.length?e[1].f=""+n[0]:console.error("WK1 bad formula parse |"+n.join("|")+"|")}(t.slice(t.l,t.l+o),a),t.l+=o}return a}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:r},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:v},222:{n:"SHEETNAMELP",f:function(t,e){var n=t[t.l++];n>e-1&&(n=e-1);for(var r="";r.length<n;)r+=String.fromCharCode(t[t.l++]);return r}},65535:{n:""}},w={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function(t,e){var n=h(t);return n[1].t="s",n[1].v=t.read_shift(e-4,"cstr"),n}},23:{n:"NUMBER17",f:p},24:{n:"NUMBER18",f:function(t,e){var n=h(t);n[1].v=t.read_shift(2);var r=n[1].v>>1;if(1&n[1].v)switch(7&r){case 0:r=5e3*(r>>3);break;case 1:r=500*(r>>3);break;case 2:r=(r>>3)/20;break;case 3:r=(r>>3)/200;break;case 4:r=(r>>3)/2e3;break;case 5:r=(r>>3)/2e4;break;case 6:r=(r>>3)/16;break;case 7:r=(r>>3)/64}return n[1].v=r,n}},25:{n:"FORMULA19",f:function(t,e){var n=p(t);return t.l+=e-14,n}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function(t,e){for(var n={},r=t.l+e;t.l<r;){var i=t.read_shift(2);if(14e3==i){for(n[i]=[0,""],n[i][0]=t.read_shift(2);t[t.l];)n[i][1]+=String.fromCharCode(t[t.l]),t.l++;t.l++}}return n}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function(t,e){var n=h(t),r=t.read_shift(4);return n[1].v=r>>6,n}},38:{n:"??"},39:{n:"NUMBER27",f:g},40:{n:"FORMULA28",f:function(t,e){var n=g(t);return t.l+=e-10,n}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:v},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function(t,e,n){if(n.qpro&&!(e<21)){var r=t.read_shift(1);return t.l+=17,t.l+=1,t.l+=2,[r,t.read_shift(e-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function(t,e){var n=e||{};if(+n.codepage>=0&&c(+n.codepage),"string"==n.type)throw new Error("Cannot write WK1 to JS string");var r=Tn(),s=_n(t["!ref"]),l=Array.isArray(t),u=[];Vs(r,0,function(t){var e=Sn(2);return e.write_shift(2,t),e}(1030)),Vs(r,6,function(t){var e=Sn(8);return e.write_shift(2,t.s.c),e.write_shift(2,t.s.r),e.write_shift(2,t.e.c),e.write_shift(2,t.e.r),e}(s));for(var h=Math.min(s.e.r,8191),f=s.s.r;f<=h;++f)for(var p=Fn(f),d=s.s.c;d<=s.e.c;++d){f===s.s.r&&(u[d]=Pn(d));var g=u[d]+p,v=l?(t[f]||[])[d]:t[g];if(v&&"z"!=v.t)if("n"==v.t)(0|v.v)==v.v&&v.v>=-32768&&v.v<=32767?Vs(r,13,a(f,d,v.v)):Vs(r,14,o(f,d,v.v));else Vs(r,15,i(f,d,Un(v).slice(0,239)))}return Vs(r,1),r.end()},book_to_wk3:function(t,e){var n=e||{};if(+n.codepage>=0&&c(+n.codepage),"string"==n.type)throw new Error("Cannot write WK3 to JS string");var r=Tn();Vs(r,0,function(t){var e=Sn(26);e.write_shift(2,4096),e.write_shift(2,4),e.write_shift(4,0);for(var n=0,r=0,i=0,a=0;a<t.SheetNames.length;++a){var o=t.SheetNames[a],s=t.Sheets[o];if(s&&s["!ref"]){++i;var l=Rn(s["!ref"]);n<l.e.r&&(n=l.e.r),r<l.e.c&&(r=l.e.c)}}n>8191&&(n=8191);return e.write_shift(2,n),e.write_shift(1,i),e.write_shift(1,r),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(1,1),e.write_shift(1,2),e.write_shift(4,0),e.write_shift(4,0),e}(t));for(var i=0,a=0;i<t.SheetNames.length;++i)(t.Sheets[t.SheetNames[i]]||{})["!ref"]&&Vs(r,27,m(t.SheetNames[i],a++));var o=0;for(i=0;i<t.SheetNames.length;++i){var s=t.Sheets[t.SheetNames[i]];if(s&&s["!ref"]){for(var l=_n(s["!ref"]),u=Array.isArray(s),h=[],p=Math.min(l.e.r,8191),g=l.s.r;g<=p;++g)for(var v=Fn(g),y=l.s.c;y<=l.e.c;++y){g===l.s.r&&(h[y]=Pn(y));var x=h[y]+v,b=u?(s[g]||[])[y]:s[x];if(b&&"z"!=b.t)if("n"==b.t)Vs(r,23,d(g,y,o,b.v));else Vs(r,22,f(g,y,o,Un(b).slice(0,239)))}++o}}return Vs(r,1),r.end()},to_workbook:function(t,n){switch(n.type){case"base64":return e(E(b(t)),n);case"binary":return e(E(t),n);case"buffer":case"array":return e(t,n)}throw"Unsupported type "+n.type}}}();var Li=function(){var t=ke("t"),e=ke("rPr");function n(n){var r=n.match(t);if(!r)return{t:"s",v:""};var i={t:"s",v:de(r[1])},a=n.match(e);return a&&(i.s=function(t){var e={},n=t.match(se),r=0,i=!1;if(n)for(;r!=n.length;++r){var a=ue(n[r]);switch(a[0].replace(/\w*:/g,"")){case"<condense":case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if("1"==a.val)break;e.cp=s[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=a.val;break;case"<sz":e.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting"}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if("0"==a.val)break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if("0"==a.val)break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":a.rgb&&(e.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":case"<scheme":case"<scheme>":case"<scheme/>":case"</scheme>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(47!==a[0].charCodeAt(1)&&!i)throw new Error("Unrecognized rich format "+a[0])}}return e}(a[1])),i}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(t){return t.replace(r,"").split(i).map(n).filter((function(t){return t.v}))}}(),Ri=function(){var t=/(\r\n|\n)/g;function e(e){var n=[[],e.v,[]];return e.v?(e.s&&function(t,e,n){var r=[];t.u&&r.push("text-decoration: underline;"),t.uval&&r.push("text-underline-style:"+t.uval+";"),t.sz&&r.push("font-size:"+t.sz+"pt;"),t.outline&&r.push("text-effect: outline;"),t.shadow&&r.push("text-shadow: auto;"),e.push('<span style="'+r.join("")+'">'),t.b&&(e.push("<b>"),n.push("</b>")),t.i&&(e.push("<i>"),n.push("</i>")),t.strike&&(e.push("<s>"),n.push("</s>"));var i=t.valign||"";"superscript"==i||"super"==i?i="sup":"subscript"==i&&(i="sub"),""!=i&&(e.push("<"+i+">"),n.push("</"+i+">")),n.push("</span>")}(e.s,n[0],n[2]),n[0].join("")+n[1].replace(t,"<br/>")+n[2].join("")):""}return function(t){return t.map(e).join("")}}(),Bi=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,_i=/<(?:\w+:)?r>/,Ni=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Ui(t,e){var n=!e||e.cellHTML,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=de(Te(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=Te(t),n&&(r.h=ye(r.t))):t.match(_i)&&(r.r=Te(t),r.t=de(Te((t.replace(Ni,"").match(Bi)||[]).join("").replace(se,""))),n&&(r.h=Ri(Li(r.r)))),r):{t:""}}var zi=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Hi=/<(?:\w+:)?(?:si|sstItem)>/g,Vi=/<\/(?:\w+:)?(?:si|sstItem)>/;function Gi(t){if("undefined"!==typeof p)return p.utils.encode(a,t);for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function Wi(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function Yi(t){for(var e=t.read_shift(4),n=t.l+e-4,r={},i=t.read_shift(4),a=[];i-- >0;)a.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=a,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return r}function ji(t){var e=function(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=Wi(t,4),e.U=Wi(t,4),e.W=Wi(t,4),e}(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),4!=t.read_shift(4))throw new Error("Bad !Primary record");return e}function Xi(t,e){var n=t.l+e,r={};r.Flags=63&t.read_shift(4),t.l+=4,r.AlgID=t.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=36==r.Flags;break;case 26625:i=4==r.Flags;break;case 0:i=16==r.Flags||4==r.Flags||36==r.Flags;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,r}function $i(t,e){var n={},r=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,r),t.l=r,n}function qi(t){if(36!=(63&t.read_shift(4)))throw new Error("EncryptionInfo mismatch");var e=t.read_shift(4);return{t:"Std",h:Xi(t,e),v:$i(t,t.length-t.l)}}function Zi(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Ki(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),r={};return n.replace(se,(function(t){var n=ue(t);switch(he(n[0])){case"<?xml":case"<encryption":case"</encryption>":case"</keyEncryptors>":case"</keyEncryptor>":break;case"<keyData":e.forEach((function(t){r[t]=n[t]}));break;case"<dataIntegrity":r.encryptedHmacKey=n.encryptedHmacKey,r.encryptedHmacValue=n.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"<keyEncryptor":r.uri=n.uri;break;case"<encryptedKey":r.encs.push(n);break;default:throw n[0]}})),r}function Ji(t){var e,n,r=0,i=Gi(t),a=i.length+1;for((e=C(a))[0]=i.length,n=1;n!=a;++n)e[n]=i[n-1];for(n=a-1;n>=0;--n)r=((0===(16384&r)?0:1)|r<<1&32767)^e[n];return 52811^r}var Qi=function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(t,e){return 255&((n=t^e)/2|128*n);var n};return function(i){for(var a,o,s,l=Gi(i),c=function(t){for(var r=e[t.length-1],i=104,a=t.length-1;a>=0;--a)for(var o=t[a],s=0;7!=s;++s)64&o&&(r^=n[i]),o*=2,--i;return r}(l),u=l.length,h=C(16),f=0;16!=f;++f)h[f]=0;for(1===(1&u)&&(a=c>>8,h[u]=r(t[0],a),--u,a=255&c,o=l[l.length-1],h[u]=r(o,a));u>0;)a=c>>8,h[--u]=r(l[u],a),a=255&c,h[--u]=r(l[u],a);for(u=15,s=15-l.length;s>0;)a=c>>8,h[u]=r(t[s],a),--s,a=255&c,h[--u]=r(l[u],a),--u,--s;return h}}(),ta=function(t){var e=0,n=Qi(t);return function(t){var r=function(t,e,n,r,i){var a,o;for(i||(i=e),r||(r=Qi(t)),a=0;a!=e.length;++a)o=e[a],o=255&((o^=r[n])>>5|o<<3),i[a]=o,++n;return[i,n,r]}("",t,e,n);return e=r[1],r[0]}};function ea(t,e,n){var r=n||{};return r.Info=t.read_shift(2),t.l-=2,1===r.Info?r.Data=function(t){var e={},n=e.EncryptionVersionInfo=Wi(t,4);if(1!=n.Major||1!=n.Minor)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}(t):r.Data=function(t,e){var n={},r=n.EncryptionVersionInfo=Wi(t,4);if(e-=4,2!=r.Minor)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,n.EncryptionHeader=Xi(t,i),e-=i,n.EncryptionVerifier=$i(t,e),n}(t,e),r}var na=function(){function t(t,n){switch(n.type){case"base64":return e(b(t),n);case"binary":return e(t,n);case"buffer":return e(w&&Buffer.isBuffer(t)?t.toString("binary"):k(t),n);case"array":return e(zt(t),n)}throw new Error("Unrecognized type "+n.type)}function e(t,e){var n=(e||{}).dense?[]:{},r=t.match(/\\trowd.*?\\row\b/g);if(!r.length)throw new Error("RTF missing table");var i={s:{c:0,r:0},e:{c:0,r:r.length-1}};return r.forEach((function(t,e){Array.isArray(n)&&(n[e]=[]);for(var r,a=/\\\w+\b/g,o=0,s=-1;r=a.exec(t);){if("\\cell"===r[0]){var l=t.slice(o,a.lastIndex-r[0].length);if(" "==l[0]&&(l=l.slice(1)),++s,l.length){var c={v:l,t:"s"};Array.isArray(n)?n[e][s]=c:n[Ln({r:e,c:s})]=c}}o=a.lastIndex}s>i.e.c&&(i.e.c=s)})),n["!ref"]=Bn(i),n}return{to_workbook:function(e,n){return zn(t(e,n),n)},to_sheet:t,from_sheet:function(t){for(var e,n=["{\\rtf1\\ansi"],r=_n(t["!ref"]),i=Array.isArray(t),a=r.s.r;a<=r.e.r;++a){n.push("\\trowd\\trautofit1");for(var o=r.s.c;o<=r.e.c;++o)n.push("\\cellx"+(o+1));for(n.push("\\pard\\intbl"),o=r.s.c;o<=r.e.c;++o){var s=Ln({r:a,c:o});(e=i?(t[a]||[])[o]:t[s])&&(null!=e.v||e.f&&!e.F)&&(n.push(" "+(e.w||(Un(e),e.w))),n.push("\\cell"))}n.push("\\pard\\intbl\\row")}return n.join("")+"}"}}}();function ra(t){for(var e=0,n=1;3!=e;++e)n=256*n+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function ia(t,e){if(0===e)return t;var n=function(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(e,n,r),a=Math.min(e,n,r),o=i-a;if(0===o)return[0,0,e];var s,l=0,c=i+a;switch(s=o/(c>1?2-c:c),i){case e:l=((n-r)/o+6)%6;break;case n:l=(r-e)/o+2;break;case r:l=(e-n)/o+4}return[l/6,s,c/2]}(function(t){var e=t.slice("#"===t[0]?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}(t));return n[2]=e<0?n[2]*(1+e):1-(1-n[2])*(1-e),ra(function(t){var e,n=t[0],r=t[1],i=t[2],a=2*r*(i<.5?i:1-i),o=i-a/2,s=[o,o,o],l=6*n;if(0!==r)switch(0|l){case 0:case 6:e=a*l,s[0]+=a,s[1]+=e;break;case 1:e=a*(2-l),s[0]+=e,s[1]+=a;break;case 2:e=a*(l-2),s[1]+=a,s[2]+=e;break;case 3:e=a*(4-l),s[1]+=e,s[2]+=a;break;case 4:e=a*(l-4),s[2]+=a,s[0]+=e;break;case 5:e=a*(6-l),s[2]+=e,s[0]+=a}for(var c=0;3!=c;++c)s[c]=Math.round(255*s[c]);return s}(n))}var aa=6,oa=15,sa=1,la=aa;function ca(t){return Math.floor((t+Math.round(128/la)/256)*la)}function ua(t){return Math.floor((t-5)/la*100+.5)/100}function ha(t){return Math.round((t*la+5)/la*256)/256}function fa(t){return ha(ua(ca(t)))}function pa(t){var e=Math.abs(t-fa(t)),n=la;if(e>.005)for(la=sa;la<oa;++la)Math.abs(t-fa(t))<=e&&(e=Math.abs(t-fa(t)),n=la);la=n}function da(t){t.width?(t.wpx=ca(t.width),t.wch=ua(t.wpx),t.MDW=la):t.wpx?(t.wch=ua(t.wpx),t.width=ha(t.wch),t.MDW=la):"number"==typeof t.wch&&(t.width=ha(t.wch),t.wpx=ca(t.width),t.MDW=la),t.customWidth&&delete t.customWidth}var ga=96;function va(t){return 96*t/ga}function ya(t){return t*ga/96}var ma={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};var xa=["numFmtId","fillId","fontId","borderId","xfId"],ba=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];var wa=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,e=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,r=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(a,o,l){var c,u={};return a?((c=(a=a.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"")).match(t))&&function(t,e,n){e.NumberFmt=[];for(var r=Mt(z),i=0;i<r.length;++i)e.NumberFmt[r[i]]=z[r[i]];var a=t[0].match(se);if(a)for(i=0;i<a.length;++i){var o=ue(a[i]);switch(he(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":case"</numFmt>":break;case"<numFmt":var s=de(Te(o.formatCode)),l=parseInt(o.numFmtId,10);if(e.NumberFmt[l]=s,l>0){if(l>392){for(l=392;l>60&&null!=e.NumberFmt[l];--l);e.NumberFmt[l]=s}bt(s,l)}break;default:if(n.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}(c,u,l),(c=a.match(r))&&function(t,e,n,r){e.Fonts=[];var i={},a=!1;(t[0].match(se)||[]).forEach((function(t){var o=ue(t);switch(he(o[0])){case"<fonts":case"<fonts>":case"</fonts>":case"<font":case"<font>":case"<name/>":case"</name>":case"<sz/>":case"</sz>":case"<vertAlign/>":case"</vertAlign>":case"<family/>":case"</family>":case"<scheme/>":case"</scheme>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=Te(o.val));break;case"<b":i.bold=o.val?xe(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?xe(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?xe(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?xe(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?xe(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?xe(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?xe(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<charset":if("1"==o.val)break;o.codepage=s[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=xe(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=gr[i.color.index];81==i.color.index&&(l=gr[1]),l||(l=gr[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=ia(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<AlternateContent":case"<ext":a=!0;break;case"</AlternateContent>":case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fonts")}}))}(c,u,o,l),(c=a.match(n))&&function(t,e,n,r){e.Fills=[];var i={},a=!1;(t[0].match(se)||[]).forEach((function(t){var n=ue(t);switch(he(n[0])){case"<fills":case"<fills>":case"</fills>":case"</fill>":case"<gradientFill>":case"<patternFill/>":case"</patternFill>":case"<bgColor/>":case"</bgColor>":case"<fgColor/>":case"</fgColor>":case"<stop":case"<stop/>":case"</stop>":case"<color":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":n.patternType&&(i.patternType=n.patternType);break;case"<bgColor":i.bgColor||(i.bgColor={}),n.indexed&&(i.bgColor.indexed=parseInt(n.indexed,10)),n.theme&&(i.bgColor.theme=parseInt(n.theme,10)),n.tint&&(i.bgColor.tint=parseFloat(n.tint)),n.rgb&&(i.bgColor.rgb=n.rgb.slice(-6));break;case"<fgColor":i.fgColor||(i.fgColor={}),n.theme&&(i.fgColor.theme=parseInt(n.theme,10)),n.tint&&(i.fgColor.tint=parseFloat(n.tint)),null!=n.rgb&&(i.fgColor.rgb=n.rgb.slice(-6));break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+n[0]+" in fills")}}))}(c,u,0,l),(c=a.match(i))&&function(t,e,n,r){e.Borders=[];var i={},a=!1;(t[0].match(se)||[]).forEach((function(t){var n=ue(t);switch(he(n[0])){case"<borders":case"<borders>":case"</borders>":case"</border>":case"<left/>":case"<left":case"<left>":case"</left>":case"<right/>":case"<right":case"<right>":case"</right>":case"<top/>":case"<top":case"<top>":case"</top>":case"<bottom/>":case"<bottom":case"<bottom>":case"</bottom>":case"<diagonal":case"<diagonal>":case"<diagonal/>":case"</diagonal>":case"<horizontal":case"<horizontal>":case"<horizontal/>":case"</horizontal>":case"<vertical":case"<vertical>":case"<vertical/>":case"</vertical>":case"<start":case"<start>":case"<start/>":case"</start>":case"<end":case"<end>":case"<end/>":case"</end>":case"<color":case"<color>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<border":case"<border>":case"<border/>":i={},n.diagonalUp&&(i.diagonalUp=xe(n.diagonalUp)),n.diagonalDown&&(i.diagonalDown=xe(n.diagonalDown)),e.Borders.push(i);break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+n[0]+" in borders")}}))}(c,u,0,l),(c=a.match(e))&&function(t,e,n){var r;e.CellXf=[];var i=!1;(t[0].match(se)||[]).forEach((function(t){var a=ue(t),o=0;switch(he(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":case"</xf>":case"</alignment>":case"<protection":case"</protection>":case"<protection/>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<xf":case"<xf/>":for(delete(r=a)[0],o=0;o<xa.length;++o)r[xa[o]]&&(r[xa[o]]=parseInt(r[xa[o]],10));for(o=0;o<ba.length;++o)r[ba[o]]&&(r[ba[o]]=xe(r[ba[o]]));if(e.NumberFmt&&r.numFmtId>392)for(o=392;o>60;--o)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[o]){r.numFmtId=o;break}e.CellXf.push(r);break;case"<alignment":case"<alignment/>":var s={};a.vertical&&(s.vertical=a.vertical),a.horizontal&&(s.horizontal=a.horizontal),null!=a.textRotation&&(s.textRotation=a.textRotation),a.indent&&(s.indent=a.indent),a.wrapText&&(s.wrapText=xe(a.wrapText)),r.alignment=s;break;case"<AlternateContent":case"<ext":i=!0;break;case"</AlternateContent>":case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}}))}(c,u,l),u):u}}();var Sa=wn;var Ca=wn;var Ta=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Ea(t,e,n){e.themeElements.clrScheme=[];var r={};(t[0].match(se)||[]).forEach((function(t){var i=ue(t);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=i.val;break;case"<a:sysClr":r.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":"/"===i[0].charAt(1)?(e.themeElements.clrScheme[Ta.indexOf(i[0])]=r,r={}):r.name=i[0].slice(3,i[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}}))}function ka(){}function Ma(){}var Aa=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Oa=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Fa=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;var Ia=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Pa(t,e){var n;t&&0!==t.length||(t=Da());var r={};if(!(n=t.match(Ia)))throw new Error("themeElements not found in theme");return function(t,e,n){var r;e.themeElements={},[["clrScheme",Aa,Ea],["fontScheme",Oa,ka],["fmtScheme",Fa,Ma]].forEach((function(i){if(!(r=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,n)}))}(n[0],r,e),r.raw=t,r}function Da(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&"string"==typeof t.raw)return t.raw;var n=[ie];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',n[n.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',n[n.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',n[n.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',n[n.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',n[n.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',n[n.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function La(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:case 4:t.l+=4;break;case 1:e.xclrValue=function(t,e){return wn(t,e)}(t,4);break;case 2:e.xclrValue=ti(t);break;case 3:e.xclrValue=function(t){return t.read_shift(4)}(t)}return t.l+=8,e}function Ra(t){var e=t.read_shift(2),n=t.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=La(t);break;case 6:r[1]=function(t,e){return wn(t,e)}(t,n);break;case 14:case 15:r[1]=t.read_shift(1===n?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return r}function Ba(t,e,n,r){var i,a=Array.isArray(t);e.forEach((function(e){var o=Dn(e.ref);if(a?(t[o.r]||(t[o.r]=[]),i=t[o.r][o.c]):i=t[e.ref],!i){i={t:"z"},a?t[o.r][o.c]=i:t[e.ref]=i;var s=_n(t["!ref"]||"BDWGO1000001:A1");s.s.r>o.r&&(s.s.r=o.r),s.e.r<o.r&&(s.e.r=o.r),s.s.c>o.c&&(s.s.c=o.c),s.e.c<o.c&&(s.e.c=o.c);var l=Bn(s);l!==t["!ref"]&&(t["!ref"]=l)}i.c||(i.c=[]);var c={a:e.author,t:e.t,r:e.r,T:n};e.h&&(c.h=e.h);for(var u=i.c.length-1;u>=0;--u){if(!n&&i.c[u].T)return;n&&!i.c[u].T&&i.c.splice(u,1)}if(n&&r)for(u=0;u<r.length;++u)if(c.a==r[u].id){c.a=r[u].name||c.a;break}i.c.push(c)}))}var _a=Gn;var Na="application/vnd.ms-office.vbaProject";var Ua=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(t,n,r,i){var a=!1,o=!1;0==r.length?o=!0:"["==r.charAt(0)&&(o=!0,r=r.slice(1,-1)),0==i.length?a=!0:"["==i.charAt(0)&&(a=!0,i=i.slice(1,-1));var s=r.length>0?0|parseInt(r,10):0,l=i.length>0?0|parseInt(i,10):0;return a?l+=e.c:--l,o?s+=e.r:--s,n+(a?"":"$")+Pn(l)+(o?"":"$")+Fn(s)}return function(r,i){return e=i,r.replace(t,n)}}(),za=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Ha=function(){return function(t,e){return t.replace(za,(function(t,n,r,i,a,o){var s=In(i)-(r?0:e.c),l=On(o)-(a?0:e.r);return n+"R"+(0==l?"":a?l+1:"["+l+"]")+"C"+(0==s?"":r?s+1:"["+s+"]")}))}}();function Va(t,e){return t.replace(za,(function(t,n,r,i,a,o){return n+("$"==r?r+i:Pn(In(i)+e.c))+("$"==a?a+o:Fn(On(o)+e.r))}))}function Ga(t,e,n){var r=Rn(e).s,i=Dn(n);return Va(t,{r:i.r-r.r,c:i.c-r.c})}function Wa(t){return t.replace(/_xlfn\./g,"")}function Ya(t){t.l+=1}function ja(t,e){var n=t.read_shift(1==e?1:2);return[16383&n,n>>14&1,n>>15&1]}function Xa(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return $a(t);12==n.biff&&(r=4)}var i=t.read_shift(r),a=t.read_shift(r),o=ja(t,2),s=ja(t,2);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function $a(t){var e=ja(t,2),n=ja(t,2),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function qa(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return function(t){var e=ja(t,2),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}(t);var r=t.read_shift(n&&12==n.biff?4:2),i=ja(t,2);return{r:r,c:i[0],cRel:i[1],rRel:i[2]}}function Za(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:255&n,fQuoted:!!(16384&n),cRel:n>>15,rRel:n>>15}}function Ka(t){var e=1&t[t.l+1];return t.l+=4,[e,1]}function Ja(t){return[t.read_shift(1),t.read_shift(1)]}function Qa(t,e){var n=[t.read_shift(1)];if(12==e)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2}switch(n[0]){case 4:n[1]=Wr(t,1)?"TRUE":"FALSE",12!=e&&(t.l+=7);break;case 37:case 16:n[1]=vr[t[t.l]],t.l+=12==e?4:8;break;case 0:t.l+=8;break;case 1:n[1]=nr(t);break;case 2:n[1]=Kr(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function to(t,e,n){for(var r=t.read_shift(12==n.biff?4:2),i=[],a=0;a!=r;++a)i.push((12==n.biff?er:ai)(t,8));return i}function eo(t,e,n){var r=0,i=0;12==n.biff?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,0==--i&&(i=256));for(var a=0,o=[];a!=r&&(o[a]=[]);++a)for(var s=0;s!=i;++s)o[a][s]=Qa(t,n.biff);return o}function no(t,e,n){return t.l+=2,[Za(t)]}function ro(t){return t.l+=6,[]}function io(t){return t.l+=2,[Yr(t),1&t.read_shift(2)]}var ao=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];var oo={1:{n:"PtgExp",f:function(t,e,n){return t.l++,n&&12==n.biff?[t.read_shift(4,"i"),0]:[t.read_shift(2),t.read_shift(n&&2==n.biff?1:2)]}},2:{n:"PtgTbl",f:wn},3:{n:"PtgAdd",f:Ya},4:{n:"PtgSub",f:Ya},5:{n:"PtgMul",f:Ya},6:{n:"PtgDiv",f:Ya},7:{n:"PtgPower",f:Ya},8:{n:"PtgConcat",f:Ya},9:{n:"PtgLt",f:Ya},10:{n:"PtgLe",f:Ya},11:{n:"PtgEq",f:Ya},12:{n:"PtgGe",f:Ya},13:{n:"PtgGt",f:Ya},14:{n:"PtgNe",f:Ya},15:{n:"PtgIsect",f:Ya},16:{n:"PtgUnion",f:Ya},17:{n:"PtgRange",f:Ya},18:{n:"PtgUplus",f:Ya},19:{n:"PtgUminus",f:Ya},20:{n:"PtgPercent",f:Ya},21:{n:"PtgParen",f:Ya},22:{n:"PtgMissArg",f:Ya},23:{n:"PtgStr",f:function(t,e,n){return t.l++,Xr(t,0,n)}},26:{n:"PtgSheet",f:function(t,e,n){return t.l+=5,t.l+=2,t.l+=2==n.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function(t,e,n){return t.l+=2==n.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function(t){return t.l++,vr[t.read_shift(1)]}},29:{n:"PtgBool",f:function(t){return t.l++,0!==t.read_shift(1)}},30:{n:"PtgInt",f:function(t){return t.l++,t.read_shift(2)}},31:{n:"PtgNum",f:function(t){return t.l++,nr(t)}},32:{n:"PtgArray",f:function(t,e,n){var r=(96&t[t.l++])>>5;return t.l+=2==n.biff?6:12==n.biff?14:7,[r]}},33:{n:"PtgFunc",f:function(t,e,n){var r=(96&t[t.l])>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[Ao[i],Mo[i],r]}},34:{n:"PtgFuncVar",f:function(t,e,n){var r=t[t.l++],i=t.read_shift(1),a=n&&n.biff<=3?[88==r?-1:0,t.read_shift(1)]:function(t){return[t[t.l+1]>>7,32767&t.read_shift(2)]}(t);return[i,(0===a[0]?Mo:ko)[a[1]]]}},35:{n:"PtgName",f:function(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,a=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12}return[r,0,a]}},36:{n:"PtgRef",f:function(t,e,n){var r=(96&t[t.l])>>5;return t.l+=1,[r,qa(t,0,n)]}},37:{n:"PtgArea",f:function(t,e,n){return[(96&t[t.l++])>>5,Xa(t,n.biff>=2&&n.biff,n)]}},38:{n:"PtgMemArea",f:function(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=n&&2==n.biff?3:4,[r,t.read_shift(n&&2==n.biff?1:2)]}},39:{n:"PtgMemErr",f:wn},40:{n:"PtgMemNoMem",f:wn},41:{n:"PtgMemFunc",f:function(t,e,n){return[t.read_shift(1)>>>5&3,t.read_shift(n&&2==n.biff?1:2)]}},42:{n:"PtgRefErr",f:function(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,12==n.biff&&(t.l+=2),[r]}},43:{n:"PtgAreaErr",f:function(t,e,n){var r=(96&t[t.l++])>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}},44:{n:"PtgRefN",f:function(t,e,n){var r=(96&t[t.l])>>5;t.l+=1;var i=function(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return function(t){var e=t.read_shift(2),n=t.read_shift(1),r=(32768&e)>>15,i=(16384&e)>>14;return e&=16383,1==r&&e>=8192&&(e-=16384),1==i&&n>=128&&(n-=256),{r:e,c:n,cRel:i,rRel:r}}(t);var i=t.read_shift(r>=12?4:2),a=t.read_shift(2),o=(16384&a)>>14,s=(32768&a)>>15;if(a&=16383,1==s)for(;i>524287;)i-=1048576;if(1==o)for(;a>8191;)a-=16384;return{r:i,c:a,cRel:o,rRel:s}}(t,0,n);return[r,i]}},45:{n:"PtgAreaN",f:function(t,e,n){var r=(96&t[t.l++])>>5,i=function(t,e,n){if(n.biff<8)return $a(t);var r=t.read_shift(12==n.biff?4:2),i=t.read_shift(12==n.biff?4:2),a=ja(t,2),o=ja(t,2);return{s:{r:r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}(t,0,n);return[r,i]}},46:{n:"PtgMemAreaN",f:function(t){return[t.read_shift(1)>>>5&3,t.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function(t){return[t.read_shift(1)>>>5&3,t.read_shift(2)]}},57:{n:"PtgNameX",f:function(t,e,n){return 5==n.biff?function(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}(t):[t.read_shift(1)>>>5&3,t.read_shift(2),t.read_shift(4)]}},58:{n:"PtgRef3d",f:function(t,e,n){var r=(96&t[t.l])>>5;t.l+=1;var i=t.read_shift(2);return n&&5==n.biff&&(t.l+=12),[r,i,qa(t,0,n)]}},59:{n:"PtgArea3d",f:function(t,e,n){var r=(96&t[t.l++])>>5,i=t.read_shift(2,"i");if(n)switch(n.biff){case 5:t.l+=12,6;break;case 12:12}return[r,i,Xa(t,0,n)]}},60:{n:"PtgRefErr3d",f:function(t,e,n){var r=(96&t[t.l++])>>5,i=t.read_shift(2),a=4;if(n)switch(n.biff){case 5:a=15;break;case 12:a=6}return t.l+=a,[r,i]}},61:{n:"PtgAreaErr3d",f:function(t,e,n){var r=(96&t[t.l++])>>5,i=t.read_shift(2),a=8;if(n)switch(n.biff){case 5:t.l+=12,a=6;break;case 12:a=12}return t.l+=a,[r,i]}},255:{}},so={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},lo={1:{n:"PtgElfLel",f:io},2:{n:"PtgElfRw",f:no},3:{n:"PtgElfCol",f:no},6:{n:"PtgElfRwV",f:no},7:{n:"PtgElfColV",f:no},10:{n:"PtgElfRadical",f:no},11:{n:"PtgElfRadicalS",f:ro},13:{n:"PtgElfColS",f:ro},15:{n:"PtgElfColSV",f:ro},16:{n:"PtgElfRadicalLel",f:io},25:{n:"PtgList",f:function(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),a=t.read_shift(2);return{ixti:e,coltype:3&n,rt:ao[n>>2&31],idx:r,c:i,C:a}}},29:{n:"PtgSxName",f:function(t){return t.l+=2,[t.read_shift(4)]}},255:{}},co={0:{n:"PtgAttrNoop",f:function(t){return t.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function(t,e,n){var r=255&t[t.l+1]?1:0;return t.l+=n&&2==n.biff?3:4,[r]}},2:{n:"PtgAttrIf",f:function(t,e,n){var r=255&t[t.l+1]?1:0;return t.l+=2,[r,t.read_shift(n&&2==n.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function(t,e,n){t.l+=2;for(var r=t.read_shift(n&&2==n.biff?1:2),i=[],a=0;a<=r;++a)i.push(t.read_shift(n&&2==n.biff?1:2));return i}},8:{n:"PtgAttrGoto",f:function(t,e,n){var r=255&t[t.l+1]?1:0;return t.l+=2,[r,t.read_shift(n&&2==n.biff?1:2)]}},16:{n:"PtgAttrSum",f:function(t,e,n){t.l+=n&&2==n.biff?3:4}},32:{n:"PtgAttrBaxcel",f:Ka},33:{n:"PtgAttrBaxcel",f:Ka},64:{n:"PtgAttrSpace",f:function(t){return t.read_shift(2),Ja(t)}},65:{n:"PtgAttrSpaceSemi",f:function(t){return t.read_shift(2),Ja(t)}},128:{n:"PtgAttrIfError",f:function(t){var e=255&t[t.l+1]?1:0;return t.l+=2,[e,t.read_shift(2)]}},255:{}};function uo(t,e,n,r){if(r.biff<8)return wn(t,e);for(var i=t.l+e,a=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=eo(t,0,r),a.push(n[o][1]);break;case"PtgMemArea":n[o][2]=to(t,n[o][1],r),a.push(n[o][2]);break;case"PtgExp":r&&12==r.biff&&(n[o][1][1]=t.read_shift(4),a.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return 0!==(e=i-t.l)&&a.push(wn(t,e)),a}function ho(t,e,n){for(var r,i,a=t.l+e,o=[];a!=t.l;)e=a-t.l,i=t[t.l],r=oo[i]||oo[so[i]],24!==i&&25!==i||(r=(24===i?lo:co)[t[t.l+1]]),r&&r.f?o.push([r.n,r.f(t,e,n)]):wn(t,e);return o}function fo(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],a=0;a<r.length;++a){var o=r[a];if(o)if(2===o[0])i.push('"'+o[1].replace(/"/g,'""')+'"');else i.push(o[1]);else i.push("")}e.push(i.join(","))}return e.join(";")}var po={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function go(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),0==e?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=-1==r[1]?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return null!=n.SID?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=-1==r[1]?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map((function(t){return t.Name})).join(";;");default:return t[r[0]][0][3]?(i=-1==r[1]?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function vo(t,e,n){var r=go(t,e,n);return"#REF"==r?r:function(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}(r,n)}function yo(t,e,n,r,i){var a,o,s,l,c=i&&i.biff||8,u={s:{c:0,r:0},e:{c:0,r:0}},h=[],f=0,p=0,d="";if(!t[0]||!t[0][0])return"";for(var g=-1,v="",y=0,m=t[0].length;y<m;++y){var x=t[0][y];switch(x[0]){case"PtgUminus":h.push("-"+h.pop());break;case"PtgUplus":h.push("+"+h.pop());break;case"PtgPercent":h.push(h.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(a=h.pop(),o=h.pop(),g>=0){switch(t[0][g][1][0]){case 0:v=Vt(" ",t[0][g][1][1]);break;case 1:v=Vt("\r",t[0][g][1][1]);break;default:if(v="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}o+=v,g=-1}h.push(o+po[x[0]]+a);break;case"PtgIsect":a=h.pop(),o=h.pop(),h.push(o+" "+a);break;case"PtgUnion":a=h.pop(),o=h.pop(),h.push(o+","+a);break;case"PtgRange":a=h.pop(),o=h.pop(),h.push(o+":"+a);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":s=En(x[1][1],u,i),h.push(Mn(s,c));break;case"PtgRefN":s=n?En(x[1][1],n,i):x[1][1],h.push(Mn(s,c));break;case"PtgRef3d":f=x[1][1],s=En(x[1][2],u,i);d=vo(r,f,i);h.push(d+"!"+Mn(s,c));break;case"PtgFunc":case"PtgFuncVar":var b=x[1][0],w=x[1][1];b||(b=0);var S=0==(b&=127)?[]:h.slice(-b);h.length-=b,"User"===w&&(w=S.shift()),h.push(w+"("+S.join(",")+")");break;case"PtgBool":h.push(x[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":h.push(x[1]);break;case"PtgNum":h.push(String(x[1]));break;case"PtgStr":h.push('"'+x[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":l=kn(x[1][1],n?{s:n}:u,i),h.push(An(l,i));break;case"PtgArea":l=kn(x[1][1],u,i),h.push(An(l,i));break;case"PtgArea3d":f=x[1][1],l=x[1][2],d=vo(r,f,i),h.push(d+"!"+An(l,i));break;case"PtgAttrSum":h.push("SUM("+h.pop()+")");break;case"PtgName":p=x[1][2];var C=(r.names||[])[p-1]||(r[0]||[])[p],T=C?C.Name:"SH33TJSNAME"+String(p);T&&"_xlfn."==T.slice(0,6)&&!i.xlfn&&(T=T.slice(6)),h.push(T);break;case"PtgNameX":var E,k=x[1][1];if(p=x[1][2],!(i.biff<=5)){var M="";if(14849==((r[k]||[])[0]||[])[0]||(1025==((r[k]||[])[0]||[])[0]?r[k][p]&&r[k][p].itab>0&&(M=r.SheetNames[r[k][p].itab-1]+"!"):M=r.SheetNames[p-1]+"!"),r[k]&&r[k][p])M+=r[k][p].Name;else if(r[0]&&r[0][p])M+=r[0][p].Name;else{var A=(go(r,k,i)||"").split(";;");A[p-1]?M=A[p-1]:M+="SH33TJSERRX"}h.push(M);break}k<0&&(k=-k),r[k]&&(E=r[k][p]),E||(E={Name:"SH33TJSERRY"}),h.push(E.Name);break;case"PtgParen":var O="(",F=")";if(g>=0){switch(v="",t[0][g][1][0]){case 2:O=Vt(" ",t[0][g][1][1])+O;break;case 3:O=Vt("\r",t[0][g][1][1])+O;break;case 4:F=Vt(" ",t[0][g][1][1])+F;break;case 5:F=Vt("\r",t[0][g][1][1])+F;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}g=-1}h.push(O+h.pop()+F);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":h.push("#REF!");break;case"PtgExp":s={c:x[1][1],r:x[1][0]};var I={c:n.c,r:n.r};if(r.sharedf[Ln(s)]){var P=r.sharedf[Ln(s)];h.push(yo(P,u,I,r,i))}else{var D=!1;for(a=0;a!=r.arrayf.length;++a)if(o=r.arrayf[a],!(s.c<o[0].s.c||s.c>o[0].e.c)&&!(s.r<o[0].s.r||s.r>o[0].e.r)){h.push(yo(o[1],u,I,r,i)),D=!0;break}D||h.push(x[1])}break;case"PtgArray":h.push("{"+fo(x[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=y;break;case"PtgMissArg":h.push("");break;case"PtgList":h.push("Table"+x[1].idx+"[#"+x[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(x))}if(3!=i.biff&&g>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(t[0][y][0])){var L=!0;switch((x=t[0][g])[1][0]){case 4:L=!1;case 0:v=Vt(" ",x[1][1]);break;case 5:L=!1;case 1:v=Vt("\r",x[1][1]);break;default:if(v="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+x[1][0])}h.push((L?v:"")+h.pop()+(L?"":v)),g=-1}}if(h.length>1&&i.WTF)throw new Error("bad formula stack");return h[0]}function mo(t,e,n){var r,i=t.l+e,a=2==n.biff?1:2,o=t.read_shift(a);if(65535==o)return[[],wn(t,e-2)];var s=ho(t,o,n);return e!==o+a&&(r=uo(t,e-o-a,s,n)),t.l=i,[s,r]}function xo(t,e,n){var r,i=t.l+e,a=t.read_shift(2),o=ho(t,a,n);return 65535==a?[[],wn(t,e-2)]:(e!==a+2&&(r=uo(t,i-a-2,o,n)),[o,r])}function bo(t,e,n){var r=t.l+e,i=ni(t);2==n.biff&&++t.l;var a=function(t){var e;if(65535!==cn(t,t.l+6))return[nr(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=1===t[t.l+2],t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}(t),o=t.read_shift(1);2!=n.biff&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var s=function(t,e,n){var r,i=t.l+e,a=2==n.biff?1:2,o=t.read_shift(a);if(65535==o)return[[],wn(t,e-2)];var s=ho(t,o,n);return e!==o+a&&(r=uo(t,e-o-a,s,n)),t.l=i,[s,r]}(t,r-t.l,n);return{cell:i,val:a[0],formula:s,shared:o>>3&1,tt:a[1]}}function wo(t,e,n){var r=t.read_shift(4),i=ho(t,r,n),a=t.read_shift(4);return[i,a>0?uo(t,a,i,n):null]}var So=wo,Co=wo,To=wo,Eo=wo,ko={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Mo={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Ao={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Oo(t){return"of:"==t.slice(0,3)&&(t=t.slice(3)),61==t.charCodeAt(0)&&61==(t=t.slice(1)).charCodeAt(0)&&(t=t.slice(1)),(t=(t=(t=t.replace(/COM\.MICROSOFT\./g,"")).replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,(function(t,e){return e.replace(/\./g,"")}))).replace(/\[.(#[A-Z]*[?!])\]/g,"$1")).replace(/[;~]/g,",").replace(/\|/g,";")}function Fo(t){var e=t.split(":");return[e[0].split(".")[0],e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var Io={},Po={};function Do(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];"xlml"==e&&(n=[1,1,1,1,.5,.5]),null==t.left&&(t.left=n[0]),null==t.right&&(t.right=n[1]),null==t.top&&(t.top=n[2]),null==t.bottom&&(t.bottom=n[3]),null==t.header&&(t.header=n[4]),null==t.footer&&(t.footer=n[5])}}function Lo(t,e,n,r,i,a){try{r.cellNF&&(t.z=z[e])}catch(s){if(r.WTF)throw s}if("z"!==t.t||r.cellStyles){if("d"===t.t&&"string"===typeof t.v&&(t.v=Ut(t.v)),(!r||!1!==r.cellText)&&"z"!==t.t)try{if(null==z[e]&&bt(St[e]||"General",e),"e"===t.t)t.w=t.w||vr[t.v];else if(0===e)if("n"===t.t)(0|t.v)===t.v?t.w=t.v.toString(10):t.w=K(t.v);else if("d"===t.t){var o=Ft(t.v);t.w=(0|o)===o?o.toString(10):K(o)}else{if(void 0===t.v)return"";t.w=J(t.v,Po)}else"d"===t.t?t.w=xt(e,Ft(t.v),Po):t.w=xt(e,t.v,Po)}catch(s){if(r.WTF)throw s}if(r.cellStyles&&null!=n)try{t.s=a.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=ia(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=ia(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(s){if(r.WTF&&a.Fills)throw s}}}var Ro=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Bo=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,_o=/<(?:\w:)?hyperlink [^>]*>/gm,No=/"(\w*:\w*)"/,Uo=/<(?:\w:)?col\b[^>]*[\/]?>/g,zo=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Ho=/<(?:\w:)?pageMargins[^>]*\/>/g,Vo=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Go=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Wo=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Yo(t,e,n,r,i,a,o){if(!t)return t;r||(r={"!id":{}}),null!=y&&null==e.dense&&(e.dense=y);var s=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",h=t.match(Bo);h?(c=t.slice(0,h.index),u=t.slice(h.index+h[0].length)):c=u=t;var f=c.match(Vo);f?jo(f[0],s,i,n):(f=c.match(Go))&&function(t,e,n,r,i){jo(t.slice(0,t.indexOf(">")),n,r,i)}(f[0],f[1],s,i,n);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var d=c.slice(p,p+50).match(No);d&&function(t,e){var n=_n(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=Bn(n))}(s,d[1])}var g=c.match(Wo);g&&g[1]&&function(t,e){e.Views||(e.Views=[{}]);(t.match(Xo)||[]).forEach((function(t,n){var r=ue(t);e.Views[n]||(e.Views[n]={}),+r.zoomScale&&(e.Views[n].zoom=+r.zoomScale),xe(r.rightToLeft)&&(e.Views[n].RTL=!0)}))}(g[1],i);var v=[];if(e.cellStyles){var m=c.match(Uo);m&&function(t,e){for(var n=!1,r=0;r!=e.length;++r){var i=ue(e[r],!0);i.hidden&&(i.hidden=xe(i.hidden));var a=parseInt(i.min,10)-1,o=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,pa(i.width)),da(i);a<=o;)t[a++]=Ht(i)}}(v,m)}h&&$o(h[1],s,e,l,a,o);var x=u.match(zo);x&&(s["!autofilter"]=function(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}(x[0]));var b=[],w=u.match(Ro);if(w)for(p=0;p!=w.length;++p)b[p]=_n(w[p].slice(w[p].indexOf('"')+1));var S=u.match(_o);S&&function(t,e,n){for(var r=Array.isArray(t),i=0;i!=e.length;++i){var a=ue(Te(e[i]),!0);if(!a.ref)return;var o=((n||{})["!id"]||[])[a.id];o?(a.Target=o.Target,a.location&&(a.Target+="#"+de(a.location))):(a.Target="#"+de(a.location),o={Target:a.Target,TargetMode:"Internal"}),a.Rel=o,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var s=_n(a.ref),l=s.s.r;l<=s.e.r;++l)for(var c=s.s.c;c<=s.e.c;++c){var u=Ln({c:c,r:l});r?(t[l]||(t[l]=[]),t[l][c]||(t[l][c]={t:"z",v:void 0}),t[l][c].l=a):(t[u]||(t[u]={t:"z",v:void 0}),t[u].l=a)}}}(s,S,r);var C=u.match(Ho);if(C&&(s["!margins"]=function(t){var e={};return["left","right","top","bottom","header","footer"].forEach((function(n){t[n]&&(e[n]=parseFloat(t[n]))})),e}(ue(C[0]))),!s["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(s["!ref"]=Bn(l)),e.sheetRows>0&&s["!ref"]){var T=_n(s["!ref"]);e.sheetRows<=+T.e.r&&(T.e.r=e.sheetRows-1,T.e.r>l.e.r&&(T.e.r=l.e.r),T.e.r<T.s.r&&(T.s.r=T.e.r),T.e.c>l.e.c&&(T.e.c=l.e.c),T.e.c<T.s.c&&(T.s.c=T.e.c),s["!fullref"]=s["!ref"],s["!ref"]=Bn(T))}return v.length>0&&(s["!cols"]=v),b.length>0&&(s["!merges"]=b),s}function jo(t,e,n,r){var i=ue(t);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=de(Te(i.codeName)))}var Xo=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;var $o=function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=ke("v"),o=ke("f");return function(s,l,c,u,h,f){for(var p,d,g,v,y,m=0,x="",b=[],w=[],S=0,C=0,T=0,E="",k=0,M=0,A=0,O=0,F=Array.isArray(f.CellXf),I=[],P=[],D=Array.isArray(l),L=[],R={},B=!1,_=!!c.sheetStubs,N=s.split(e),U=0,H=N.length;U!=H;++U){var V=(x=N[U].trim()).length;if(0!==V){var G=0;t:for(m=0;m<V;++m)switch(x[m]){case">":if("/"!=x[m-1]){++m;break t}if(c&&c.cellStyles){if(k=null!=(d=ue(x.slice(G,m),!0)).r?parseInt(d.r,10):k+1,M=-1,c.sheetRows&&c.sheetRows<k)continue;R={},B=!1,d.ht&&(B=!0,R.hpt=parseFloat(d.ht),R.hpx=ya(R.hpt)),"1"==d.hidden&&(B=!0,R.hidden=!0),null!=d.outlineLevel&&(B=!0,R.level=+d.outlineLevel),B&&(L[k-1]=R)}break;case"<":G=m}if(G>=m)break;if(k=null!=(d=ue(x.slice(G,m),!0)).r?parseInt(d.r,10):k+1,M=-1,!(c.sheetRows&&c.sheetRows<k)){u.s.r>k-1&&(u.s.r=k-1),u.e.r<k-1&&(u.e.r=k-1),c&&c.cellStyles&&(R={},B=!1,d.ht&&(B=!0,R.hpt=parseFloat(d.ht),R.hpx=ya(R.hpt)),"1"==d.hidden&&(B=!0,R.hidden=!0),null!=d.outlineLevel&&(B=!0,R.level=+d.outlineLevel),B&&(L[k-1]=R)),b=x.slice(m).split(t);for(var W=0;W!=b.length&&"<"==b[W].trim().charAt(0);++W);for(b=b.slice(W),m=0;m!=b.length;++m)if(0!==(x=b[m].trim()).length){if(w=x.match(n),S=m,C=0,T=0,x="<c "+("<"==x.slice(0,1)?">":"")+x,null!=w&&2===w.length){for(S=0,E=w[1],C=0;C!=E.length&&!((T=E.charCodeAt(C)-64)<1||T>26);++C)S=26*S+T;M=--S}else++M;for(C=0;C!=x.length&&62!==x.charCodeAt(C);++C);if(++C,(d=ue(x.slice(0,C),!0)).r||(d.r=Ln({r:k-1,c:M})),p={t:""},null!=(w=(E=x.slice(C)).match(a))&&""!==w[1]&&(p.v=de(w[1])),c.cellFormula){if(null!=(w=E.match(o))&&""!==w[1]){if(p.f=de(Te(w[1])).replace(/\r\n/g,"\n"),c.xlfn||(p.f=Wa(p.f)),w[0].indexOf('t="array"')>-1)p.F=(E.match(i)||[])[1],p.F.indexOf(":")>-1&&I.push([_n(p.F),p.F]);else if(w[0].indexOf('t="shared"')>-1){v=ue(w[0]);var Y=de(Te(w[1]));c.xlfn||(Y=Wa(Y)),P[parseInt(v.si,10)]=[v,Y,d.r]}}else(w=E.match(/<f[^>]*\/>/))&&P[(v=ue(w[0])).si]&&(p.f=Ga(P[v.si][1],P[v.si][2],d.r));var j=Dn(d.r);for(C=0;C<I.length;++C)j.r>=I[C][0].s.r&&j.r<=I[C][0].e.r&&j.c>=I[C][0].s.c&&j.c<=I[C][0].e.c&&(p.F=I[C][1])}if(null==d.t&&void 0===p.v)if(p.f||p.F)p.v=0,p.t="n";else{if(!_)continue;p.t="z"}else p.t=d.t||"n";switch(u.s.c>M&&(u.s.c=M),u.e.c<M&&(u.e.c=M),p.t){case"n":if(""==p.v||null==p.v){if(!_)continue;p.t="z"}else p.v=parseFloat(p.v);break;case"s":if("undefined"==typeof p.v){if(!_)continue;p.t="z"}else g=Io[parseInt(p.v,10)],p.v=g.t,p.r=g.r,c.cellHTML&&(p.h=g.h);break;case"str":p.t="s",p.v=null!=p.v?Te(p.v):"",c.cellHTML&&(p.h=ye(p.v));break;case"inlineStr":w=E.match(r),p.t="s",null!=w&&(g=Ui(w[1]))?(p.v=g.t,c.cellHTML&&(p.h=g.h)):p.v="";break;case"b":p.v=xe(p.v);break;case"d":c.cellDates?p.v=Ut(p.v,1):(p.v=Ft(Ut(p.v,1)),p.t="n");break;case"e":c&&!1===c.cellText||(p.w=p.v),p.v=yr[p.v]}if(A=O=0,y=null,F&&void 0!==d.s&&null!=(y=f.CellXf[d.s])&&(null!=y.numFmtId&&(A=y.numFmtId),c.cellStyles&&null!=y.fillId&&(O=y.fillId)),Lo(p,A,O,c,h,f),c.cellDates&&F&&"n"==p.t&&gt(z[A])&&(p.t="d",p.v=Lt(p.v)),d.cm&&c.xlmeta){var X=(c.xlmeta.Cell||[])[+d.cm-1];X&&"XLDAPR"==X.type&&(p.D=!0)}if(D){var $=Dn(d.r);l[$.r]||(l[$.r]=[]),l[$.r][$.c]=p}else l[d.r]=p}}}}L.length>0&&(l["!rows"]=L)}}();var qo=er;function Zo(t){return[$n(t),nr(t),"n"]}var Ko=er;var Jo=["left","right","top","bottom","header","footer"];function Qo(t,e,n,r,i,a){var o=a||{"!type":"chart"};if(!t)return a;var s=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach((function(t){var e=function(t){var e,n=[],r=t.match(/^<c:numCache>/);(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/gm)||[]).forEach((function(t){var e=t.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);e&&(n[+e[1]]=r?+e[2]:e[2])}));var i=de((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/gm)||[]).forEach((function(t){e=t.replace(/<.*?>/g,"")})),[n,i,e]}(t);u.s.r=u.s.c=0,u.e.c=s,c=Pn(s),e[0].forEach((function(t,n){o[c+Fn(n)]={t:"n",v:t,z:e[1]},l=n})),u.e.r<l&&(u.e.r=l),++s})),s>0&&(o["!ref"]=Bn(u)),o}var ts=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],es=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],ns=[],rs=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function is(t,e){for(var n=0;n!=t.length;++n)for(var r=t[n],i=0;i!=e.length;++i){var a=e[i];if(null==r[a[0]])r[a[0]]=a[1];else switch(a[2]){case"bool":"string"==typeof r[a[0]]&&(r[a[0]]=xe(r[a[0]]));break;case"int":"string"==typeof r[a[0]]&&(r[a[0]]=parseInt(r[a[0]],10))}}}function as(t,e){for(var n=0;n!=e.length;++n){var r=e[n];if(null==t[r[0]])t[r[0]]=r[1];else switch(r[2]){case"bool":"string"==typeof t[r[0]]&&(t[r[0]]=xe(t[r[0]]));break;case"int":"string"==typeof t[r[0]]&&(t[r[0]]=parseInt(t[r[0]],10))}}}function os(t){as(t.WBProps,ts),as(t.CalcPr,rs),is(t.WBView,es),is(t.Sheets,ns),Po.date1904=xe(t.WBProps.date1904)}var ss="][*?/\\".split("");function ls(t,e){if(t.length>31){if(e)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var n=!0;return ss.forEach((function(r){if(-1!=t.indexOf(r)){if(!e)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");n=!1}})),n}var cs=/<\w+:workbook/;function us(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function hs(t,e,n){return".bin"===e.slice(-4)?function(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var a=[],o=[[]];return o.SheetNames=[],o.XTI=[],zs[16]={n:"BrtFRTArchID$",f:us},Cn(t,(function(t,s,l){switch(l){case 156:o.SheetNames.push(t.name),n.Sheets.push(t);break;case 153:n.WBProps=t;break;case 39:null!=t.Sheet&&(e.SID=t.Sheet),t.Ref=yo(t.Ptg,0,null,o,e),delete e.SID,delete t.Ptg,a.push(t);break;case 1036:case 361:case 2071:case 158:case 143:case 664:case 353:case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:case 16:break;case 357:case 358:case 355:case 667:o[0].length?o.push([l,t]):o[0]=[l,t],o[o.length-1].XTI=[];break;case 362:0===o.length&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(t),o.XTI=o.XTI.concat(t);break;case 35:case 37:r.push(l),i=!0;break;case 36:case 38:r.pop(),i=!1;break;default:if(s.T);else if(!i||e.WTF&&37!=r[r.length-1]&&35!=r[r.length-1])throw new Error("Unexpected record 0x"+l.toString(16))}}),e),os(n),n.Names=a,n.supbooks=o,n}(t,n):function(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",a={},o=0;if(t.replace(se,(function(s,l){var c=ue(s);switch(he(c[0])){case"<?xml":case"</workbook>":case"<fileVersion/>":case"</fileVersion>":case"<fileSharing":case"<fileSharing/>":case"</workbookPr>":case"<workbookProtection":case"<workbookProtection/>":case"<bookViews":case"<bookViews>":case"</bookViews>":case"</workbookView>":case"<sheets":case"<sheets>":case"</sheets>":case"</sheet>":case"<functionGroups":case"<functionGroups/>":case"<functionGroup":case"<externalReferences":case"</externalReferences>":case"<externalReferences>":case"<externalReference":case"<definedNames/>":case"<definedName/>":case"</calcPr>":case"<oleSize":case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":case"<customWorkbookView":case"</customWorkbookView>":case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":case"<pivotCache":case"<smartTagPr":case"<smartTagPr/>":case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":case"<smartTagType":case"<webPublishing":case"<webPublishing/>":case"<fileRecoveryPr":case"<fileRecoveryPr/>":case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":case"<webPublishObject":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":case"<ArchID":case"<revisionPtr":break;case"<workbook":s.match(cs)&&(i="xmlns"+s.match(/<(\w+):/)[1]),n.xmlns=c[i];break;case"<fileVersion":delete c[0],n.AppVersion=c;break;case"<workbookPr":case"<workbookPr/>":ts.forEach((function(t){if(null!=c[t[0]])switch(t[2]){case"bool":n.WBProps[t[0]]=xe(c[t[0]]);break;case"int":n.WBProps[t[0]]=parseInt(c[t[0]],10);break;default:n.WBProps[t[0]]=c[t[0]]}})),c.codeName&&(n.WBProps.CodeName=Te(c.codeName));break;case"<workbookView":case"<workbookView/>":delete c[0],n.WBView.push(c);break;case"<sheet":switch(c.state){case"hidden":c.Hidden=1;break;case"veryHidden":c.Hidden=2;break;default:c.Hidden=0}delete c.state,c.name=de(Te(c.name)),delete c[0],n.Sheets.push(c);break;case"<definedNames>":case"<definedNames":case"<ext":case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</definedNames>":case"</ext>":case"</AlternateContent>":r=!1;break;case"<definedName":(a={}).Name=Te(c.name),c.comment&&(a.Comment=c.comment),c.localSheetId&&(a.Sheet=+c.localSheetId),xe(c.hidden||"0")&&(a.Hidden=!0),o=l+s.length;break;case"</definedName>":a.Ref=de(Te(t.slice(o,l))),n.Names.push(a);break;case"<calcPr":case"<calcPr/>":delete c[0],n.CalcPr=c;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+c[0]+" in workbook")}return s})),-1===Ne.indexOf(n.xmlns))throw new Error("Unknown Namespace: "+n.xmlns);return os(n),n}(t,n)}function fs(t,e,n,r,i,a,o,s){return".bin"===e.slice(-4)?function(t,e,n,r,i,a,o){if(!t)return t;var s=e||{};r||(r={"!id":{}}),null!=y&&null==s.dense&&(s.dense=y);var l,c,u,h,f,p,d,g,v,m,x=s.dense?[]:{},b={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=[],S=!1,C=!1,T=[];s.biff=12,s["!row"]=0;var E=0,k=!1,M=[],A={},O=s.supbooks||i.supbooks||[[]];if(O.sharedf=A,O.arrayf=M,O.SheetNames=i.SheetNames||i.Sheets.map((function(t){return t.name})),!s.supbooks&&(s.supbooks=O,i.Names))for(var F=0;F<i.Names.length;++F)O[0][F+1]=i.Names[F];var I,P,D=[],L=[],R=!1;if(zs[16]={n:"BrtShortReal",f:Zo},Cn(t,(function(t,e,y){if(!C)switch(y){case 148:l=t;break;case 0:c=t,s.sheetRows&&s.sheetRows<=c.r&&(C=!0),v=Fn(f=c.r),s["!row"]=c.r,(t.hidden||t.hpt||null!=t.level)&&(t.hpt&&(t.hpx=ya(t.hpt)),L[t.r]=t);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(u={t:t[2]},t[2]){case"n":u.v=t[1];break;case"s":g=Io[t[1]],u.v=g.t,u.r=g.r;break;case"b":u.v=!!t[1];break;case"e":u.v=t[1],!1!==s.cellText&&(u.w=vr[u.v]);break;case"str":u.t="s",u.v=t[1];break;case"is":u.t="s",u.v=t[1].t}if((h=o.CellXf[t[0].iStyleRef])&&Lo(u,h.numFmtId,null,s,a,o),p=-1==t[0].c?p+1:t[0].c,s.dense?(x[f]||(x[f]=[]),x[f][p]=u):x[Pn(p)+v]=u,s.cellFormula){for(k=!1,E=0;E<M.length;++E){var F=M[E];c.r>=F[0].s.r&&c.r<=F[0].e.r&&p>=F[0].s.c&&p<=F[0].e.c&&(u.F=Bn(F[0]),k=!0)}!k&&t.length>3&&(u.f=t[3])}if(b.s.r>c.r&&(b.s.r=c.r),b.s.c>p&&(b.s.c=p),b.e.r<c.r&&(b.e.r=c.r),b.e.c<p&&(b.e.c=p),s.cellDates&&h&&"n"==u.t&&gt(z[h.numFmtId])){var B=W(u.v);B&&(u.t="d",u.v=new Date(B.y,B.m-1,B.d,B.H,B.M,B.S,B.u))}I&&("XLDAPR"==I.type&&(u.D=!0),I=void 0),P&&(P=void 0);break;case 1:case 12:if(!s.sheetStubs||S)break;u={t:"z",v:void 0},p=-1==t[0].c?p+1:t[0].c,s.dense?(x[f]||(x[f]=[]),x[f][p]=u):x[Pn(p)+v]=u,b.s.r>c.r&&(b.s.r=c.r),b.s.c>p&&(b.s.c=p),b.e.r<c.r&&(b.e.r=c.r),b.e.c<p&&(b.e.c=p),I&&("XLDAPR"==I.type&&(u.D=!0),I=void 0),P&&(P=void 0);break;case 176:T.push(t);break;case 49:I=((s.xlmeta||{}).Cell||[])[t-1];break;case 494:var _=r["!id"][t.relId];for(_?(t.Target=_.Target,t.loc&&(t.Target+="#"+t.loc),t.Rel=_):""==t.relId&&(t.Target="#"+t.loc),f=t.rfx.s.r;f<=t.rfx.e.r;++f)for(p=t.rfx.s.c;p<=t.rfx.e.c;++p)s.dense?(x[f]||(x[f]=[]),x[f][p]||(x[f][p]={t:"z",v:void 0}),x[f][p].l=t):(d=Ln({c:p,r:f}),x[d]||(x[d]={t:"z",v:void 0}),x[d].l=t);break;case 426:if(!s.cellFormula)break;M.push(t),(m=s.dense?x[f][p]:x[Pn(p)+v]).f=yo(t[1],0,{r:c.r,c:p},O,s),m.F=Bn(t[0]);break;case 427:if(!s.cellFormula)break;A[Ln(t[0].s)]=t[1],(m=s.dense?x[f][p]:x[Pn(p)+v]).f=yo(t[1],0,{r:c.r,c:p},O,s);break;case 60:if(!s.cellStyles)break;for(;t.e>=t.s;)D[t.e--]={width:t.w/256,hidden:!!(1&t.flags),level:t.level},R||(R=!0,pa(t.w/256)),da(D[t.e+1]);break;case 161:x["!autofilter"]={ref:Bn(t)};break;case 476:x["!margins"]=t;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),t.name&&(i.Sheets[n].CodeName=t.name),(t.above||t.left)&&(x["!outline"]={above:t.above,left:t.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),t.RTL&&(i.Views[0].RTL=!0);break;case 485:case 64:case 1053:case 151:case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:S=!0;break;case 36:S=!1;break;case 37:w.push(y),S=!0;break;case 38:w.pop(),S=!1;break;default:if(e.T);else if(!S||s.WTF)throw new Error("Unexpected record 0x"+y.toString(16))}}),s),delete s.supbooks,delete s["!row"],!x["!ref"]&&(b.s.r<2e6||l&&(l.e.r>0||l.e.c>0||l.s.r>0||l.s.c>0))&&(x["!ref"]=Bn(l||b)),s.sheetRows&&x["!ref"]){var B=_n(x["!ref"]);s.sheetRows<=+B.e.r&&(B.e.r=s.sheetRows-1,B.e.r>b.e.r&&(B.e.r=b.e.r),B.e.r<B.s.r&&(B.s.r=B.e.r),B.e.c>b.e.c&&(B.e.c=b.e.c),B.e.c<B.s.c&&(B.s.c=B.e.c),x["!fullref"]=x["!ref"],x["!ref"]=Bn(B))}return T.length>0&&(x["!merges"]=T),D.length>0&&(x["!cols"]=D),L.length>0&&(x["!rows"]=L),x}(t,r,n,i,a,o,s):Yo(t,r,n,i,a,o,s)}function ps(t,e,n,r,i,a,o,s){return".bin"===e.slice(-4)?function(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},o=[],s=!1;return Cn(t,(function(t,r,l){switch(l){case 550:a["!rel"]=t;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),t.name&&(i.Sheets[n].CodeName=t.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:o.push(l);break;case 38:o.pop();break;default:if(r.T>0)o.push(l);else if(r.T<0)o.pop();else if(!s||e.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),e),r["!id"][a["!rel"]]&&(a["!drawel"]=r["!id"][a["!rel"]]),a}(t,r,n,i,a):function(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var a,o={"!type":"chart","!drawel":null,"!rel":""},s=t.match(Vo);return s&&jo(s[0],0,i,n),(a=t.match(/drawing r:id="(.*?)"/))&&(o["!rel"]=a[1]),r["!id"][o["!rel"]]&&(o["!drawel"]=r["!id"][o["!rel"]]),o}(t,0,n,i,a)}function ds(t,e,n,r){return".bin"===e.slice(-4)?function(t,e,n){var r={NumberFmt:[]};for(var i in z)r.NumberFmt[i]=z[i];r.CellXf=[],r.Fonts=[];var a=[],o=!1;return Cn(t,(function(t,i,s){switch(s){case 44:r.NumberFmt[t[0]]=t[1],bt(t[1],t[0]);break;case 43:r.Fonts.push(t),null!=t.color.theme&&e&&e.themeElements&&e.themeElements.clrScheme&&(t.color.rgb=ia(e.themeElements.clrScheme[t.color.theme].rgb,t.color.tint||0));break;case 1025:case 45:case 46:case 48:case 507:case 572:case 475:case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 47:617==a[a.length-1]&&r.CellXf.push(t);break;case 35:o=!0;break;case 36:o=!1;break;case 37:a.push(s),o=!0;break;case 38:a.pop(),o=!1;break;default:if(i.T>0)a.push(s);else if(i.T<0)a.pop();else if(!o||n.WTF&&37!=a[a.length-1])throw new Error("Unexpected record 0x"+s.toString(16))}})),r}(t,n,r):wa(t,n,r)}function gs(t,e,n){return".bin"===e.slice(-4)?function(t,e){var n=[],r=!1;return Cn(t,(function(t,i,a){switch(a){case 159:n.Count=t[0],n.Unique=t[1];break;case 19:n.push(t);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(i.T,!r||e.WTF)throw new Error("Unexpected record 0x"+a.toString(16))}})),n}(t,n):function(t,e){var n=[],r="";if(!t)return n;var i=t.match(zi);if(i){r=i[2].replace(Hi,"").split(Vi);for(var a=0;a!=r.length;++a){var o=Ui(r[a].trim(),e);null!=o&&(n[n.length]=o)}i=ue(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}(t,n)}function vs(t,e,n){return".bin"===e.slice(-4)?function(t,e){var n=[],r=[],i={},a=!1;return Cn(t,(function(t,o,s){switch(s){case 632:r.push(t);break;case 635:i=t;break;case 637:i.t=t.t,i.h=t.h,i.r=t.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:case 37:case 38:break;case 35:a=!0;break;case 36:a=!1;break;default:if(o.T);else if(!a||e.WTF)throw new Error("Unexpected record 0x"+s.toString(16))}})),n}(t,n):function(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach((function(t){if(""!==t&&""!==t.trim()){var e=t.match(/<(?:\w+:)?author[^>]*>(.*)/);e&&n.push(e[1])}}));var a=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach((function(t){if(""!==t&&""!==t.trim()){var i=t.match(/<(?:\w+:)?comment[^>]*>/);if(i){var a=ue(i[0]),o={author:a.authorId&&n[a.authorId]||"sheetjsghost",ref:a.ref,guid:a.guid},s=Dn(a.ref);if(!(e.sheetRows&&e.sheetRows<=s.r)){var l=t.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),c=!!l&&!!l[1]&&Ui(l[1])||{r:"",t:"",h:""};o.r=c.r,"<t></t>"==c.r&&(c.t=c.h=""),o.t=(c.t||"").replace(/\r\n/g,"\n").replace(/\r/g,"\n"),e.cellHTML&&(o.h=c.h),r.push(o)}}}})),r}(t,n)}function ys(t,e,n){return".bin"===e.slice(-4)?function(t,e,n){var r=[];return Cn(t,(function(t,e,n){if(63===n)r.push(t);else if(!e.T)throw new Error("Unexpected record 0x"+n.toString(16))})),r}(t):function(t){var e=[];if(!t)return e;var n=1;return(t.match(se)||[]).forEach((function(t){var r=ue(t);switch(r[0]){case"<?xml":case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete r[0],r.i?n=r.i:r.i=n,e.push(r)}})),e}(t)}function ms(t,e,n,r){if(".bin"===n.slice(-4))return function(t,e,n,r){if(!t)return t;var i=r||{},a=!1;Cn(t,(function(t,e,n){switch(n){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(e.T);else if(!a||i.WTF)throw new Error("Unexpected record 0x"+n.toString(16))}}),i)}(t,0,0,r)}function xs(t,e,n){return".bin"===e.slice(-4)?function(t,e,n){var r={Types:[],Cell:[],Value:[]},i=n||{},a=[],o=!1,s=2;return Cn(t,(function(t,e,n){switch(n){case 335:r.Types.push({name:t.name});break;case 51:t.forEach((function(t){1==s?r.Cell.push({type:r.Types[t[0]-1].name,index:t[1]}):0==s&&r.Value.push({type:r.Types[t[0]-1].name,index:t[1]})}));break;case 337:s=t?1:0;break;case 338:s=2;break;case 35:a.push(n),o=!0;break;case 36:a.pop(),o=!1;break;default:if(e.T);else if(!o||i.WTF&&35!=a[a.length-1])throw new Error("Unexpected record 0x"+n.toString(16))}})),r}(t,0,n):function(t,e,n){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var i,a=!1,o=2;return t.replace(se,(function(t){var e=ue(t);switch(he(e[0])){case"<?xml":case"<metadata":case"</metadata>":case"<metadataTypes":case"</metadataTypes>":case"</metadataType>":case"</futureMetadata>":case"<bk>":case"</bk>":case"</rc>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<metadataType":r.Types.push({name:e.name});break;case"<futureMetadata":for(var s=0;s<r.Types.length;++s)r.Types[s].name==e.name&&(i=r.Types[s]);break;case"<rc":1==o?r.Cell.push({type:r.Types[e.t-1].name,index:+e.v}):0==o&&r.Value.push({type:r.Types[e.t-1].name,index:+e.v});break;case"<cellMetadata":o=1;break;case"</cellMetadata>":case"</valueMetadata>":o=2;break;case"<valueMetadata":o=0;break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+e.i);break;default:if(!a&&n.WTF)throw new Error("unrecognized "+e[0]+" in metadata")}return t})),r}(t,0,n)}var bs,ws=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Ss=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Cs(t,e){var n=t.split(/\s+/),r=[];if(e||(r[0]=n[0]),1===n.length)return r;var i,a,o,s=t.match(ws);if(s)for(o=0;o!=s.length;++o)-1===(a=(i=s[o].match(Ss))[1].indexOf(":"))?r[i[1]]=i[2].slice(1,i[2].length-1):r["xmlns:"===i[1].slice(0,6)?"xmlns"+i[1].slice(6):i[1].slice(a+1)]=i[2].slice(1,i[2].length-1);return r}function Ts(t){var e={};if(1===t.split(/\s+/).length)return e;var n,r,i,a=t.match(ws);if(a)for(i=0;i!=a.length;++i)-1===(r=(n=a[i].match(Ss))[1].indexOf(":"))?e[n[1]]=n[2].slice(1,n[2].length-1):e["xmlns:"===n[1].slice(0,6)?"xmlns"+n[1].slice(6):n[1].slice(r+1)]=n[2].slice(1,n[2].length-1);return e}function Es(t,e,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=xe(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=Ut(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[de(e)]=i}function ks(t,e,n){if("z"!==t.t){if(!n||!1!==n.cellText)try{"e"===t.t?t.w=t.w||vr[t.v]:"General"===e?"n"===t.t?(0|t.v)===t.v?t.w=t.v.toString(10):t.w=K(t.v):t.w=J(t.v):t.w=function(t,e){var n=bs[t]||de(t);return"General"===n?J(e):xt(n,e)}(e||"General",t.v)}catch(a){if(n.WTF)throw a}try{var r=bs[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&"n"==t.t&&gt(r)){var i=W(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(n.WTF)throw a}}}function Ms(t,e,n){if(n.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=ma[r.Pattern]||r.Pattern)}t[e.ID]=e}function As(t,e,n,r,i,a,o,s,l,c){var u="General",h=r.StyleID,f={};c=c||{};var p=[],d=0;for(void 0===h&&s&&(h=s.StyleID),void 0===h&&o&&(h=o.StyleID);void 0!==a[h]&&(a[h].nf&&(u=a[h].nf),a[h].Interior&&p.push(a[h].Interior),a[h].Parent);)h=a[h].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=xe(t);break;case"String":r.t="s",r.r=me(de(t)),r.v=t.indexOf("<")>-1?de(e||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":"Z"!=t.slice(-1)&&(t+="Z"),r.v=(Ut(t)-new Date(Date.UTC(1899,11,30)))/864e5,r.v!==r.v?r.v=de(t):r.v<60&&(r.v=r.v-1),u&&"General"!=u||(u="yyyy-mm-dd");case"Number":void 0===r.v&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=yr[t],!1!==c.cellText&&(r.w=t);break;default:""==t&&""==e?r.t="z":(r.t="s",r.v=me(e||t))}if(ks(r,u,c),!1!==c.cellFormula)if(r.Formula){var g=de(r.Formula);61==g.charCodeAt(0)&&(g=g.slice(1)),r.f=Ua(g,i),delete r.Formula,"RC"==r.ArrayRange?r.F=Ua("RC:RC",i):r.ArrayRange&&(r.F=Ua(r.ArrayRange,i),l.push([_n(r.F),r.F]))}else for(d=0;d<l.length;++d)i.r>=l[d][0].s.r&&i.r<=l[d][0].e.r&&i.c>=l[d][0].s.c&&i.c<=l[d][0].e.c&&(r.F=l[d][1]);c.cellStyles&&(p.forEach((function(t){!f.patternType&&t.patternType&&(f.patternType=t.patternType)})),r.s=f),void 0!==r.StyleID&&(r.ixfe=r.StyleID)}function Os(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),t.v=t.w=t.ixfe=void 0}function Fs(t,e){var n=e||{};wt();var r=d(Re(t));"binary"!=n.type&&"array"!=n.type&&"base64"!=n.type||(r="undefined"!==typeof p?p.utils.decode(65001,h(r)):Te(r));var i,a=r.slice(0,1024).toLowerCase(),o=!1;if((1023&(a=a.replace(/".*?"/g,"")).indexOf(">"))>Math.min(1023&a.indexOf(","),1023&a.indexOf(";"))){var s=Ht(n);return s.type="string",Pi.to_workbook(r,s)}if(-1==a.indexOf("<?xml")&&["html","table","head","meta","script","style","div"].forEach((function(t){a.indexOf("<"+t)>=0&&(o=!0)})),o)return function(t,e){var n=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||0==n.length)throw new Error("Invalid HTML: could not find <table>");if(1==n.length)return zn(Gs(n[0],e),e);var r={SheetNames:[],Sheets:{}};return n.forEach((function(t,n){Hl(r,Gs(t,e),"Sheet"+(n+1))})),r}(r,n);bs={"General Number":"General","General Date":z[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":z[15],"Short Date":z[14],"Long Time":z[19],"Medium Time":z[18],"Short Time":z[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:z[2],Standard:z[4],Percent:z[10],Scientific:z[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[];null!=y&&null==n.dense&&(n.dense=y);var u,f={},g=[],v=n.dense?[]:{},m="",x={},b={},w=Cs('<Data ss:Type="String">'),S=0,C=0,T=0,E={s:{r:2e6,c:2e6},e:{r:0,c:0}},k={},M={},A="",O=0,F=[],I={},P={},D=0,L=[],R=[],B={},_=[],N=!1,U=[],H=[],V={},G=0,W=0,Y={Sheets:[],WBProps:{date1904:!1}},j={};Be.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/gm,"");for(var X="";i=Be.exec(r);)switch(i[3]=(X=i[3]).toLowerCase()){case"data":if("data"==X){if("/"===i[1]){if((l=c.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==i[0].charAt(i[0].length-2)&&c.push([i[3],!0]);break}if(c[c.length-1][1])break;"/"===i[1]?As(r.slice(S,i.index),A,w,"comment"==c[c.length-1][0]?B:x,{c:C,r:T},k,_[C],b,U,n):(A="",w=Cs(i[0]),S=i.index+i[0].length);break;case"cell":if("/"===i[1])if(R.length>0&&(x.c=R),(!n.sheetRows||n.sheetRows>T)&&void 0!==x.v&&(n.dense?(v[T]||(v[T]=[]),v[T][C]=x):v[Pn(C)+Fn(T)]=x),x.HRef&&(x.l={Target:de(x.HRef)},x.HRefScreenTip&&(x.l.Tooltip=x.HRefScreenTip),delete x.HRef,delete x.HRefScreenTip),(x.MergeAcross||x.MergeDown)&&(G=C+(0|parseInt(x.MergeAcross,10)),W=T+(0|parseInt(x.MergeDown,10)),F.push({s:{c:C,r:T},e:{c:G,r:W}})),n.sheetStubs)if(x.MergeAcross||x.MergeDown){for(var $=C;$<=G;++$)for(var q=T;q<=W;++q)($>C||q>T)&&(n.dense?(v[q]||(v[q]=[]),v[q][$]={t:"z"}):v[Pn($)+Fn(q)]={t:"z"});C=G+1}else++C;else x.MergeAcross?C=G+1:++C;else(x=Ts(i[0])).Index&&(C=+x.Index-1),C<E.s.c&&(E.s.c=C),C>E.e.c&&(E.e.c=C),"/>"===i[0].slice(-2)&&++C,R=[];break;case"row":"/"===i[1]||"/>"===i[0].slice(-2)?(T<E.s.r&&(E.s.r=T),T>E.e.r&&(E.e.r=T),"/>"===i[0].slice(-2)&&(b=Cs(i[0])).Index&&(T=+b.Index-1),C=0,++T):((b=Cs(i[0])).Index&&(T=+b.Index-1),V={},("0"==b.AutoFitHeight||b.Height)&&(V.hpx=parseInt(b.Height,10),V.hpt=va(V.hpx),H[T]=V),"1"==b.Hidden&&(V.hidden=!0,H[T]=V));break;case"worksheet":if("/"===i[1]){if((l=c.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"));g.push(m),E.s.r<=E.e.r&&E.s.c<=E.e.c&&(v["!ref"]=Bn(E),n.sheetRows&&n.sheetRows<=E.e.r&&(v["!fullref"]=v["!ref"],E.e.r=n.sheetRows-1,v["!ref"]=Bn(E))),F.length&&(v["!merges"]=F),_.length>0&&(v["!cols"]=_),H.length>0&&(v["!rows"]=H),f[m]=v}else E={s:{r:2e6,c:2e6},e:{r:0,c:0}},T=C=0,c.push([i[3],!1]),l=Cs(i[0]),m=de(l.Name),v=n.dense?[]:{},F=[],U=[],H=[],j={name:m,Hidden:0},Y.Sheets.push(j);break;case"table":if("/"===i[1]){if((l=c.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"))}else{if("/>"==i[0].slice(-2))break;c.push([i[3],!1]),_=[],N=!1}break;case"style":"/"===i[1]?Ms(k,M,n):M=Cs(i[0]);break;case"numberformat":M.nf=de(Cs(i[0]).Format||"General"),bs[M.nf]&&(M.nf=bs[M.nf]);for(var Z=0;392!=Z&&z[Z]!=M.nf;++Z);if(392==Z)for(Z=57;392!=Z;++Z)if(null==z[Z]){bt(M.nf,Z);break}break;case"column":if("table"!==c[c.length-1][0])break;if((u=Cs(i[0])).Hidden&&(u.hidden=!0,delete u.Hidden),u.Width&&(u.wpx=parseInt(u.Width,10)),!N&&u.wpx>10){N=!0,la=aa;for(var K=0;K<_.length;++K)_[K]&&da(_[K])}N&&da(u),_[u.Index-1||_.length]=u;for(var J=0;J<+u.Span;++J)_[_.length]=Ht(u);break;case"namedrange":if("/"===i[1])break;Y.Names||(Y.Names=[]);var Q=ue(i[0]),tt={Name:Q.Name,Ref:Ua(Q.RefersTo.slice(1),{r:0,c:0})};Y.Sheets.length>0&&(tt.Sheet=Y.Sheets.length-1),Y.Names.push(tt);break;case"namedcell":case"b":case"i":case"u":case"s":case"em":case"h2":case"h3":case"sub":case"sup":case"span":case"alignment":case"borders":case"border":case"protection":case"paragraphs":case"name":case"pixelsperinch":case"null":break;case"font":if("/>"===i[0].slice(-2))break;"/"===i[1]?A+=r.slice(O,i.index):O=i.index+i[0].length;break;case"interior":if(!n.cellStyles)break;M.Interior=Cs(i[0]);break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if("/>"===i[0].slice(-2))break;"/"===i[1]?Ir(I,X,r.slice(D,i.index)):D=i.index+i[0].length;break;case"styles":case"workbook":if("/"===i[1]){if((l=c.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"))}else c.push([i[3],!1]);break;case"comment":if("/"===i[1]){if((l=c.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"));Os(B),R.push(B)}else c.push([i[3],!1]),B={a:(l=Cs(i[0])).Author};break;case"autofilter":if("/"===i[1]){if((l=c.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"))}else if("/"!==i[0].charAt(i[0].length-2)){var et=Cs(i[0]);v["!autofilter"]={ref:Ua(et.Range).replace(/\$/g,"")},c.push([i[3],!0])}break;case"datavalidation":if("/"===i[1]){if((l=c.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==i[0].charAt(i[0].length-2)&&c.push([i[3],!0]);break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if("/"===i[1]){if((l=c.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==i[0].charAt(i[0].length-2)&&c.push([i[3],!0]);break;default:if(0==c.length&&"document"==i[3])return nl(r,n);if(0==c.length&&"uof"==i[3])return nl(r,n);var nt=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(i[3]){case"allowpng":case"removepersonalinformation":case"downloadcomponents":case"locationofcomponents":case"colors":case"color":case"index":case"rgb":case"targetscreensize":case"readonlyrecommended":break;default:nt=!1}break;case"componentoptions":switch(i[3]){case"toolbar":case"hideofficelogo":case"spreadsheetautofit":case"label":case"caption":case"maxheight":case"maxwidth":case"nextsheetnumber":break;default:nt=!1}break;case"excelworkbook":switch(i[3]){case"date1904":Y.WBProps.date1904=!0;break;case"windowheight":case"windowwidth":case"windowtopx":case"windowtopy":case"tabratio":case"protectstructure":case"protectwindow":case"protectwindows":case"activesheet":case"displayinknotes":case"firstvisiblesheet":case"supbook":case"sheetname":case"sheetindex":case"sheetindexfirst":case"sheetindexlast":case"dll":case"acceptlabelsinformulas":case"donotsavelinkvalues":case"iteration":case"maxiterations":case"maxchange":case"path":case"xct":case"count":case"selectedsheets":case"calculation":case"uncalced":case"startupprompt":case"crn":case"externname":case"formula":case"colfirst":case"collast":case"wantadvise":case"boolean":case"error":case"text":case"ole":case"noautorecover":case"publishobjects":case"donotcalculatebeforesave":case"number":case"refmoder1c1":case"embedsavesmarttags":break;default:nt=!1}break;case"workbookoptions":switch(i[3]){case"owcversion":case"height":case"width":break;default:nt=!1}break;case"worksheetoptions":switch(i[3]){case"visible":if("/>"===i[0].slice(-2));else if("/"===i[1])switch(r.slice(D,i.index)){case"SheetHidden":j.Hidden=1;break;case"SheetVeryHidden":j.Hidden=2}else D=i.index+i[0].length;break;case"header":v["!margins"]||Do(v["!margins"]={},"xlml"),isNaN(+ue(i[0]).Margin)||(v["!margins"].header=+ue(i[0]).Margin);break;case"footer":v["!margins"]||Do(v["!margins"]={},"xlml"),isNaN(+ue(i[0]).Margin)||(v["!margins"].footer=+ue(i[0]).Margin);break;case"pagemargins":var rt=ue(i[0]);v["!margins"]||Do(v["!margins"]={},"xlml"),isNaN(+rt.Top)||(v["!margins"].top=+rt.Top),isNaN(+rt.Left)||(v["!margins"].left=+rt.Left),isNaN(+rt.Right)||(v["!margins"].right=+rt.Right),isNaN(+rt.Bottom)||(v["!margins"].bottom=+rt.Bottom);break;case"displayrighttoleft":Y.Views||(Y.Views=[]),Y.Views[0]||(Y.Views[0]={}),Y.Views[0].RTL=!0;break;case"freezepanes":case"frozennosplit":case"splithorizontal":case"splitvertical":case"donotdisplaygridlines":case"activerow":case"activecol":case"toprowbottompane":case"leftcolumnrightpane":case"unsynced":case"print":case"printerrors":case"panes":case"scale":case"pane":case"number":case"layout":case"pagesetup":case"selected":case"protectobjects":case"enableselection":case"protectscenarios":case"validprinterinfo":case"horizontalresolution":case"verticalresolution":case"numberofcopies":case"activepane":case"toprowvisible":case"leftcolumnvisible":case"fittopage":case"rangeselection":case"papersizeindex":case"pagelayoutzoom":case"pagebreakzoom":case"filteron":case"fitwidth":case"fitheight":case"commentslayout":case"zoom":case"lefttoright":case"gridlines":case"allowsort":case"allowfilter":case"allowinsertrows":case"allowdeleterows":case"allowinsertcols":case"allowdeletecols":case"allowinserthyperlinks":case"allowformatcells":case"allowsizecols":case"allowsizerows":case"tabcolorindex":case"donotdisplayheadings":case"showpagelayoutzoom":case"blackandwhite":case"donotdisplayzeros":case"displaypagebreak":case"rowcolheadings":case"donotdisplayoutline":case"noorientation":case"allowusepivottables":case"zeroheight":case"viewablerange":case"selection":case"protectcontents":break;case"nosummaryrowsbelowdetail":v["!outline"]||(v["!outline"]={}),v["!outline"].above=!0;break;case"nosummarycolumnsrightdetail":v["!outline"]||(v["!outline"]={}),v["!outline"].left=!0;break;default:nt=!1}break;case"pivottable":case"pivotcache":switch(i[3]){case"immediateitemsondrop":case"showpagemultipleitemlabel":case"compactrowindent":case"location":case"pivotfield":case"orientation":case"layoutform":case"layoutsubtotallocation":case"layoutcompactrow":case"position":case"pivotitem":case"datatype":case"datafield":case"sourcename":case"parentfield":case"ptlineitems":case"ptlineitem":case"countofsameitems":case"item":case"itemtype":case"ptsource":case"cacheindex":case"consolidationreference":case"filename":case"reference":case"nocolumngrand":case"norowgrand":case"blanklineafteritems":case"hidden":case"subtotal":case"basefield":case"mapchilditems":case"function":case"refreshonfileopen":case"printsettitles":case"mergelabels":case"defaultversion":case"refreshname":case"refreshdate":case"refreshdatecopy":case"versionlastrefresh":case"versionlastupdate":case"versionupdateablemin":case"versionrefreshablemin":case"calculation":break;default:nt=!1}break;case"pagebreaks":switch(i[3]){case"colbreaks":case"colbreak":case"rowbreaks":case"rowbreak":case"colstart":case"colend":case"rowend":break;default:nt=!1}break;case"autofilter":switch(i[3]){case"autofiltercolumn":case"autofiltercondition":case"autofilterand":case"autofilteror":break;default:nt=!1}break;case"querytable":switch(i[3]){case"id":case"autoformatfont":case"autoformatpattern":case"querysource":case"querytype":case"enableredirections":case"refreshedinxl9":case"urlstring":case"htmltables":case"connection":case"commandtext":case"refreshinfo":case"notitles":case"nextid":case"columninfo":case"overwritecells":case"donotpromptforfile":case"textwizardsettings":case"source":case"number":case"decimal":case"thousandseparator":case"trailingminusnumbers":case"formatsettings":case"fieldtype":case"delimiters":case"tab":case"comma":case"autoformatname":case"versionlastedit":case"versionlastrefresh":break;default:nt=!1}break;case"datavalidation":switch(i[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":case"cellrangelist":break;default:nt=!1}break;case"sorting":case"conditionalformatting":switch(i[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"cellrangelist":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":break;default:nt=!1}break;case"mapinfo":case"schema":case"data":switch(i[3]){case"map":case"entry":case"range":case"xpath":case"field":case"xsdtype":case"filteron":case"aggregate":case"elementtype":case"attributetype":case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":case"row":break;default:nt=!1}break;case"smarttags":break;default:nt=!1}if(nt)break;if(i[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+i[3]+"|"+c.join("|");if("customdocumentproperties"===c[c.length-1][0]){if("/>"===i[0].slice(-2))break;"/"===i[1]?Es(P,X,L,r.slice(D,i.index)):(L=i,D=i.index+i[0].length);break}if(n.WTF)throw"Unrecognized tag: "+i[3]+"|"+c.join("|")}var it={};return n.bookSheets||n.bookProps||(it.Sheets=f),it.SheetNames=g,it.Workbook=Y,it.SSF=Ht(z),it.Props=I,it.Custprops=P,it}function Is(t,e){switch(Cl(e=e||{}),e.type||"base64"){case"base64":return Fs(b(t),e);case"binary":case"buffer":case"file":return Fs(t,e);case"array":return Fs(k(t),e)}}function Ps(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=function(t){return rr(t,1)}(n),n.length-n.l<=4)return e;var r=n.read_shift(4);return 0==r||r>40?e:(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4||1907505652!==(r=n.read_shift(4))?e:(e.UnicodeClipboardFormat=function(t){return rr(t,2)}(n),0==(r=n.read_shift(4))||r>40?e:(n.l-=4,void(e.Reserved2=n.read_shift(0,"lpwstr")))))}var Ds=[60,1084,2066,2165,2175];function Ls(t,e,n,r,i){var a=r,o=[],s=n.slice(n.l,n.l+a);if(i&&i.enc&&i.enc.insitu&&s.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:case 133:break;default:i.enc.insitu(s)}o.push(s),n.l+=a;for(var l=cn(n,n.l),c=Hs[l],u=0;null!=c&&Ds.indexOf(l)>-1;)a=cn(n,n.l+2),u=n.l+4,2066==l?u+=4:2165!=l&&2175!=l||(u+=12),s=n.slice(u,n.l+4+a),o.push(s),n.l+=4+a,c=Hs[l=cn(n,n.l)];var h=A(o);bn(h,0);var f=0;h.lens=[];for(var p=0;p<o.length;++p)h.lens.push(f),f+=o[p].length;if(h.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+h.length+" < "+r;return e.f(h,h.length,i)}function Rs(t,e,n){if("z"!==t.t&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=z[r])}catch(a){if(e.WTF)throw a}if(!e||!1!==e.cellText)try{"e"===t.t?t.w=t.w||vr[t.v]:0===r||"General"==r?"n"===t.t?(0|t.v)===t.v?t.w=t.v.toString(10):t.w=K(t.v):t.w=J(t.v):t.w=xt(r,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(a){if(e.WTF)throw a}if(e.cellDates&&r&&"n"==t.t&&gt(z[r]||String(r))){var i=W(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function Bs(t,e,n){return{v:t,ixfe:e,t:n}}function _s(t,e){var n={opts:{}},r={};null!=y&&null==e.dense&&(e.dense=y);var i,a,o,s,l,u,h,f,p=e.dense?[]:{},d={},g={},v=null,m=[],x="",b={},w="",S={},C=[],T=[],E=[],k={Sheets:[],WBProps:{date1904:!1},Views:[{}]},M={},A=function(t){return t<8?gr[t]:t<64&&E[t-8]||gr[t]},O=function(t,e,n){if(!(U>1)&&!(n.sheetRows&&t.r>=n.sheetRows)){if(n.cellStyles&&e.XF&&e.XF.data&&function(t,e,n){var r,i=e.XF.data;i&&i.patternType&&n&&n.cellStyles&&(e.s={},e.s.patternType=i.patternType,(r=ra(A(i.icvFore)))&&(e.s.fgColor={rgb:r}),(r=ra(A(i.icvBack)))&&(e.s.bgColor={rgb:r}))}(0,e,n),delete e.ixfe,delete e.XF,i=t,w=Ln(t),g&&g.s&&g.e||(g={s:{r:0,c:0},e:{r:0,c:0}}),t.r<g.s.r&&(g.s.r=t.r),t.c<g.s.c&&(g.s.c=t.c),t.r+1>g.e.r&&(g.e.r=t.r+1),t.c+1>g.e.c&&(g.e.c=t.c+1),n.cellFormula&&e.f)for(var r=0;r<C.length;++r)if(!(C[r][0].s.c>t.c||C[r][0].s.r>t.r)&&!(C[r][0].e.c<t.c||C[r][0].e.r<t.r)){e.F=Bn(C[r][0]),C[r][0].s.c==t.c&&C[r][0].s.r==t.r||delete e.f,e.f&&(e.f=""+yo(C[r][1],0,t,B,F));break}n.dense?(p[t.r]||(p[t.r]=[]),p[t.r][t.c]=e):p[w]=e}},F={enc:!1,sbcch:0,snames:[],sharedf:S,arrayf:C,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(F.password=e.password);var I=[],P=[],D=[],L=[],R=!1,B=[];B.SheetNames=F.snames,B.sharedf=F.sharedf,B.arrayf=F.arrayf,B.names=[],B.XTI=[];var _,N=0,U=0,H=0,V=[],G=[];F.codepage=1200,c(1200);for(var W=!1;t.l<t.length-1;){var Y=t.l,j=t.read_shift(2);if(0===j&&10===N)break;var X=t.l===t.length?0:t.read_shift(2),$=Hs[j];if($&&$.f){if(e.bookSheets&&133===N&&133!==j)break;if(N=j,2===$.r||12==$.r){var q=t.read_shift(2);if(X-=2,!F.enc&&q!==j&&((255&q)<<8|q>>8)!==j)throw new Error("rt mismatch: "+q+"!="+j);12==$.r&&(t.l+=10,X-=10)}var Z={};if(Z=10===j?$.f(t,X,F):Ls(j,$,t,X,F),0==U&&-1===[9,521,1033,2057].indexOf(N))continue;switch(j){case 34:n.opts.Date1904=k.WBProps.date1904=Z;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(F.enc||(t.l=0),F.enc=Z,!e.password)throw new Error("File is password-protected");if(null==Z.valid)throw new Error("Encryption scheme unsupported");if(!Z.valid)throw new Error("Password is incorrect");break;case 92:F.lastuser=Z;break;case 66:var K=Number(Z);switch(K){case 21010:K=1200;break;case 32768:K=1e4;break;case 32769:K=1252}c(F.codepage=K),W=!0;break;case 317:F.rrtabid=Z;break;case 25:F.winlocked=Z;break;case 439:n.opts.RefreshAll=Z;break;case 12:n.opts.CalcCount=Z;break;case 16:n.opts.CalcDelta=Z;break;case 17:n.opts.CalcIter=Z;break;case 13:n.opts.CalcMode=Z;break;case 14:n.opts.CalcPrecision=Z;break;case 95:n.opts.CalcSaveRecalc=Z;break;case 15:F.CalcRefMode=Z;break;case 2211:n.opts.FullCalc=Z;break;case 129:Z.fDialog&&(p["!type"]="dialog"),Z.fBelow||((p["!outline"]||(p["!outline"]={})).above=!0),Z.fRight||((p["!outline"]||(p["!outline"]={})).left=!0);break;case 224:T.push(Z);break;case 430:B.push([Z]),B[B.length-1].XTI=[];break;case 35:case 547:B[B.length-1].push(Z);break;case 24:case 536:_={Name:Z.Name,Ref:yo(Z.rgce,0,null,B,F)},Z.itab>0&&(_.Sheet=Z.itab-1),B.names.push(_),B[0]||(B[0]=[],B[0].XTI=[]),B[B.length-1].push(Z),"_xlnm._FilterDatabase"==Z.Name&&Z.itab>0&&Z.rgce&&Z.rgce[0]&&Z.rgce[0][0]&&"PtgArea3d"==Z.rgce[0][0][0]&&(G[Z.itab-1]={ref:Bn(Z.rgce[0][0][1][2])});break;case 22:F.ExternCount=Z;break;case 23:0==B.length&&(B[0]=[],B[0].XTI=[]),B[B.length-1].XTI=B[B.length-1].XTI.concat(Z),B.XTI=B.XTI.concat(Z);break;case 2196:if(F.biff<8)break;null!=_&&(_.Comment=Z[1]);break;case 18:p["!protect"]=Z;break;case 19:0!==Z&&F.WTF&&console.error("Password verifier: "+Z);break;case 133:d[Z.pos]=Z,F.snames.push(Z.name);break;case 10:if(--U)break;if(g.e){if(g.e.r>0&&g.e.c>0){if(g.e.r--,g.e.c--,p["!ref"]=Bn(g),e.sheetRows&&e.sheetRows<=g.e.r){var J=g.e.r;g.e.r=e.sheetRows-1,p["!fullref"]=p["!ref"],p["!ref"]=Bn(g),g.e.r=J}g.e.r++,g.e.c++}I.length>0&&(p["!merges"]=I),P.length>0&&(p["!objects"]=P),D.length>0&&(p["!cols"]=D),L.length>0&&(p["!rows"]=L),k.Sheets.push(M)}""===x?b=p:r[x]=p,p=e.dense?[]:{};break;case 9:case 521:case 1033:case 2057:if(8===F.biff&&(F.biff={9:2,521:3,1033:4}[j]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Z.BIFFVer]||8),F.biffguess=0==Z.BIFFVer,0==Z.BIFFVer&&4096==Z.dt&&(F.biff=5,W=!0,c(F.codepage=28591)),8==F.biff&&0==Z.BIFFVer&&16==Z.dt&&(F.biff=2),U++)break;if(p=e.dense?[]:{},F.biff<8&&!W&&(W=!0,c(F.codepage=e.codepage||1252)),F.biff<5||0==Z.BIFFVer&&4096==Z.dt){""===x&&(x="Sheet1"),g={s:{r:0,c:0},e:{r:0,c:0}};var Q={pos:t.l-X,name:x};d[Q.pos]=Q,F.snames.push(x)}else x=(d[Y]||{name:""}).name;32==Z.dt&&(p["!type"]="chart"),64==Z.dt&&(p["!type"]="macro"),I=[],P=[],F.arrayf=C=[],D=[],L=[],R=!1,M={Hidden:(d[Y]||{hs:0}).hs,name:x};break;case 515:case 3:case 2:"chart"==p["!type"]&&(e.dense?(p[Z.r]||[])[Z.c]:p[Ln({c:Z.c,r:Z.r})])&&++Z.c,u={ixfe:Z.ixfe,XF:T[Z.ixfe]||{},v:Z.val,t:"n"},H>0&&(u.z=V[u.ixfe>>8&63]),Rs(u,e,n.opts.Date1904),O({c:Z.c,r:Z.r},u,e);break;case 5:case 517:u={ixfe:Z.ixfe,XF:T[Z.ixfe],v:Z.val,t:Z.t},H>0&&(u.z=V[u.ixfe>>8&63]),Rs(u,e,n.opts.Date1904),O({c:Z.c,r:Z.r},u,e);break;case 638:u={ixfe:Z.ixfe,XF:T[Z.ixfe],v:Z.rknum,t:"n"},H>0&&(u.z=V[u.ixfe>>8&63]),Rs(u,e,n.opts.Date1904),O({c:Z.c,r:Z.r},u,e);break;case 189:for(var tt=Z.c;tt<=Z.C;++tt){var et=Z.rkrec[tt-Z.c][0];u={ixfe:et,XF:T[et],v:Z.rkrec[tt-Z.c][1],t:"n"},H>0&&(u.z=V[u.ixfe>>8&63]),Rs(u,e,n.opts.Date1904),O({c:tt,r:Z.r},u,e)}break;case 6:case 518:case 1030:if("String"==Z.val){v=Z;break}if((u=Bs(Z.val,Z.cell.ixfe,Z.tt)).XF=T[u.ixfe],e.cellFormula){var nt=Z.formula;if(nt&&nt[0]&&nt[0][0]&&"PtgExp"==nt[0][0][0]){var rt=nt[0][0][1][0],it=nt[0][0][1][1],at=Ln({r:rt,c:it});S[at]?u.f=""+yo(Z.formula,0,Z.cell,B,F):u.F=((e.dense?(p[rt]||[])[it]:p[at])||{}).F}else u.f=""+yo(Z.formula,0,Z.cell,B,F)}H>0&&(u.z=V[u.ixfe>>8&63]),Rs(u,e,n.opts.Date1904),O(Z.cell,u,e),v=Z;break;case 7:case 519:if(!v)throw new Error("String record expects Formula");v.val=Z,(u=Bs(Z,v.cell.ixfe,"s")).XF=T[u.ixfe],e.cellFormula&&(u.f=""+yo(v.formula,0,v.cell,B,F)),H>0&&(u.z=V[u.ixfe>>8&63]),Rs(u,e,n.opts.Date1904),O(v.cell,u,e),v=null;break;case 33:case 545:C.push(Z);var ot=Ln(Z[0].s);if(a=e.dense?(p[Z[0].s.r]||[])[Z[0].s.c]:p[ot],e.cellFormula&&a){if(!v)break;if(!ot||!a)break;a.f=""+yo(Z[1],0,Z[0],B,F),a.F=Bn(Z[0])}break;case 1212:if(!e.cellFormula)break;if(w){if(!v)break;S[Ln(v.cell)]=Z[0],((a=e.dense?(p[v.cell.r]||[])[v.cell.c]:p[Ln(v.cell)])||{}).f=""+yo(Z[0],0,i,B,F)}break;case 253:u=Bs(m[Z.isst].t,Z.ixfe,"s"),m[Z.isst].h&&(u.h=m[Z.isst].h),u.XF=T[u.ixfe],H>0&&(u.z=V[u.ixfe>>8&63]),Rs(u,e,n.opts.Date1904),O({c:Z.c,r:Z.r},u,e);break;case 513:e.sheetStubs&&(u={ixfe:Z.ixfe,XF:T[Z.ixfe],t:"z"},H>0&&(u.z=V[u.ixfe>>8&63]),Rs(u,e,n.opts.Date1904),O({c:Z.c,r:Z.r},u,e));break;case 190:if(e.sheetStubs)for(var st=Z.c;st<=Z.C;++st){var lt=Z.ixfe[st-Z.c];u={ixfe:lt,XF:T[lt],t:"z"},H>0&&(u.z=V[u.ixfe>>8&63]),Rs(u,e,n.opts.Date1904),O({c:st,r:Z.r},u,e)}break;case 214:case 516:case 4:(u=Bs(Z.val,Z.ixfe,"s")).XF=T[u.ixfe],H>0&&(u.z=V[u.ixfe>>8&63]),Rs(u,e,n.opts.Date1904),O({c:Z.c,r:Z.r},u,e);break;case 0:case 512:1===U&&(g=Z);break;case 252:m=Z;break;case 1054:if(4==F.biff){V[H++]=Z[1];for(var ct=0;ct<H+163&&z[ct]!=Z[1];++ct);ct>=163&&bt(Z[1],H+163)}else bt(Z[1],Z[0]);break;case 30:V[H++]=Z;for(var ut=0;ut<H+163&&z[ut]!=Z;++ut);ut>=163&&bt(Z,H+163);break;case 229:I=I.concat(Z);break;case 93:P[Z.cmo[0]]=F.lastobj=Z;break;case 438:F.lastobj.TxO=Z;break;case 127:F.lastobj.ImData=Z;break;case 440:for(l=Z[0].s.r;l<=Z[0].e.r;++l)for(s=Z[0].s.c;s<=Z[0].e.c;++s)(a=e.dense?(p[l]||[])[s]:p[Ln({c:s,r:l})])&&(a.l=Z[1]);break;case 2048:for(l=Z[0].s.r;l<=Z[0].e.r;++l)for(s=Z[0].s.c;s<=Z[0].e.c;++s)(a=e.dense?(p[l]||[])[s]:p[Ln({c:s,r:l})])&&a.l&&(a.l.Tooltip=Z[1]);break;case 28:if(F.biff<=5&&F.biff>=2)break;a=e.dense?(p[Z[0].r]||[])[Z[0].c]:p[Ln(Z[0])];var ht=P[Z[2]];a||(e.dense?(p[Z[0].r]||(p[Z[0].r]=[]),a=p[Z[0].r][Z[0].c]={t:"z"}):a=p[Ln(Z[0])]={t:"z"},g.e.r=Math.max(g.e.r,Z[0].r),g.s.r=Math.min(g.s.r,Z[0].r),g.e.c=Math.max(g.e.c,Z[0].c),g.s.c=Math.min(g.s.c,Z[0].c)),a.c||(a.c=[]),o={a:Z[1],t:ht.TxO.t},a.c.push(o);break;case 2173:T[Z.ixfe],Z.ext.forEach((function(t){t[0]}));break;case 125:if(!F.cellStyles)break;for(;Z.e>=Z.s;)D[Z.e--]={width:Z.w/256,level:Z.level||0,hidden:!!(1&Z.flags)},R||(R=!0,pa(Z.w/256)),da(D[Z.e+1]);break;case 520:var ft={};null!=Z.level&&(L[Z.r]=ft,ft.level=Z.level),Z.hidden&&(L[Z.r]=ft,ft.hidden=!0),Z.hpt&&(L[Z.r]=ft,ft.hpt=Z.hpt,ft.hpx=ya(Z.hpt));break;case 38:case 39:case 40:case 41:p["!margins"]||Do(p["!margins"]={}),p["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[j]]=Z;break;case 161:p["!margins"]||Do(p["!margins"]={}),p["!margins"].header=Z.header,p["!margins"].footer=Z.footer;break;case 574:Z.RTL&&(k.Views[0].RTL=!0);break;case 146:E=Z;break;case 2198:f=Z;break;case 140:h=Z;break;case 442:x?M.CodeName=Z||M.name:k.WBProps.CodeName=Z||"ThisWorkbook"}}else $||console.error("Missing Info for XLS Record 0x"+j.toString(16)),t.l+=X}return n.SheetNames=Mt(d).sort((function(t,e){return Number(t)-Number(e)})).map((function(t){return d[t].name})),e.bookSheets||(n.Sheets=r),!n.SheetNames.length&&b["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=b)):n.Preamble=b,n.Sheets&&G.forEach((function(t,e){n.Sheets[n.SheetNames[e]]["!autofilter"]=t})),n.Strings=m,n.SSF=Ht(z),F.enc&&(n.Encryption=F.enc),f&&(n.Themes=f),n.Metadata={},void 0!==h&&(n.Metadata.Country=h),B.names.length>0&&(k.Names=B.names),n.Workbook=k,n}var Ns={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Us(t,e){var n,r,i,a;if(e||(e={}),Cl(e),u(),e.codepage&&l(e.codepage),t.FullPaths){if(Et.find(t,"/encryption"))throw new Error("File is password-protected");n=Et.find(t,"!CompObj"),r=Et.find(t,"/Workbook")||Et.find(t,"/Book")}else{switch(e.type){case"base64":t=E(b(t));break;case"binary":t=E(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t))}bn(t,0),r={content:t}}if(n&&Ps(n),e.bookProps&&!e.bookSheets)i={};else{var o=w?"buffer":"array";if(r&&r.content)i=_s(r.content,e);else if((a=Et.find(t,"PerfectOffice_MAIN"))&&a.content)i=Di.to_workbook(a.content,(e.type=o,e));else{if(!(a=Et.find(t,"NativeContent_MAIN"))||!a.content)throw(a=Et.find(t,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");i=Di.to_workbook(a.content,(e.type=o,e))}e.bookVBA&&t.FullPaths&&Et.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=function(t){var e=Et.utils.cfb_new({root:"R"});return t.FullPaths.forEach((function(n,r){if("/"!==n.slice(-1)&&n.match(/_VBA_PROJECT_CUR/)){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Et.utils.cfb_add(e,i,t.FileIndex[r].content)}})),Et.write(e)}(t))}var s={};return t.FullPaths&&function(t,e,n){var r=Et.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=Vr(r,ur,Ns.DSI);for(var a in i)e[a]=i[a]}catch(c){if(n.WTF)throw c}var o=Et.find(t,"/!SummaryInformation");if(o&&o.size>0)try{var s=Vr(o,hr,Ns.SI);for(var l in s)null==e[l]&&(e[l]=s[l])}catch(c){if(n.WTF)throw c}e.HeadingPairs&&e.TitlesOfParts&&(Mr(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}(t,s,e),i.Props=i.Custprops=s,e.bookFiles&&(i.cfb=t),i}var zs={0:{f:function(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=r,7&a&&(n.level=7&a),16&a&&(n.hidden=!0),32&a&&(n.hpt=i/20),n}},1:{f:function(t){return[Xn(t)]}},2:{f:function(t){return[Xn(t),Qn(t),"n"]}},3:{f:function(t){return[Xn(t),t.read_shift(1),"e"]}},4:{f:function(t){return[Xn(t),t.read_shift(1),"b"]}},5:{f:function(t){return[Xn(t),nr(t),"n"]}},6:{f:function(t){return[Xn(t),Gn(t),"str"]}},7:{f:function(t){return[Xn(t),t.read_shift(4),"s"]}},8:{f:function(t,e,n){var r=t.l+e,i=Xn(t);i.r=n["!row"];var a=[i,Gn(t),"str"];if(n.cellFormula){t.l+=2;var o=Co(t,r-t.l,n);a[3]=yo(o,0,i,n.supbooks,n)}else t.l=r;return a}},9:{f:function(t,e,n){var r=t.l+e,i=Xn(t);i.r=n["!row"];var a=[i,nr(t),"n"];if(n.cellFormula){t.l+=2;var o=Co(t,r-t.l,n);a[3]=yo(o,0,i,n.supbooks,n)}else t.l=r;return a}},10:{f:function(t,e,n){var r=t.l+e,i=Xn(t);i.r=n["!row"];var a=[i,t.read_shift(1),"b"];if(n.cellFormula){t.l+=2;var o=Co(t,r-t.l,n);a[3]=yo(o,0,i,n.supbooks,n)}else t.l=r;return a}},11:{f:function(t,e,n){var r=t.l+e,i=Xn(t);i.r=n["!row"];var a=[i,t.read_shift(1),"e"];if(n.cellFormula){t.l+=2;var o=Co(t,r-t.l,n);a[3]=yo(o,0,i,n.supbooks,n)}else t.l=r;return a}},12:{f:function(t){return[$n(t)]}},13:{f:function(t){return[$n(t),Qn(t),"n"]}},14:{f:function(t){return[$n(t),t.read_shift(1),"e"]}},15:{f:function(t){return[$n(t),t.read_shift(1),"b"]}},16:{f:Zo},17:{f:function(t){return[$n(t),Gn(t),"str"]}},18:{f:function(t){return[$n(t),t.read_shift(4),"s"]}},19:{f:Yn},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),a=Kn(t),o=To(t,0,n),s=Zn(t);t.l=r;var l={Name:a,Ptg:o};return i<268435455&&(l.Sheet=i),s&&(l.Comment=s),l}},40:{},42:{},43:{f:function(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=function(t){var e=t.read_shift(1);return t.l++,{fBold:1&e,fItalic:2&e,fUnderline:4&e,fStrikeout:8&e,fOutline:16&e,fShadow:32&e,fCondense:64&e,fExtend:128&e}}(t);switch(i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1),700===t.read_shift(2)&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript"}var a=t.read_shift(1);0!=a&&(r.underline=a);var o=t.read_shift(1);o>0&&(r.family=o);var s=t.read_shift(1);switch(s>0&&(r.charset=s),t.l++,r.color=function(t){var e={},n=t.read_shift(1)>>>1,r=t.read_shift(1),i=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),s=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=r;var l=gr[r];l&&(e.rgb=ra(l));break;case 2:e.rgb=ra([a,o,s]);break;case 3:e.theme=r}return 0!=i&&(e.tint=i>0?i/32767:i/32768),e}(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor"}return r.name=Gn(t),r}},44:{f:function(t,e){return[t.read_shift(2),Gn(t)]}},45:{f:Sa},46:{f:Ca},47:{f:function(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}},48:{},49:{f:function(t){return t.read_shift(4,"i")}},50:{},51:{f:function(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Ci},62:{f:function(t){return[Xn(t),Yn(t),"is"]}},63:{f:function(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=Ln(n);var r=t.read_shift(1);return 2&r&&(e.l="1"),8&r&&(e.a="1"),e}},64:{f:function(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:wn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function(t){var e=t.read_shift(2);return t.l+=28,{RTL:32&e}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function(t,e){var n={},r=t[t.l];return++t.l,n.above=!(64&r),n.left=!(128&r),t.l+=18,n.name=qn(t,e-19),n}},148:{f:qo,p:16},151:{f:function(){}},152:{},153:{f:function(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?Gn(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(65536&r),n.backupFile=!!(64&r),n.checkCompatibility=!!(4096&r),n.date1904=!!(1&r),n.filterPrivacy=!!(8&r),n.hidePivotFieldList=!!(1024&r),n.promptedSolutions=!!(16&r),n.publishItems=!!(2048&r),n.refreshAllConnections=!!(262144&r),n.saveExternalLinkValues=!!(128&r),n.showBorderUnselectedTables=!!(4&r),n.showInkAnnotation=!!(32&r),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(32768&r),n.updateLinks=["userSet","never","always"][r>>8&3],n}},154:{},155:{},156:{f:function(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=Jn(t,e-8),n.name=Gn(t),n}},157:{},158:{},159:{T:1,f:function(t){return[t.read_shift(4),t.read_shift(4)]}},160:{T:-1},161:{T:1,f:er},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Ko},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Gn(t)}}},336:{T:-1},337:{f:function(t){return t.l+=4,0!=t.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Jn},357:{},358:{},359:{},360:{T:1},361:{},362:{f:bi},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function(t,e,n){var r=t.l+e,i=tr(t),a=t.read_shift(1),o=[i];if(o[2]=a,n.cellFormula){var s=So(t,r-t.l,n);o[1]=s}else t.l=r;return o}},427:{f:function(t,e,n){var r=t.l+e,i=[er(t,16)];if(n.cellFormula){var a=Eo(t,r-t.l,n);i[1]=a,t.l=r}else t.l=r;return i}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function(t){var e={};return Jo.forEach((function(n){e[n]=nr(t)})),e}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function(t,e){var n=t.l+e,r=er(t,16),i=Zn(t),a=Gn(t),o=Gn(t),s=Gn(t);t.l=n;var l={rfx:r,relId:i,loc:a,display:s};return o&&(l.Tooltip=o),l}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Jn},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:_a},633:{T:1},634:{T:-1},635:{T:1,f:function(t){var e={};e.iauthor=t.read_shift(4);var n=er(t,16);return e.rfx=n.s,e.ref=Ln(n.s),t.l+=16,e}},636:{T:-1},637:{f:jn},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function(t,e){return t.l+=10,{name:Gn(t)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Hs={6:{f:bo},10:{f:Gr},12:{f:Yr},13:{f:Yr},14:{f:Wr},15:{f:Wr},16:{f:nr},17:{f:Wr},18:{f:Wr},19:{f:Yr},20:{f:vi},21:{f:vi},23:{f:bi},24:{f:xi},25:{f:Wr},26:{},27:{},28:{f:function(t,e,n){return function(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2),o=t.read_shift(2),s=Kr(t,0,n);return n.biff<8&&t.read_shift(1),[{r:r,c:i},s,o,a]}}(t,0,n)}},29:{},34:{f:Wr},35:{f:yi},38:{f:nr},39:{f:nr},40:{f:nr},41:{f:nr},42:{f:Wr},43:{f:Wr},47:{f:function(t,e,n){var r={Type:n.biff>=8?t.read_shift(2):0};return r.Type?ea(t,e-2,r):function(t,e,n,r){var i={key:Yr(t),verificationBytes:Yr(t)};n.password&&(i.verifier=Ji(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=ta(n.password))}(t,n.biff,n,r),r}},49:{f:function(t,e,n){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10}return r.name=Xr(t,0,n),r}},51:{f:Yr},60:{},61:{f:function(t){return{Pos:[t.read_shift(2),t.read_shift(2)],Dim:[t.read_shift(2),t.read_shift(2)],Flags:t.read_shift(2),CurTab:t.read_shift(2),FirstTab:t.read_shift(2),Selected:t.read_shift(2),TabRatio:t.read_shift(2)}}},64:{f:Wr},65:{f:function(){}},66:{f:Yr},77:{},80:{},81:{},82:{},85:{f:Yr},89:{},90:{},91:{},92:{f:function(t,e,n){if(n.enc)return t.l+=e,"";var r=t.l,i=Kr(t,0,n);return t.read_shift(e+r-t.l),i}},93:{f:function(t,e,n){if(n&&n.biff<8)return function(t,e,n){t.l+=4;var r=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var o=[];return o.push((Si[r]||wn)(t,e,n)),{cmo:[i,r,a],ft:o}}(t,e,n);var r=li(t),i=function(t,e){for(var n=t.l+e,r=[];t.l<n;){var i=t.read_shift(2);t.l-=2;try{r.push(ui[i](t,n-t.l))}catch(a){return t.l=n,r}}return t.l!=n&&(t.l=n),r}(t,e-22,r[1]);return{cmo:r,ft:i}}},94:{},95:{f:Wr},96:{},97:{},99:{f:Wr},125:{f:Ci},128:{f:function(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(0!==e[0]&&e[0]--,0!==e[1]&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}},129:{f:function(t,e,n){var r=n&&8==n.biff||2==e?t.read_shift(2):(t.l+=e,0);return{fDialog:16&r,fBelow:64&r,fRight:128&r}}},130:{f:Yr},131:{f:Wr},132:{f:Wr},133:{f:function(t,e,n){var r=t.read_shift(4),i=3&t.read_shift(1),a=t.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule"}var o=Xr(t,0,n);return 0===o.length&&(o="Sheet1"),{pos:r,hs:i,dt:a,name:o}}},134:{},140:{f:function(t){var e,n=[0,0];return e=t.read_shift(2),n[0]=fr[e]||e,e=t.read_shift(2),n[1]=fr[e]||e,n}},141:{f:Yr},144:{},146:{f:function(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(ei(t));return n}},151:{},152:{},153:{},154:{},155:{},156:{f:Yr},157:{},158:{},160:{f:Ei},161:{f:function(t,e){var n={};return e<32||(t.l+=16,n.header=nr(t),n.footer=nr(t),t.l+=2),n}},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:function(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),a=[];t.l<n;)a.push(ii(t));if(t.l!==n)throw new Error("MulRK read error");var o=t.read_shift(2);if(a.length!=o-i+1)throw new Error("MulRK length mismatch");return{r:r,c:i,C:o,rkrec:a}}},190:{f:function(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),a=[];t.l<n;)a.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var o=t.read_shift(2);if(a.length!=o-i+1)throw new Error("MulBlank length mismatch");return{r:r,c:i,C:o,ixfe:a}}},193:{f:Gr},197:{},198:{},199:{},200:{},201:{},202:{f:Wr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Yr},220:{},221:{f:Wr},222:{},224:{f:function(t,e,n){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,6,r.data=function(t,e,n,r){var i={},a=t.read_shift(4),o=t.read_shift(4),s=t.read_shift(4),l=t.read_shift(2);return i.patternType=pr[s>>26],r.cellStyles?(i.alc=7&a,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=15&o,i.dgRight=o>>4&15,i.dgTop=o>>8&15,i.dgBottom=o>>12&15,i.icvLeft=o>>16&127,i.icvRight=o>>23&127,i.grbitDiag=o>>30&3,i.icvTop=127&s,i.icvBottom=s>>7&127,i.icvDiag=s>>14&127,i.dgDiag=s>>21&15,i.icvFore=127&l,i.icvBack=l>>7&127,i.fsxButton=l>>14&1,i):i}(t,0,r.fStyle,n),r}},225:{f:function(t,e){return 0===e||t.read_shift(2),1200}},226:{f:Gr},227:{},229:{f:function(t,e){for(var n=[],r=t.read_shift(2);r--;)n.push(ai(t));return n}},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:function(t,e){for(var n=t.l+e,r=t.read_shift(4),i=t.read_shift(4),a=[],o=0;o!=i&&t.l<n;++o)a.push($r(t));return a.Count=r,a.Unique=i,a}},253:{f:function(t){var e=ni(t);return e.isst=t.read_shift(4),e}},255:{f:function(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:jr},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Wr},353:{f:Gr},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:function(t,e,n){var r=t.l+e,i=t.read_shift(2),a=t.read_shift(2);if(n.sbcch=a,1025==a||14849==a)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var o=qr(t,a),s=[];r>t.l;)s.push(Zr(t));return[a,i,o,s]}},431:{f:Wr},432:{},433:{},434:{},437:{},438:{f:function(t,e,n){var r=t.l,i="";try{t.l+=4;var a=(n.lastobj||{cmo:[0,0]}).cmo[1];-1==[0,5,7,11,12,14].indexOf(a)?t.l+=6:function(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);return t.l+=2,[e,n]}(t);var o=t.read_shift(2);t.read_shift(2),Yr(t);var s=t.read_shift(2);t.l+=s;for(var l=1;l<t.lens.length-1;++l){if(t.l-r!=t.lens[l])throw new Error("TxO: bad continue record");var c=t[t.l];if((i+=qr(t,t.lens[l+1]-t.lens[l]-1)).length>=(c?o:2*o))break}if(i.length!==o&&i.length!==2*o)throw new Error("cchText: "+o+" != "+i.length);return t.l=r+e,{t:i}}catch(u){return t.l=r+e,{t:i}}}},439:{f:Wr},440:{f:function(t,e){var n=ai(t);t.l+=16;var r=function(t,e){var n=t.l+e,r=t.read_shift(4);if(2!==r)throw new Error("Unrecognized streamVersion: "+r);var i=t.read_shift(2);t.l+=2;var a,o,s,l,c,u,h="";16&i&&(a=Qr(t,t.l)),128&i&&(o=Qr(t,t.l)),257===(257&i)&&(s=Qr(t,t.l)),1===(257&i)&&(l=Jr(t,t.l)),8&i&&(h=Qr(t,t.l)),32&i&&(c=t.read_shift(16)),64&i&&(u=Pr(t)),t.l=n;var f=o||s||l||"";f&&h&&(f+="#"+h),f||(f="#"+h),2&i&&"/"==f.charAt(0)&&"/"!=f.charAt(1)&&(f="file://"+f);var p={Target:f};return c&&(p.guid=c),u&&(p.time=u),a&&(p.Tooltip=a),p}(t,e-24);return[n,r]}},441:{},442:{f:Zr},443:{},444:{f:Yr},445:{},446:{},448:{f:Gr},449:{f:function(t){return t.read_shift(2),t.read_shift(4)},r:2},450:{f:Gr},512:{f:di},513:{f:Ti},515:{f:function(t,e,n){n.biffguess&&2==n.biff&&(n.biff=5);var r=ni(t),i=nr(t);return r.val=i,r}},516:{f:function(t,e,n){n.biffguess&&2==n.biff&&(n.biff=5),t.l;var r=ni(t);2==n.biff&&t.l++;var i=Zr(t,t.l,n);return r.val=i,r}},517:{f:gi},519:{f:ki},520:{f:function(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,7&r&&(e.level=7&r),32&r&&(e.hidden=!0),64&r&&(e.hpt=n/20),e}},523:{},545:{f:wi},549:{f:fi},566:{},574:{f:function(t,e,n){return n&&n.biff>=2&&n.biff<5?{}:{RTL:64&t.read_shift(2)}}},638:{f:function(t){var e=t.read_shift(2),n=t.read_shift(2),r=ii(t);return{r:e,c:n,ixfe:r[0],rknum:r[1]}}},659:{},1048:{},1054:{f:function(t,e,n){return[t.read_shift(2),Kr(t,0,n)]}},1084:{},1212:{f:function(t,e,n){var r=oi(t);t.l++;var i=t.read_shift(1);return[xo(t,e-=8,n),i,r]}},2048:{f:function(t,e){t.read_shift(2);var n=ai(t),r=t.read_shift((e-10)/2,"dbcs-cont");return[n,r=r.replace(O,"")]}},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:hi},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Gr},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:function(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e},r:12},2173:{f:function(t,e){t.l,t.l+=2;var n=t.read_shift(2);t.l+=2;for(var r=t.read_shift(2),i=[];r-- >0;)i.push(Ra(t,t.l));return{ixfe:n,ext:i}},r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Wr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:function(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),i=t.read_shift(2);return[qr(t,r,n),qr(t,i,n)]}t.l+=e},r:12},2197:{},2198:{f:function(t,e,n){var r=t.l+e;if(124226!==t.read_shift(4))if(n.cellStyles){var i,a=t.slice(t.l);t.l=r;try{i=ne(a,{type:"array"})}catch(s){return}var o=Jt(i,"theme/theme/theme1.xml",!0);if(o)return Pa(o,n)}else t.l=r},r:12},2199:{},2200:{},2201:{},2202:{f:function(t){return[0!==t.read_shift(4),0!==t.read_shift(4),t.read_shift(4)]},r:12},2203:{f:Gr},2204:{},2205:{},2206:{},2207:{},2211:{f:function(t){var e=function(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}(t);if(2211!=e.type)throw new Error("Invalid Future Record "+e.type);return 0!==t.read_shift(4)}},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Yr},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:function(t,e,n){var r={area:!1};if(5!=n.biff)return t.l+=e,r;var i=t.read_shift(1);return t.l+=3,16&i&&(r.area=!0),r}},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:function(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(ei(t));return n}},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:di},1:{},2:{f:function(t){var e=ni(t);++t.l;var n=t.read_shift(2);return e.t="n",e.val=n,e}},3:{f:function(t){var e=ni(t);++t.l;var n=nr(t);return e.t="n",e.val=n,e}},4:{f:function(t,e,n){n.biffguess&&5==n.biff&&(n.biff=2);var r=ni(t);++t.l;var i=Kr(t,0,n);return r.t="str",r.val=i,r}},5:{f:gi},7:{f:function(t){var e=t.read_shift(1);return 0===e?(t.l++,""):t.read_shift(e,"sbcs-cont")}},8:{},9:{f:hi},11:{},22:{f:Yr},30:{f:pi},31:{},32:{},33:{f:wi},36:{},37:{f:fi},50:{f:function(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}},62:{},52:{},67:{},68:{f:Yr},69:{},86:{},126:{},127:{f:function(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i={fmt:e,env:n,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,i}},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:function(t,e,n){var r=t.l+e,i=ni(t),a=t.read_shift(2),o=qr(t,a,n);return t.l=r,i.t="str",i.val=o,i}},223:{},234:{},354:{},421:{},518:{f:bo},521:{f:hi},536:{f:xi},547:{f:yi},561:{},579:{},1030:{f:bo},1033:{f:hi},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Vs(t,e,n,r){var i=e;if(!isNaN(i)){var a=r||(n||[]).length||0,o=t.next(4);o.write_shift(2,i),o.write_shift(2,a),a>0&&on(n)&&t.push(n)}}function Gs(t,e){var n=e||{};null!=y&&null==n.dense&&(n.dense=y);var r=n.dense?[]:{},i=(t=t.replace(/<!--.*?-->/g,"")).match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=t.match(/<\/table/i),o=i.index,s=a&&a.index||t.length,l=jt(t.slice(o,s),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,h=0,f=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},d=[];for(o=0;o<l.length;++o){var g=l[o].trim(),v=g.slice(0,3).toLowerCase();if("<tr"!=v){if("<td"==v||"<th"==v){var m=g.split(/<\/t[dh]>/i);for(s=0;s<m.length;++s){var x=m[s].trim();if(x.match(/<t[dh]/i)){for(var b=x,w=0;"<"==b.charAt(0)&&(w=b.indexOf(">"))>-1;)b=b.slice(w+1);for(var S=0;S<d.length;++S){var C=d[S];C.s.c==u&&C.s.r<c&&c<=C.e.r&&(u=C.e.c+1,S=-1)}var T=ue(x.slice(0,x.indexOf(">")));f=T.colspan?+T.colspan:1,((h=+T.rowspan)>1||f>1)&&d.push({s:{r:c,c:u},e:{r:c+(h||1)-1,c:u+f-1}});var E=T.t||T["data-t"]||"";if(b.length)if(b=Me(b),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),b.length){var k={t:"s",v:b};n.raw||!b.trim().length||"s"==E||("TRUE"===b?k={t:"b",v:!0}:"FALSE"===b?k={t:"b",v:!1}:isNaN(Gt(b))?isNaN(Yt(b).getDate())||(k={t:"d",v:Ut(b)},n.cellDates||(k={t:"n",v:Ft(k.v)}),k.z=n.dateNF||z[14]):k={t:"n",v:Gt(b)}),n.dense?(r[c]||(r[c]=[]),r[c][u]=k):r[Ln({r:c,c:u})]=k,u+=f}else u+=f;else u+=f}}}}else{if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}u=0}}return r["!ref"]=Bn(p),d.length&&(r["!merges"]=d),r}function Ws(t,e,n,r){for(var i=t["!merges"]||[],a=[],o=e.s.c;o<=e.e.c;++o){for(var s=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>n||i[c].s.c>o)&&!(i[c].e.r<n||i[c].e.c<o)){if(i[c].s.r<n||i[c].s.c<o){s=-1;break}s=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(s<0)){var u=Ln({r:n,c:o}),h=r.dense?(t[n]||[])[o]:t[u],f=h&&null!=h.v&&(h.h||ye(h.w||(Un(h),h.w)||""))||"",p={};s>1&&(p.rowspan=s),l>1&&(p.colspan=l),r.editable?f='<span contenteditable="true">'+f+"</span>":h&&(p["data-t"]=h&&h.t||"z",null!=h.v&&(p["data-v"]=h.v),null!=h.z&&(p["data-z"]=h.z),h.l&&"#"!=(h.l.Target||"#").charAt(0)&&(f='<a href="'+h.l.Target+'">'+f+"</a>")),p.id=(r.id||"sjs")+"-"+u,a.push(Le("td",f,p))}}return"<tr>"+a.join("")+"</tr>"}var Ys='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',js="</body></html>";function Xs(t,e,n){return[].join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function $s(t,e){var n=e||{},r=null!=n.header?n.header:Ys,i=null!=n.footer?n.footer:js,a=[r],o=Rn(t["!ref"]);n.dense=Array.isArray(t),a.push(Xs(0,0,n));for(var s=o.s.r;s<=o.e.r;++s)a.push(Ws(t,o,s,n));return a.push("</table>"+i),a.join("")}function qs(t,e,n){var r=n||{};null!=y&&(r.dense=y);var i=0,a=0;if(null!=r.origin)if("number"==typeof r.origin)i=r.origin;else{var o="string"==typeof r.origin?Dn(r.origin):r.origin;i=o.r,a=o.c}var s=e.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,s.length),c={s:{r:0,c:0},e:{r:i,c:a}};if(t["!ref"]){var u=Rn(t["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),-1==i&&(c.e.r=i=u.e.r+1)}var h=[],f=0,p=t["!rows"]||(t["!rows"]=[]),d=0,g=0,v=0,m=0,x=0,b=0;for(t["!cols"]||(t["!cols"]=[]);d<s.length&&g<l;++d){var w=s[d];if(Ks(w)){if(r.display)continue;p[g]={hidden:!0}}var S=w.children;for(v=m=0;v<S.length;++v){var C=S[v];if(!r.display||!Ks(C)){var T=C.hasAttribute("data-v")?C.getAttribute("data-v"):C.hasAttribute("v")?C.getAttribute("v"):Me(C.innerHTML),E=C.getAttribute("data-z")||C.getAttribute("z");for(f=0;f<h.length;++f){var k=h[f];k.s.c==m+a&&k.s.r<g+i&&g+i<=k.e.r&&(m=k.e.c+1-a,f=-1)}b=+C.getAttribute("colspan")||1,((x=+C.getAttribute("rowspan")||1)>1||b>1)&&h.push({s:{r:g+i,c:m+a},e:{r:g+i+(x||1)-1,c:m+a+(b||1)-1}});var M={t:"s",v:T},A=C.getAttribute("data-t")||C.getAttribute("t")||"";null!=T&&(0==T.length?M.t=A||"z":r.raw||0==T.trim().length||"s"==A||("TRUE"===T?M={t:"b",v:!0}:"FALSE"===T?M={t:"b",v:!1}:isNaN(Gt(T))?isNaN(Yt(T).getDate())||(M={t:"d",v:Ut(T)},r.cellDates||(M={t:"n",v:Ft(M.v)}),M.z=r.dateNF||z[14]):M={t:"n",v:Gt(T)})),void 0===M.z&&null!=E&&(M.z=E);var O="",F=C.getElementsByTagName("A");if(F&&F.length)for(var I=0;I<F.length&&(!F[I].hasAttribute("href")||"#"==(O=F[I].getAttribute("href")).charAt(0));++I);O&&"#"!=O.charAt(0)&&(M.l={Target:O}),r.dense?(t[g+i]||(t[g+i]=[]),t[g+i][m+a]=M):t[Ln({c:m+a,r:g+i})]=M,c.e.c<m+a&&(c.e.c=m+a),m+=b}}++g}return h.length&&(t["!merges"]=(t["!merges"]||[]).concat(h)),c.e.r=Math.max(c.e.r,g-1+i),t["!ref"]=Bn(c),g>=l&&(t["!fullref"]=Bn((c.e.r=s.length-d+g-1+i,c))),t}function Zs(t,e){return qs((e||{}).dense?[]:{},t,e)}function Ks(t){var e="",n=function(t){return t.ownerDocument.defaultView&&"function"===typeof t.ownerDocument.defaultView.getComputedStyle?t.ownerDocument.defaultView.getComputedStyle:"function"===typeof getComputedStyle?getComputedStyle:null}(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),"none"===e}function Js(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,(function(t,e){return Array(parseInt(e,10)+1).join(" ")})).replace(/<text:tab[^>]*\/>/g,"\t").replace(/<text:line-break\/>/g,"\n");return[de(e.replace(/<[^>]*>/g,""))]}var Qs={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function tl(t,e){var n=e||{};null!=y&&null==n.dense&&(n.dense=y);var r,i,a,o,s,l,c=Re(t),u=[],h={name:""},f="",p=0,d={},g=[],v=n.dense?[]:{},m={value:""},x="",b=0,w=[],S=-1,C=-1,T={s:{r:1e6,c:1e7},e:{r:0,c:0}},E=0,k={},M=[],A={},O=[],F=1,I=1,P=[],D={Names:[]},L={},R=["",""],B=[],_={},N="",U=0,z=!1,H=!1,V=0;for(Be.lastIndex=0,c=c.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");s=Be.exec(c);)switch(s[3]=s[3].replace(/_.*$/,"")){case"table":case"\u5de5\u4f5c\u8868":"/"===s[1]?(T.e.c>=T.s.c&&T.e.r>=T.s.r?v["!ref"]=Bn(T):v["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=T.e.r&&(v["!fullref"]=v["!ref"],T.e.r=n.sheetRows-1,v["!ref"]=Bn(T)),M.length&&(v["!merges"]=M),O.length&&(v["!rows"]=O),a.name=a["\u540d\u79f0"]||a.name,"undefined"!==typeof JSON&&JSON.stringify(a),g.push(a.name),d[a.name]=v,H=!1):"/"!==s[0].charAt(s[0].length-2)&&(a=ue(s[0],!1),S=C=-1,T.s.r=T.s.c=1e7,T.e.r=T.e.c=0,v=n.dense?[]:{},M=[],O=[],H=!0);break;case"table-row-group":"/"===s[1]?--E:++E;break;case"table-row":case"\u884c":if("/"===s[1]){S+=F,F=1;break}if((o=ue(s[0],!1))["\u884c\u53f7"]?S=o["\u884c\u53f7"]-1:-1==S&&(S=0),(F=+o["number-rows-repeated"]||1)<10)for(V=0;V<F;++V)E>0&&(O[S+V]={level:E});C=-1;break;case"covered-table-cell":"/"!==s[1]&&++C,n.sheetStubs&&(n.dense?(v[S]||(v[S]=[]),v[S][C]={t:"z"}):v[Ln({r:S,c:C})]={t:"z"}),x="",w=[];break;case"table-cell":case"\u6570\u636e":if("/"===s[0].charAt(s[0].length-2))++C,m=ue(s[0],!1),I=parseInt(m["number-columns-repeated"]||"1",10),l={t:"z",v:null},m.formula&&0!=n.cellFormula&&(l.f=Oo(de(m.formula))),"string"==(m["\u6570\u636e\u7c7b\u578b"]||m["value-type"])&&(l.t="s",l.v=de(m["string-value"]||""),n.dense?(v[S]||(v[S]=[]),v[S][C]=l):v[Ln({r:S,c:C})]=l),C+=I-1;else if("/"!==s[1]){x="",b=0,w=[],I=1;var G=F?S+F-1:S;if(++C>T.e.c&&(T.e.c=C),C<T.s.c&&(T.s.c=C),S<T.s.r&&(T.s.r=S),G>T.e.r&&(T.e.r=G),B=[],_={},l={t:(m=ue(s[0],!1))["\u6570\u636e\u7c7b\u578b"]||m["value-type"],v:null},n.cellFormula)if(m.formula&&(m.formula=de(m.formula)),m["number-matrix-columns-spanned"]&&m["number-matrix-rows-spanned"]&&(A={s:{r:S,c:C},e:{r:S+(parseInt(m["number-matrix-rows-spanned"],10)||0)-1,c:C+(parseInt(m["number-matrix-columns-spanned"],10)||0)-1}},l.F=Bn(A),P.push([A,l.F])),m.formula)l.f=Oo(m.formula);else for(V=0;V<P.length;++V)S>=P[V][0].s.r&&S<=P[V][0].e.r&&C>=P[V][0].s.c&&C<=P[V][0].e.c&&(l.F=P[V][1]);switch((m["number-columns-spanned"]||m["number-rows-spanned"])&&(A={s:{r:S,c:C},e:{r:S+(parseInt(m["number-rows-spanned"],10)||0)-1,c:C+(parseInt(m["number-columns-spanned"],10)||0)-1}},M.push(A)),m["number-columns-repeated"]&&(I=parseInt(m["number-columns-repeated"],10)),l.t){case"boolean":l.t="b",l.v=xe(m["boolean-value"]);break;case"float":case"percentage":case"currency":l.t="n",l.v=parseFloat(m.value);break;case"date":l.t="d",l.v=Ut(m["date-value"]),n.cellDates||(l.t="n",l.v=Ft(l.v)),l.z="m/d/yy";break;case"time":l.t="n",l.v=Rt(m["time-value"])/86400,n.cellDates&&(l.t="d",l.v=Lt(l.v)),l.z="HH:MM:SS";break;case"number":l.t="n",l.v=parseFloat(m["\u6570\u636e\u6570\u503c"]);break;default:if("string"!==l.t&&"text"!==l.t&&l.t)throw new Error("Unsupported value type "+l.t);l.t="s",null!=m["string-value"]&&(x=de(m["string-value"]),w=[])}}else{if(z=!1,"s"===l.t&&(l.v=x||"",w.length&&(l.R=w),z=0==b),L.Target&&(l.l=L),B.length>0&&(l.c=B,B=[]),x&&!1!==n.cellText&&(l.w=x),z&&(l.t="z",delete l.v),(!z||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=S))for(var W=0;W<F;++W){if(I=parseInt(m["number-columns-repeated"]||"1",10),n.dense)for(v[S+W]||(v[S+W]=[]),v[S+W][C]=0==W?l:Ht(l);--I>0;)v[S+W][C+I]=Ht(l);else for(v[Ln({r:S+W,c:C})]=l;--I>0;)v[Ln({r:S+W,c:C+I})]=Ht(l);T.e.c<=C&&(T.e.c=C)}C+=(I=parseInt(m["number-columns-repeated"]||"1",10))-1,I=0,l={},x="",w=[]}L={};break;case"document":case"document-content":case"\u7535\u5b50\u8868\u683c\u6587\u6863":case"spreadsheet":case"\u4e3b\u4f53":case"scripts":case"styles":case"font-face-decls":case"master-styles":if("/"===s[1]){if((r=u.pop())[0]!==s[3])throw"Bad state: "+r}else"/"!==s[0].charAt(s[0].length-2)&&u.push([s[3],!0]);break;case"annotation":if("/"===s[1]){if((r=u.pop())[0]!==s[3])throw"Bad state: "+r;_.t=x,w.length&&(_.R=w),_.a=N,B.push(_)}else"/"!==s[0].charAt(s[0].length-2)&&u.push([s[3],!1]);N="",U=0,x="",b=0,w=[];break;case"creator":"/"===s[1]?N=c.slice(U,s.index):U=s.index+s[0].length;break;case"meta":case"\u5143\u6570\u636e":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if("/"===s[1]){if((r=u.pop())[0]!==s[3])throw"Bad state: "+r}else"/"!==s[0].charAt(s[0].length-2)&&u.push([s[3],!1]);x="",b=0,w=[];break;case"scientific-number":case"currency-symbol":case"currency-style":case"script":case"libraries":case"automatic-styles":case"default-style":case"page-layout":case"style":case"map":case"font-face":case"paragraph-properties":case"table-properties":case"table-column-properties":case"table-row-properties":case"table-cell-properties":case"fraction":case"boolean-style":case"boolean":case"text-style":case"text-content":case"text-properties":case"embedded-text":case"body":case"\u7535\u5b50\u8868\u683c":case"forms":case"table-column":case"table-header-rows":case"table-rows":case"table-column-group":case"table-header-columns":case"table-columns":case"null-date":case"graphic-properties":case"calculation-settings":case"named-expressions":case"label-range":case"label-ranges":case"named-expression":case"sort":case"sort-by":case"sort-groups":case"tab":case"line-break":case"span":case"s":case"date":case"object":case"title":case"\u6807\u9898":case"desc":case"binary-data":case"table-source":case"scenario":case"iteration":case"content-validations":case"content-validation":case"help-message":case"error-message":case"database-ranges":case"filter":case"filter-and":case"filter-or":case"filter-condition":case"list-level-style-bullet":case"list-level-style-number":case"list-level-properties":case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":case"event-listener":case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":case"config-item":case"page-number":case"page-count":case"time":case"cell-range-source":case"detective":case"operation":case"highlighted-range":case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":case"rect":case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":case"properties":case"property":case"table-protection":case"data-pilot-grand-total":case"office-document-common-attrs":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if("/"===s[1]){if(k[h.name]=f,(r=u.pop())[0]!==s[3])throw"Bad state: "+r}else"/"!==s[0].charAt(s[0].length-2)&&(f="",h=ue(s[0],!1),u.push([s[3],!0]));break;case"number":case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(u[u.length-1][0]){case"time-style":case"date-style":i=ue(s[0],!1),f+=Qs[s[3]]["long"===i.style?1:0]}break;case"text":if("/>"===s[0].slice(-2))break;if("/"===s[1])switch(u[u.length-1][0]){case"number-style":case"date-style":case"time-style":f+=c.slice(p,s.index)}else p=s.index+s[0].length;break;case"named-range":R=Fo((i=ue(s[0],!1))["cell-range-address"]);var Y={Name:i.name,Ref:R[0]+"!"+R[1]};H&&(Y.Sheet=g.length),D.Names.push(Y);break;case"p":case"\u6587\u672c\u4e32":if(["master-styles"].indexOf(u[u.length-1][0])>-1)break;if("/"!==s[1]||m&&m["string-value"])ue(s[0],!1),b=s.index+s[0].length;else{var j=Js(c.slice(b,s.index));x=(x.length>0?x+"\n":"")+j[0]}break;case"database-range":if("/"===s[1])break;try{d[(R=Fo(ue(s[0])["target-range-address"]))[0]]["!autofilter"]={ref:R[1]}}catch($){}break;case"a":if("/"!==s[1]){if(!(L=ue(s[0],!1)).href)break;L.Target=de(L.href),delete L.href,"#"==L.Target.charAt(0)&&L.Target.indexOf(".")>-1?(R=Fo(L.Target.slice(1)),L.Target="#"+R[0]+"!"+R[1]):L.Target.match(/^\.\.[\\\/]/)&&(L.Target=L.Target.slice(3))}break;default:switch(s[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"\u8868:":case"\u5b57:":break;default:if(n.WTF)throw new Error(s)}}var X={Sheets:d,SheetNames:g,Workbook:D};return n.bookSheets&&delete X.Sheets,X}function el(t,e){e=e||{},qt(t,"META-INF/manifest.xml")&&function(t,e){for(var n,r,i=Re(t);n=Be.exec(i);)switch(n[3]){case"manifest":break;case"file-entry":if("/"==(r=ue(n[0],!1)).path&&r.type!==Sr)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}(Kt(t,"META-INF/manifest.xml"),e);var n=Jt(t,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=tl(Te(n),e);return qt(t,"meta.xml")&&(r.Props=Er(Kt(t,"meta.xml"))),r}function nl(t,e){return tl(t,e)}function rl(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function il(t){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(t):Te(k(t))}function al(t){var e=t.reduce((function(t,e){return t+e.length}),0),n=new Uint8Array(e),r=0;return t.forEach((function(t){n.set(t,r),r+=t.length})),n}function ol(t){return 16843009*((t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135)>>>24}function sl(t,e){var n=e?e[0]:0,r=127&t[n];t:if(t[n++]>=128){if(r|=(127&t[n])<<7,t[n++]<128)break t;if(r|=(127&t[n])<<14,t[n++]<128)break t;if(r|=(127&t[n])<<21,t[n++]<128)break t;if(r+=(127&t[n])*Math.pow(2,28),++n,t[n++]<128)break t;if(r+=(127&t[n])*Math.pow(2,35),++n,t[n++]<128)break t;if(r+=(127&t[n])*Math.pow(2,42),++n,t[n++]<128)break t}return e&&(e[0]=n),r}function ll(t){var e=0,n=127&t[e];t:if(t[e++]>=128){if(n|=(127&t[e])<<7,t[e++]<128)break t;if(n|=(127&t[e])<<14,t[e++]<128)break t;if(n|=(127&t[e])<<21,t[e++]<128)break t;n|=(127&t[e])<<28}return n}function cl(t){for(var e=[],n=[0];n[0]<t.length;){var r,i=n[0],a=sl(t,n),o=7&a,s=0;if(0==(a=Math.floor(a/8)))break;switch(o){case 0:for(var l=n[0];t[n[0]++]>=128;);r=t.slice(l,n[0]);break;case 5:s=4,r=t.slice(n[0],n[0]+s),n[0]+=s;break;case 1:s=8,r=t.slice(n[0],n[0]+s),n[0]+=s;break;case 2:s=sl(t,n),r=t.slice(n[0],n[0]+s),n[0]+=s;break;default:throw new Error("PB Type ".concat(o," for Field ").concat(a," at offset ").concat(i))}var c={data:r,type:o};null==e[a]?e[a]=[c]:e[a].push(c)}return e}function ul(t,e){return(null==t?void 0:t.map((function(t){return e(t.data)})))||[]}function hl(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=sl(t,r),a=cl(t.slice(r[0],r[0]+i));r[0]+=i;var o={id:ll(a[1][0].data),messages:[]};a[2].forEach((function(e){var n=cl(e.data),i=ll(n[3][0].data);o.messages.push({meta:n,data:t.slice(r[0],r[0]+i)}),r[0]+=i})),(null==(e=a[3])?void 0:e[0])&&(o.merge=ll(a[3][0].data)>>>0>0),n.push(o)}return n}function fl(t,e){if(0!=t)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=sl(e,n),i=[];n[0]<e.length;){var a=3&e[n[0]];if(0!=a){var o=0,s=0;if(1==a?(s=4+(e[n[0]]>>2&7),o=(224&e[n[0]++])<<3,o|=e[n[0]++]):(s=1+(e[n[0]++]>>2),2==a?(o=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(o=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[al(i)],0==o)throw new Error("Invalid offset 0");if(o>i[0].length)throw new Error("Invalid offset beyond length");if(s>=o)for(i.push(i[0].slice(-o)),s-=o;s>=i[i.length-1].length;)i.push(i[i.length-1]),s-=i[i.length-1].length;i.push(i[0].slice(-o,-o+s))}else{var l=e[n[0]++]>>2;if(l<60)++l;else{var c=l-59;l=e[n[0]],c>1&&(l|=e[n[0]+1]<<8),c>2&&(l|=e[n[0]+2]<<16),c>3&&(l|=e[n[0]+3]<<24),l>>>=0,l++,n[0]+=c}i.push(e.slice(n[0],n[0]+l)),n[0]+=l}}var u=al(i);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function pl(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(fl(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return al(e)}function dl(t,e,n){var r,i=rl(t),a=i.getUint32(8,!0),o=12,s=-1,l=-1,c=NaN,u=NaN,h=new Date(2001,0,1);switch(1&a&&(c=function(t,e){for(var n=(127&t[e+15])<<7|t[e+14]>>1,r=1&t[e+14],i=e+13;i>=e;--i)r=256*r+t[i];return(128&t[e+15]?-r:r)*Math.pow(10,n-6176)}(t,o),o+=16),2&a&&(u=i.getFloat64(o,!0),o+=8),4&a&&(h.setTime(h.getTime()+1e3*i.getFloat64(o,!0)),o+=8),8&a&&(l=i.getUint32(o,!0),o+=4),16&a&&(s=i.getUint32(o,!0),o+=4),t[1]){case 0:break;case 2:case 10:r={t:"n",v:c};break;case 3:r={t:"s",v:e[l]};break;case 5:r={t:"d",v:h};break;case 6:r={t:"b",v:u>0};break;case 7:r={t:"n",v:u/86400};break;case 8:r={t:"e",v:0};break;case 9:if(!(s>-1))throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(31&a," : ").concat(t.slice(0,4)));r={t:"s",v:n[s]};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(31&a," : ").concat(t.slice(0,4)))}return r}function gl(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:return function(t,e,n,r){var i,a=rl(t),o=a.getUint32(4,!0),s=(r>1?12:8)+4*ol(o&(r>1?3470:398)),l=-1,c=-1,u=NaN,h=new Date(2001,0,1);switch(512&o&&(l=a.getUint32(s,!0),s+=4),s+=4*ol(o&(r>1?12288:4096)),16&o&&(c=a.getUint32(s,!0),s+=4),32&o&&(u=a.getFloat64(s,!0),s+=8),64&o&&(h.setTime(h.getTime()+1e3*a.getFloat64(s,!0)),s+=8),t[2]){case 0:break;case 2:i={t:"n",v:u};break;case 3:i={t:"s",v:e[c]};break;case 5:i={t:"d",v:h};break;case 6:i={t:"b",v:u>0};break;case 7:i={t:"n",v:u/86400};break;case 8:i={t:"e",v:0};break;case 9:if(l>-1)i={t:"s",v:n[l]};else if(c>-1)i={t:"s",v:e[c]};else{if(isNaN(u))throw new Error("Unsupported cell type ".concat(t.slice(0,4)));i={t:"n",v:u}}break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return i}(t,e,n,t[0]);case 5:return dl(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function vl(t){return sl(cl(t)[1][0].data)}function yl(t,e){var n=cl(e.data),r=ll(n[1][0].data),i=n[3],a=[];return(i||[]).forEach((function(e){var n=cl(e.data),i=ll(n[1][0].data)>>>0;switch(r){case 1:a[i]=il(n[3][0].data);break;case 8:var o=cl(t[vl(n[9][0].data)][0].data),s=t[vl(o[1][0].data)][0],l=ll(s.meta[1][0].data);if(2001!=l)throw new Error("2000 unexpected reference to ".concat(l));var c=cl(s.data);a[i]=c[3].map((function(t){return il(t.data)})).join("")}})),a}function ml(t,e){var n,r=cl(e.data),i=(null==(n=null==r?void 0:r[7])?void 0:n[0])?ll(r[7][0].data)>>>0>0?1:0:-1,a=ul(r[5],(function(t){return function(t,e){var n,r,i,a,o,s,l,c,u,h,f,p,d,g,v,y,m=cl(t),x=ll(m[1][0].data)>>>0,b=ll(m[2][0].data)>>>0,w=(null==(r=null==(n=m[8])?void 0:n[0])?void 0:r.data)&&ll(m[8][0].data)>0||!1;if((null==(a=null==(i=m[7])?void 0:i[0])?void 0:a.data)&&0!=e)v=null==(s=null==(o=m[7])?void 0:o[0])?void 0:s.data,y=null==(c=null==(l=m[6])?void 0:l[0])?void 0:c.data;else{if(!(null==(h=null==(u=m[4])?void 0:u[0])?void 0:h.data)||1==e)throw"NUMBERS Tile missing ".concat(e," cell storage");v=null==(p=null==(f=m[4])?void 0:f[0])?void 0:p.data,y=null==(g=null==(d=m[3])?void 0:d[0])?void 0:g.data}for(var S=w?4:1,C=rl(v),T=[],E=0;E<v.length/2;++E){var k=C.getUint16(2*E,!0);k<65535&&T.push([E,k])}if(T.length!=b)throw"Expected ".concat(b," cells, found ").concat(T.length);var M=[];for(E=0;E<T.length-1;++E)M[T[E][0]]=y.subarray(T[E][1]*S,T[E+1][1]*S);return T.length>=1&&(M[T[T.length-1][0]]=y.subarray(T[T.length-1][1]*S)),{R:x,cells:M}}(t,i)}));return{nrows:ll(r[4][0].data)>>>0,data:a.reduce((function(t,e){return t[e.R]||(t[e.R]=[]),e.cells.forEach((function(n,r){if(t[e.R][r])throw new Error("Duplicate cell r=".concat(e.R," c=").concat(r));t[e.R][r]=n})),t}),[])}}function xl(t,e){var n={"!ref":"A1"},r=t[vl(cl(e.data)[2][0].data)],i=ll(r[0].meta[1][0].data);if(6001!=i)throw new Error("6000 unexpected reference to ".concat(i));return function(t,e,n){var r,i=cl(e.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(ll(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(ll(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=Bn(a);var o=cl(i[4][0].data),s=yl(t,t[vl(o[4][0].data)][0]),l=(null==(r=o[17])?void 0:r[0])?yl(t,t[vl(o[17][0].data)][0]):[],c=cl(o[3][0].data),u=0;c[1].forEach((function(e){var r=cl(e.data),i=t[vl(r[2][0].data)][0],a=ll(i.meta[1][0].data);if(6002!=a)throw new Error("6001 unexpected reference to ".concat(a));var o=ml(0,i);o.data.forEach((function(t,e){t.forEach((function(t,r){var i=Ln({r:u+e,c:r}),a=gl(t,s,l);a&&(n[i]=a)}))})),u+=o.nrows}))}(t,r[0],n),n}function bl(t,e){var n={SheetNames:[],Sheets:{}};if(ul(cl(e.data)[1],vl).forEach((function(e){t[e].forEach((function(e){if(2==ll(e.meta[1][0].data)){var r=function(t,e){var n,r=cl(e.data),i={name:(null==(n=r[1])?void 0:n[0])?il(r[1][0].data):"",sheets:[]};return ul(r[2],vl).forEach((function(e){t[e].forEach((function(e){6e3==ll(e.meta[1][0].data)&&i.sheets.push(xl(t,e))}))})),i}(t,e);r.sheets.forEach((function(t,e){Hl(n,t,0==e?r.name:r.name+"_"+e,!0)}))}}))})),0==n.SheetNames.length)throw new Error("Empty NUMBERS file");return n}function wl(t){var e,n,r,i,a={},o=[];if(t.FullPaths.forEach((function(t){if(t.match(/\.iwpv2/))throw new Error("Unsupported password protection")})),t.FileIndex.forEach((function(t){if(t.name.match(/\.iwa$/)){var e,n;try{e=pl(t.content)}catch(r){return console.log("?? "+t.content.length+" "+(r.message||r))}try{n=hl(e)}catch(r){return console.log("## "+(r.message||r))}n.forEach((function(t){a[t.id]=t.messages,o.push(t.id)}))}})),!o.length)throw new Error("File has no messages");var s=(null==(i=null==(r=null==(n=null==(e=null==a?void 0:a[1])?void 0:e[0])?void 0:n.meta)?void 0:r[1])?void 0:i[0].data)&&1==ll(a[1][0].meta[1][0].data)&&a[1][0];if(s||o.forEach((function(t){a[t].forEach((function(t){if(1==ll(t.meta[1][0].data)>>>0){if(s)throw new Error("Document has multiple roots");s=t}}))})),!s)throw new Error("Cannot find Document root");return bl(a,s)}function Sl(t){return function(e){for(var n=0;n!=t.length;++n){var r=t[n];void 0===e[r[0]]&&(e[r[0]]=r[1]),"n"===r[2]&&(e[r[0]]=Number(e[r[0]]))}}}function Cl(t){Sl([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function Tl(t,e,n,r,i,a,o,s,l,c,u,h){try{a[r]=wr(Jt(t,n,!0),e);var f,p=Kt(t,e);switch(s){case"sheet":f=fs(p,e,i,l,a[r],c,u,h);break;case"chart":if(!(f=ps(p,e,i,l,a[r],c))||!f["!drawel"])break;var d=re(f["!drawel"].Target,e),g=br(d),v=function(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][n].Target}(Jt(t,d,!0),wr(Jt(t,g,!0),d)),y=re(v,d),m=br(y);f=Qo(Jt(t,y,!0),0,0,wr(Jt(t,m,!0),y),0,f);break;case"macro":b=e,a[r],b.slice(-4),f={"!type":"macro"};break;case"dialog":f=function(t,e,n,r,i,a,o,s){return e.slice(-4),{"!type":"dialog"}}(0,e,0,0,a[r]);break;default:throw new Error("Unrecognized sheet type "+s)}o[r]=f;var x=[];a&&a[r]&&Mt(a[r]).forEach((function(n){var i="";if(a[r][n].Type==xr.CMNT){i=re(a[r][n].Target,e);var o=vs(Kt(t,i,!0),i,l);if(!o||!o.length)return;Ba(f,o,!1)}a[r][n].Type==xr.TCMNT&&(i=re(a[r][n].Target,e),x=x.concat(function(t,e){var n=[],r=!1,i={},a=0;return t.replace(se,(function(o,s){var l=ue(o);switch(he(l[0])){case"<?xml":case"<ThreadedComments":case"</ThreadedComments>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<threadedComment":i={author:l.personId,guid:l.id,ref:l.ref,T:1};break;case"</threadedComment>":null!=i.t&&n.push(i);break;case"<text>":case"<text":a=s+o.length;break;case"</text>":i.t=t.slice(a,s).replace(/\r\n/g,"\n").replace(/\r/g,"\n");break;case"<mentions":case"<mentions>":case"<ext":r=!0;break;case"</mentions>":case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return o})),n}(Kt(t,i,!0),l)))})),x&&x.length&&Ba(f,x,!0,l.people||[])}catch(w){if(l.WTF)throw w}var b}function El(t){return"/"==t.charAt(0)?t.slice(1):t}function kl(t,e){if(wt(),Cl(e=e||{}),qt(t,"META-INF/manifest.xml"))return el(t,e);if(qt(t,"objectdata.xml"))return el(t,e);if(qt(t,"Index/Document.iwa")){if("undefined"==typeof Uint8Array)throw new Error("NUMBERS file parsing requires Uint8Array support");if(t.FileIndex)return wl(t);var n=Et.utils.cfb_new();return te(t).forEach((function(e){ee(n,e,Qt(t,e))})),wl(n)}if(!qt(t,"[Content_Types].xml")){if(qt(t,"index.xml.gz"))throw new Error("Unsupported NUMBERS 08 file");if(qt(t,"index.xml"))throw new Error("Unsupported NUMBERS 09 file");throw new Error("Unsupported ZIP file")}var r,i,a=te(t),o=function(t){var e={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};if(!t||!t.match)return e;var n={};if((t.match(se)||[]).forEach((function(t){var r=ue(t);switch(r[0].replace(le,"<")){case"<?xml":break;case"<Types":e.xmlns=r["xmlns"+(r[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[r.Extension]=r.ContentType;break;case"<Override":void 0!==e[mr[r.ContentType]]&&e[mr[r.ContentType]].push(r.PartName)}})),e.xmlns!==_e.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}(Jt(t,"[Content_Types].xml")),s=!1;if(0===o.workbooks.length&&Kt(t,i="xl/workbook.xml",!0)&&o.workbooks.push(i),0===o.workbooks.length){if(!Kt(t,i="xl/workbook.bin",!0))throw new Error("Could not find workbook");o.workbooks.push(i),s=!0}"bin"==o.workbooks[0].slice(-3)&&(s=!0);var l={},c={};if(!e.bookSheets&&!e.bookProps){if(Io=[],o.sst)try{Io=gs(Kt(t,El(o.sst)),o.sst,e)}catch(F){if(e.WTF)throw F}e.cellStyles&&o.themes.length&&(l=function(t,e,n){return Pa(t,n)}(Jt(t,o.themes[0].replace(/^\//,""),!0)||"",o.themes[0],e)),o.style&&(c=ds(Kt(t,El(o.style)),o.style,l,e))}o.links.map((function(n){try{wr(Jt(t,br(El(n))),n);return ms(Kt(t,El(n)),0,n,e)}catch(F){}}));var u=hs(Kt(t,El(o.workbooks[0])),o.workbooks[0],e),h={},f="";o.coreprops.length&&((f=Kt(t,El(o.coreprops[0]),!0))&&(h=Er(f)),0!==o.extprops.length&&(f=Kt(t,El(o.extprops[0]),!0))&&function(t,e,n){var r={};e||(e={}),t=Te(t),kr.forEach((function(n){var i=(t.match(ke(n[0]))||[])[1];switch(n[2]){case"string":i&&(e[n[1]]=de(i));break;case"bool":e[n[1]]="true"===i;break;case"raw":var a=t.match(new RegExp("<"+n[0]+"[^>]*>([\\s\\S]*?)</"+n[0]+">"));a&&a.length>0&&(r[n[1]]=a[1])}})),r.HeadingPairs&&r.TitlesOfParts&&Mr(r.HeadingPairs,r.TitlesOfParts,e,n)}(f,h,e));var p={};e.bookSheets&&!e.bookProps||0!==o.custprops.length&&(f=Jt(t,El(o.custprops[0]),!0))&&(p=function(t,e){var n={},r="",i=t.match(Ar);if(i)for(var a=0;a!=i.length;++a){var o=i[a],s=ue(o);switch(s[0]){case"<?xml":case"<Properties":break;case"<property":r=de(s.name);break;case"</property>":r=null;break;default:if(0===o.indexOf("<vt:")){var l=o.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":case"cy":case"error":n[r]=de(u);break;case"bool":n[r]=xe(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(u,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(u);break;case"filetime":case"date":n[r]=Ut(u);break;default:if("/"==c.slice(-1))break;e.WTF&&"undefined"!==typeof console&&console.warn("Unexpected",o,c,l)}}else if("</"===o.slice(0,2));else if(e.WTF)throw new Error(o)}}return n}(f,e));var d={};if((e.bookSheets||e.bookProps)&&(u.Sheets?r=u.Sheets.map((function(t){return t.name})):h.Worksheets&&h.SheetNames.length>0&&(r=h.SheetNames),e.bookProps&&(d.Props=h,d.Custprops=p),e.bookSheets&&"undefined"!==typeof r&&(d.SheetNames=r),e.bookSheets?d.SheetNames:e.bookProps))return d;r={};var g={};e.bookDeps&&o.calcchain&&(g=ys(Kt(t,El(o.calcchain)),o.calcchain));var v,y,m=0,x={},b=u.Sheets;h.Worksheets=b.length,h.SheetNames=[];for(var w=0;w!=b.length;++w)h.SheetNames[w]=b[w].name;var S=s?"bin":"xml",C=o.workbooks[0].lastIndexOf("/"),T=(o.workbooks[0].slice(0,C+1)+"_rels/"+o.workbooks[0].slice(C+1)+".rels").replace(/^\//,"");qt(t,T)||(T="xl/_rels/workbook."+S+".rels");var E=wr(Jt(t,T,!0),T.replace(/_rels.*/,"s5s"));(o.metadata||[]).length>=1&&(e.xlmeta=xs(Kt(t,El(o.metadata[0])),o.metadata[0],e)),(o.people||[]).length>=1&&(e.people=function(t,e){var n=[],r=!1;return t.replace(se,(function(t){var i=ue(t);switch(he(i[0])){case"<?xml":case"<personList":case"</personList>":case"</person>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<person":n.push({name:i.displayname,id:i.id});break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return t})),n}(Kt(t,El(o.people[0])),e)),E&&(E=function(t,e){if(!t)return 0;try{t=e.map((function(e){return e.id||(e.id=e.strRelID),[e.name,t["!id"][e.id].Target,(n=t["!id"][e.id].Type,xr.WS.indexOf(n)>-1?"sheet":xr.CS&&n==xr.CS?"chart":xr.DS&&n==xr.DS?"dialog":xr.MS&&n==xr.MS?"macro":n&&n.length?n:"sheet")];var n}))}catch(F){return null}return t&&0!==t.length?t:null}(E,u.Sheets));var k=Kt(t,"xl/worksheets/sheet.xml",!0)?1:0;t:for(m=0;m!=h.Worksheets;++m){var M="sheet";if(E&&E[m]?(v="xl/"+E[m][1].replace(/[\/]?xl\//,""),qt(t,v)||(v=E[m][1]),qt(t,v)||(v=T.replace(/_rels\/.*$/,"")+E[m][1]),M=E[m][2]):v=(v="xl/worksheets/sheet"+(m+1-k)+"."+S).replace(/sheet0\./,"sheet."),y=v.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&null!=e.sheets)switch(typeof e.sheets){case"number":if(m!=e.sheets)continue t;break;case"string":if(h.SheetNames[m].toLowerCase()!=e.sheets.toLowerCase())continue t;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var A=!1,O=0;O!=e.sheets.length;++O)"number"==typeof e.sheets[O]&&e.sheets[O]==m&&(A=1),"string"==typeof e.sheets[O]&&e.sheets[O].toLowerCase()==h.SheetNames[m].toLowerCase()&&(A=1);if(!A)continue t}}Tl(t,v,y,h.SheetNames[m],m,x,r,M,e,u,l,c)}return d={Directory:o,Workbook:u,Props:h,Custprops:p,Deps:g,Sheets:r,SheetNames:h.SheetNames,Strings:Io,Styles:c,Themes:l,SSF:Ht(z)},e&&e.bookFiles&&(t.files?(d.keys=a,d.files=t.files):(d.keys=[],d.files={},t.FullPaths.forEach((function(e,n){e=e.replace(/^Root Entry[\/]/,""),d.keys.push(e),d.files[e]=t.FileIndex[n]})))),e&&e.bookVBA&&(o.vba.length>0?d.vbaraw=Kt(t,El(o.vba[0]),!0):o.defaults&&o.defaults.bin===Na&&(d.vbaraw=Kt(t,"xl/vbaProject.bin",!0))),d}function Ml(t,e){var n=e||{},r="Workbook",i=Et.find(t,r);try{if(r="/!DataSpaces/Version",!(i=Et.find(t,r))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(function(t){var e={};e.id=t.read_shift(0,"lpp4"),e.R=Wi(t,4),e.U=Wi(t,4),e.W=Wi(t,4)}(i.content),r="/!DataSpaces/DataSpaceMap",!(i=Et.find(t,r))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=function(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(Yi(t));return e}(i.content);if(1!==a.length||1!==a[0].comps.length||0!==a[0].comps[0].t||"StrongEncryptionDataSpace"!==a[0].name||"EncryptedPackage"!==a[0].comps[0].v)throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",!(i=Et.find(t,r))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=function(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}(i.content);if(1!=o.length||"StrongEncryptionTransform"!=o[0])throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",!(i=Et.find(t,r))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);ji(i.content)}catch(l){}if(r="/EncryptionInfo",!(i=Et.find(t,r))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=function(t){var e=Wi(t);switch(e.Minor){case 2:return[e.Minor,qi(t)];case 3:return[e.Minor,Zi()];case 4:return[e.Minor,Ki(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}(i.content);if(r="/EncryptedPackage",!(i=Et.find(t,r))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(4==s[0]&&"undefined"!==typeof decrypt_agile)return decrypt_agile(s[1],i.content,n.password||"",n);if(2==s[0]&&"undefined"!==typeof decrypt_std76)return decrypt_std76(s[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function Al(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=b(t.slice(0,12));break;case"binary":n=t;break;default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function Ol(t,e){var n=0;t:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return Is(t.slice(n),e);default:break t}return Pi.to_workbook(t,e)}function Fl(t,e,n,r){return r?(n.type="string",Pi.to_workbook(t,n)):Pi.to_workbook(e,n)}function Il(t,e){u();var n=e||{};if("undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer)return Il(new Uint8Array(t),((n=Ht(n)).type="array",n));"undefined"!==typeof Uint8Array&&t instanceof Uint8Array&&!n.type&&(n.type="undefined"!==typeof Deno?"buffer":"array");var r,i=t,a=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),Po={},n.dateNF&&(Po.dateNF=n.dateNF),n.type||(n.type=w&&Buffer.isBuffer(t)?"buffer":"base64"),"file"==n.type&&(n.type=w?"buffer":"binary",i=function(t){if("undefined"!==typeof kt)return kt.readFileSync(t);if("undefined"!==typeof Deno)return Deno.readFileSync(t);if("undefined"!==typeof $&&"undefined"!==typeof File&&"undefined"!==typeof Folder)try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}(t),"undefined"===typeof Uint8Array||w||(n.type="array")),"string"==n.type&&(a=!0,n.type="binary",n.codepage=65001,i=function(t){return t.match(/[^\x00-\x7F]/)?Ee(t):t}(t)),"array"==n.type&&"undefined"!==typeof Uint8Array&&t instanceof Uint8Array&&"undefined"!==typeof ArrayBuffer){var o=new ArrayBuffer(3),s=new Uint8Array(o);if(s.foo="bar",!s.foo)return(n=Ht(n)).type="array",Il(M(i),n)}switch((r=Al(i,n))[0]){case 208:if(207===r[1]&&17===r[2]&&224===r[3]&&161===r[4]&&177===r[5]&&26===r[6]&&225===r[7])return function(t,e){return Et.find(t,"EncryptedPackage")?Ml(t,e):Us(t,e)}(Et.read(i,n),n);break;case 9:if(r[1]<=8)return Us(i,n);break;case 60:return Is(i,n);case 73:if(73===r[1]&&42===r[2]&&0===r[3])throw new Error("TIFF Image File is not a spreadsheet");if(68===r[1])return function(t,e){var n=e||{},r=!!n.WTF;n.WTF=!0;try{var i=Oi.to_workbook(t,n);return n.WTF=r,i}catch(a){if(n.WTF=r,!a.message.match(/SYLK bad record ID/)&&r)throw a;return Pi.to_workbook(t,e)}}(i,n);break;case 84:if(65===r[1]&&66===r[2]&&76===r[3])return Fi.to_workbook(i,n);break;case 80:return 75===r[1]&&r[2]<9&&r[3]<9?function(t,e){var n=t,r=e||{};return r.type||(r.type=w&&Buffer.isBuffer(t)?"buffer":"base64"),kl(ne(n,r),r)}(i,n):Fl(t,i,n,a);case 239:return 60===r[3]?Is(i,n):Fl(t,i,n,a);case 255:if(254===r[1])return function(t,e){var n=t;return"base64"==e.type&&(n=b(n)),n=p.utils.decode(1200,n.slice(2),"str"),e.type="binary",Ol(n,e)}(i,n);if(0===r[1]&&2===r[2]&&0===r[3])return Di.to_workbook(i,n);break;case 0:if(0===r[1]){if(r[2]>=2&&0===r[3])return Di.to_workbook(i,n);if(0===r[2]&&(8===r[3]||9===r[3]))return Di.to_workbook(i,n)}break;case 3:case 131:case 139:case 140:return Ai.to_workbook(i,n);case 123:if(92===r[1]&&114===r[2]&&116===r[3])return na.to_workbook(i,n);break;case 10:case 13:case 32:return function(t,e){var n="",r=Al(t,e);switch(e.type){case"base64":n=b(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=zt(t);break;default:throw new Error("Unrecognized type "+e.type)}return 239==r[0]&&187==r[1]&&191==r[2]&&(n=Te(n)),e.type="binary",Ol(n,e)}(i,n);case 137:if(80===r[1]&&78===r[2]&&71===r[3])throw new Error("PNG Image File is not a spreadsheet")}return Mi.indexOf(r[0])>-1&&r[2]<=12&&r[3]<=31?Ai.to_workbook(i,n):Fl(t,i,n,a)}function Pl(t,e,n,r,i,a,o,s){var l=Fn(n),c=s.defval,u=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),h=!0,f=1===i?[]:{};if(1!==i)if(Object.defineProperty)try{Object.defineProperty(f,"__rowNum__",{value:n,enumerable:!1})}catch(v){f.__rowNum__=n}else f.__rowNum__=n;if(!o||t[n])for(var p=e.s.c;p<=e.e.c;++p){var d=o?t[n][p]:t[r[p]+l];if(void 0!==d&&void 0!==d.t){var g=d.v;switch(d.t){case"z":if(null==g)break;continue;case"e":g=0==g?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+d.t)}if(null!=a[p]){if(null==g)if("e"==d.t&&null===g)f[a[p]]=null;else if(void 0!==c)f[a[p]]=c;else{if(!u||null!==g)continue;f[a[p]]=null}else f[a[p]]=u&&("n"!==d.t||"n"===d.t&&!1!==s.rawNumbers)?g:Un(d,g,s);null!=g&&(h=!1)}}else{if(void 0===c)continue;null!=a[p]&&(f[a[p]]=c)}}return{row:f,isempty:h}}function Dl(t,e){if(null==t||null==t["!ref"])return[];var n={t:"n",v:0},r=0,i=1,a=[],o=0,s="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},u=null!=c.range?c.range:t["!ref"];switch(1===c.header?r=1:"A"===c.header?r=2:Array.isArray(c.header)?r=3:null==c.header&&(r=0),typeof u){case"string":l=_n(u);break;case"number":(l=_n(t["!ref"])).s.r=u;break;default:l=u}r>0&&(i=0);var h=Fn(l.s.r),f=[],p=[],d=0,g=0,v=Array.isArray(t),y=l.s.r,m=0,x={};v&&!t[y]&&(t[y]=[]);var b=c.skipHidden&&t["!cols"]||[],w=c.skipHidden&&t["!rows"]||[];for(m=l.s.c;m<=l.e.c;++m)if(!(b[m]||{}).hidden)switch(f[m]=Pn(m),n=v?t[y][m]:t[f[m]+h],r){case 1:a[m]=m-l.s.c;break;case 2:a[m]=f[m];break;case 3:a[m]=c.header[m-l.s.c];break;default:if(null==n&&(n={w:"__EMPTY",t:"s"}),s=o=Un(n,null,c),g=x[o]||0){do{s=o+"_"+g++}while(x[s]);x[o]=g,x[s]=1}else x[o]=1;a[m]=s}for(y=l.s.r+i;y<=l.e.r;++y)if(!(w[y]||{}).hidden){var S=Pl(t,l,y,f,r,a,v,c);(!1===S.isempty||(1===r?!1!==c.blankrows:c.blankrows))&&(p[d++]=S.row)}return p.length=d,p}var Ll=/"/g;function Rl(t,e,n,r,i,a,o,s){for(var l=!0,c=[],u="",h=Fn(n),f=e.s.c;f<=e.e.c;++f)if(r[f]){var p=s.dense?(t[n]||[])[f]:t[r[f]+h];if(null==p)u="";else if(null!=p.v){l=!1,u=""+(s.rawNumbers&&"n"==p.t?p.v:Un(p,null,s));for(var d=0,g=0;d!==u.length;++d)if((g=u.charCodeAt(d))===i||g===a||34===g||s.forceQuotes){u='"'+u.replace(Ll,'""')+'"';break}"ID"==u&&(u='"ID"')}else null==p.f||p.F?u="":(l=!1,(u="="+p.f).indexOf(",")>=0&&(u='"'+u.replace(Ll,'""')+'"'));c.push(u)}return!1===s.blankrows&&l?null:c.join(o)}function Bl(t,e){var n=[],r=null==e?{}:e;if(null==t||null==t["!ref"])return"";var i=_n(t["!ref"]),a=void 0!==r.FS?r.FS:",",o=a.charCodeAt(0),s=void 0!==r.RS?r.RS:"\n",l=s.charCodeAt(0),c=new RegExp(("|"==a?"\\|":a)+"+$"),u="",h=[];r.dense=Array.isArray(t);for(var f=r.skipHidden&&t["!cols"]||[],p=r.skipHidden&&t["!rows"]||[],d=i.s.c;d<=i.e.c;++d)(f[d]||{}).hidden||(h[d]=Pn(d));for(var g=0,v=i.s.r;v<=i.e.r;++v)(p[v]||{}).hidden||null!=(u=Rl(t,i,v,h,o,l,a,r))&&(r.strip&&(u=u.replace(c,"")),(u||!1!==r.blankrows)&&n.push((g++?s:"")+u));return delete r.dense,n.join("")}function _l(t,e){e||(e={}),e.FS="\t",e.RS="\n";var n=Bl(t,e);if("undefined"==typeof p||"string"==e.type)return n;var r=p.utils.encode(1200,n,"str");return String.fromCharCode(255)+String.fromCharCode(254)+r}function Nl(t,e,n){var r,i=n||{},a=+!i.skipHeader,o=t||{},s=0,l=0;if(o&&null!=i.origin)if("number"==typeof i.origin)s=i.origin;else{var c="string"==typeof i.origin?Dn(i.origin):i.origin;s=c.r,l=c.c}var u={s:{c:0,r:0},e:{c:l,r:s+e.length-1+a}};if(o["!ref"]){var h=_n(o["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),-1==s&&(s=h.e.r+1,u.e.r=s+e.length-1+a)}else-1==s&&(s=0,u.e.r=e.length-1+a);var f=i.header||[],p=0;e.forEach((function(t,e){Mt(t).forEach((function(n){-1==(p=f.indexOf(n))&&(f[p=f.length]=n);var c=t[n],u="z",h="",d=Ln({c:l+p,r:s+e+a});r=Ul(o,d),!c||"object"!==typeof c||c instanceof Date?("number"==typeof c?u="n":"boolean"==typeof c?u="b":"string"==typeof c?u="s":c instanceof Date?(u="d",i.cellDates||(u="n",c=Ft(c)),h=i.dateNF||z[14]):null===c&&i.nullError&&(u="e",c=0),r?(r.t=u,r.v=c,delete r.w,delete r.R,h&&(r.z=h)):o[d]=r={t:u,v:c},h&&(r.z=h)):o[d]=c}))})),u.e.c=Math.max(u.e.c,l+f.length-1);var d=Fn(s);if(a)for(p=0;p<f.length;++p)o[Pn(p+l)+d]={t:"s",v:f[p]};return o["!ref"]=Bn(u),o}function Ul(t,e,n){if("string"==typeof e){if(Array.isArray(t)){var r=Dn(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return Ul(t,Ln("number"!=typeof e?e:{r:e,c:n||0}))}function zl(){return{SheetNames:[],Sheets:{}}}function Hl(t,e,n,r){var i=1;if(!n)for(;i<=65535&&-1!=t.SheetNames.indexOf(n="Sheet"+i);++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var a=n.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var o=a&&a[1]||n;for(++i;i<=65535&&-1!=t.SheetNames.indexOf(n=o+i);++i);}if(ls(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function Vl(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}var Gl={encode_col:Pn,encode_row:Fn,encode_cell:Ln,encode_range:Bn,decode_col:In,decode_row:On,split_cell:function(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:Dn,decode_range:Rn,format_cell:Un,sheet_add_aoa:Hn,sheet_add_json:Nl,sheet_add_dom:qs,aoa_to_sheet:Vn,json_to_sheet:function(t,e){return Nl(null,t,e)},table_to_sheet:Zs,table_to_book:function(t,e){return zn(Zs(t,e),e)},sheet_to_csv:Bl,sheet_to_txt:_l,sheet_to_json:Dl,sheet_to_html:$s,sheet_to_formulae:function(t){var e,n="",r="";if(null==t||null==t["!ref"])return[];var i,a=_n(t["!ref"]),o="",s=[],l=[],c=Array.isArray(t);for(i=a.s.c;i<=a.e.c;++i)s[i]=Pn(i);for(var u=a.s.r;u<=a.e.r;++u)for(o=Fn(u),i=a.s.c;i<=a.e.c;++i)if(n=s[i]+o,r="",void 0!==(e=c?(t[u]||[])[i]:t[n])){if(null!=e.F){if(n=e.F,!e.f)continue;r=e.f,-1==n.indexOf(":")&&(n=n+":"+n)}if(null!=e.f)r=e.f;else{if("z"==e.t)continue;if("n"==e.t&&null!=e.v)r=""+e.v;else if("b"==e.t)r=e.v?"TRUE":"FALSE";else if(void 0!==e.w)r="'"+e.w;else{if(void 0===e.v)continue;r="s"==e.t?"'"+e.v:""+e.v}}l[l.length]=n+"="+r}return l},sheet_to_row_object_array:Dl,sheet_get_cell:Ul,book_new:zl,book_append_sheet:Hl,book_set_sheet_visibility:function(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=function(t,e){if("number"==typeof e){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}if("string"==typeof e){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}throw new Error("Cannot find sheet |"+e+"|")}(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n},cell_set_number_format:function(t,e){return t.z=e,t},cell_set_hyperlink:Vl,cell_set_internal_link:function(t,e,n){return Vl(t,"#"+e,n)},cell_add_comment:function(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})},sheet_set_array_formula:function(t,e,n,r){for(var i="string"!=typeof e?e:_n(e),a="string"==typeof e?e:Bn(e),o=i.s.r;o<=i.e.r;++o)for(var s=i.s.c;s<=i.e.c;++s){var l=Ul(t,o,s);l.t="n",l.F=a,delete l.v,o==i.s.r&&s==i.s.c&&(l.f=n,r&&(l.D=!0))}return t},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};r.version}}]);
//# sourceMappingURL=405.ae5da5dc.chunk.js.map